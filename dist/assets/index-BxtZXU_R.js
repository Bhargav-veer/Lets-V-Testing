function Zw(n,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(s,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function Cv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var uf={exports:{}},nl={},cf={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function eT(){if(wy)return Pe;wy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function T(F){return F===null||typeof F!="object"?null:(F=E&&F[E]||F["@@iterator"],typeof F=="function"?F:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,O={};function C(F,Y,ge){this.props=F,this.context=Y,this.refs=O,this.updater=ge||L}C.prototype.isReactComponent={},C.prototype.setState=function(F,Y){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,Y,"setState")},C.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function q(){}q.prototype=C.prototype;function U(F,Y,ge){this.props=F,this.context=Y,this.refs=O,this.updater=ge||L}var W=U.prototype=new q;W.constructor=U,b(W,C.prototype),W.isPureReactComponent=!0;var X=Array.isArray,oe=Object.prototype.hasOwnProperty,de={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function S(F,Y,ge){var Ce,Re={},Le=null,ze=null;if(Y!=null)for(Ce in Y.ref!==void 0&&(ze=Y.ref),Y.key!==void 0&&(Le=""+Y.key),Y)oe.call(Y,Ce)&&!N.hasOwnProperty(Ce)&&(Re[Ce]=Y[Ce]);var He=arguments.length-2;if(He===1)Re.children=ge;else if(1<He){for(var $e=Array(He),Ct=0;Ct<He;Ct++)$e[Ct]=arguments[Ct+2];Re.children=$e}if(F&&F.defaultProps)for(Ce in He=F.defaultProps,He)Re[Ce]===void 0&&(Re[Ce]=He[Ce]);return{$$typeof:n,type:F,key:Le,ref:ze,props:Re,_owner:de.current}}function x(F,Y){return{$$typeof:n,type:F.type,key:Y,ref:F.ref,props:F.props,_owner:F._owner}}function k(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function D(F){var Y={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ge){return Y[ge]})}var M=/\/+/g;function P(F,Y){return typeof F=="object"&&F!==null&&F.key!=null?D(""+F.key):Y.toString(36)}function Ye(F,Y,ge,Ce,Re){var Le=typeof F;(Le==="undefined"||Le==="boolean")&&(F=null);var ze=!1;if(F===null)ze=!0;else switch(Le){case"string":case"number":ze=!0;break;case"object":switch(F.$$typeof){case n:case e:ze=!0}}if(ze)return ze=F,Re=Re(ze),F=Ce===""?"."+P(ze,0):Ce,X(Re)?(ge="",F!=null&&(ge=F.replace(M,"$&/")+"/"),Ye(Re,Y,ge,"",function(Ct){return Ct})):Re!=null&&(k(Re)&&(Re=x(Re,ge+(!Re.key||ze&&ze.key===Re.key?"":(""+Re.key).replace(M,"$&/")+"/")+F)),Y.push(Re)),1;if(ze=0,Ce=Ce===""?".":Ce+":",X(F))for(var He=0;He<F.length;He++){Le=F[He];var $e=Ce+P(Le,He);ze+=Ye(Le,Y,ge,$e,Re)}else if($e=T(F),typeof $e=="function")for(F=$e.call(F),He=0;!(Le=F.next()).done;)Le=Le.value,$e=Ce+P(Le,He++),ze+=Ye(Le,Y,ge,$e,Re);else if(Le==="object")throw Y=String(F),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return ze}function yt(F,Y,ge){if(F==null)return F;var Ce=[],Re=0;return Ye(F,Ce,"","",function(Le){return Y.call(ge,Le,Re++)}),Ce}function At(F){if(F._status===-1){var Y=F._result;Y=Y(),Y.then(function(ge){(F._status===0||F._status===-1)&&(F._status=1,F._result=ge)},function(ge){(F._status===0||F._status===-1)&&(F._status=2,F._result=ge)}),F._status===-1&&(F._status=0,F._result=Y)}if(F._status===1)return F._result.default;throw F._result}var Fe={current:null},se={transition:null},ye={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:se,ReactCurrentOwner:de};function le(){throw Error("act(...) is not supported in production builds of React.")}return Pe.Children={map:yt,forEach:function(F,Y,ge){yt(F,function(){Y.apply(this,arguments)},ge)},count:function(F){var Y=0;return yt(F,function(){Y++}),Y},toArray:function(F){return yt(F,function(Y){return Y})||[]},only:function(F){if(!k(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Pe.Component=C,Pe.Fragment=t,Pe.Profiler=o,Pe.PureComponent=U,Pe.StrictMode=s,Pe.Suspense=p,Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,Pe.act=le,Pe.cloneElement=function(F,Y,ge){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var Ce=b({},F.props),Re=F.key,Le=F.ref,ze=F._owner;if(Y!=null){if(Y.ref!==void 0&&(Le=Y.ref,ze=de.current),Y.key!==void 0&&(Re=""+Y.key),F.type&&F.type.defaultProps)var He=F.type.defaultProps;for($e in Y)oe.call(Y,$e)&&!N.hasOwnProperty($e)&&(Ce[$e]=Y[$e]===void 0&&He!==void 0?He[$e]:Y[$e])}var $e=arguments.length-2;if($e===1)Ce.children=ge;else if(1<$e){He=Array($e);for(var Ct=0;Ct<$e;Ct++)He[Ct]=arguments[Ct+2];Ce.children=He}return{$$typeof:n,type:F.type,key:Re,ref:Le,props:Ce,_owner:ze}},Pe.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:a,_context:F},F.Consumer=F},Pe.createElement=S,Pe.createFactory=function(F){var Y=S.bind(null,F);return Y.type=F,Y},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(F){return{$$typeof:d,render:F}},Pe.isValidElement=k,Pe.lazy=function(F){return{$$typeof:v,_payload:{_status:-1,_result:F},_init:At}},Pe.memo=function(F,Y){return{$$typeof:y,type:F,compare:Y===void 0?null:Y}},Pe.startTransition=function(F){var Y=se.transition;se.transition={};try{F()}finally{se.transition=Y}},Pe.unstable_act=le,Pe.useCallback=function(F,Y){return Fe.current.useCallback(F,Y)},Pe.useContext=function(F){return Fe.current.useContext(F)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(F){return Fe.current.useDeferredValue(F)},Pe.useEffect=function(F,Y){return Fe.current.useEffect(F,Y)},Pe.useId=function(){return Fe.current.useId()},Pe.useImperativeHandle=function(F,Y,ge){return Fe.current.useImperativeHandle(F,Y,ge)},Pe.useInsertionEffect=function(F,Y){return Fe.current.useInsertionEffect(F,Y)},Pe.useLayoutEffect=function(F,Y){return Fe.current.useLayoutEffect(F,Y)},Pe.useMemo=function(F,Y){return Fe.current.useMemo(F,Y)},Pe.useReducer=function(F,Y,ge){return Fe.current.useReducer(F,Y,ge)},Pe.useRef=function(F){return Fe.current.useRef(F)},Pe.useState=function(F){return Fe.current.useState(F)},Pe.useSyncExternalStore=function(F,Y,ge){return Fe.current.useSyncExternalStore(F,Y,ge)},Pe.useTransition=function(){return Fe.current.useTransition()},Pe.version="18.3.1",Pe}var Ty;function vp(){return Ty||(Ty=1,cf.exports=eT()),cf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function tT(){if(Iy)return nl;Iy=1;var n=vp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,y){var v,E={},T=null,L=null;y!==void 0&&(T=""+y),p.key!==void 0&&(T=""+p.key),p.ref!==void 0&&(L=p.ref);for(v in p)s.call(p,v)&&!a.hasOwnProperty(v)&&(E[v]=p[v]);if(d&&d.defaultProps)for(v in p=d.defaultProps,p)E[v]===void 0&&(E[v]=p[v]);return{$$typeof:e,type:d,key:T,ref:L,props:E,_owner:o.current}}return nl.Fragment=t,nl.jsx=c,nl.jsxs=c,nl}var Sy;function nT(){return Sy||(Sy=1,uf.exports=tT()),uf.exports}var _=nT(),H=vp();const Ue=Cv(H),rT=Zw({__proto__:null,default:Ue},[H]);var hc={},hf={exports:{}},un={},df={exports:{}},ff={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function sT(){return xy||(xy=1,(function(n){function e(se,ye){var le=se.length;se.push(ye);e:for(;0<le;){var F=le-1>>>1,Y=se[F];if(0<o(Y,ye))se[F]=ye,se[le]=Y,le=F;else break e}}function t(se){return se.length===0?null:se[0]}function s(se){if(se.length===0)return null;var ye=se[0],le=se.pop();if(le!==ye){se[0]=le;e:for(var F=0,Y=se.length,ge=Y>>>1;F<ge;){var Ce=2*(F+1)-1,Re=se[Ce],Le=Ce+1,ze=se[Le];if(0>o(Re,le))Le<Y&&0>o(ze,Re)?(se[F]=ze,se[Le]=le,F=Le):(se[F]=Re,se[Ce]=le,F=Ce);else if(Le<Y&&0>o(ze,le))se[F]=ze,se[Le]=le,F=Le;else break e}}return ye}function o(se,ye){var le=se.sortIndex-ye.sortIndex;return le!==0?le:se.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],y=[],v=1,E=null,T=3,L=!1,b=!1,O=!1,C=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function W(se){for(var ye=t(y);ye!==null;){if(ye.callback===null)s(y);else if(ye.startTime<=se)s(y),ye.sortIndex=ye.expirationTime,e(p,ye);else break;ye=t(y)}}function X(se){if(O=!1,W(se),!b)if(t(p)!==null)b=!0,At(oe);else{var ye=t(y);ye!==null&&Fe(X,ye.startTime-se)}}function oe(se,ye){b=!1,O&&(O=!1,q(S),S=-1),L=!0;var le=T;try{for(W(ye),E=t(p);E!==null&&(!(E.expirationTime>ye)||se&&!D());){var F=E.callback;if(typeof F=="function"){E.callback=null,T=E.priorityLevel;var Y=F(E.expirationTime<=ye);ye=n.unstable_now(),typeof Y=="function"?E.callback=Y:E===t(p)&&s(p),W(ye)}else s(p);E=t(p)}if(E!==null)var ge=!0;else{var Ce=t(y);Ce!==null&&Fe(X,Ce.startTime-ye),ge=!1}return ge}finally{E=null,T=le,L=!1}}var de=!1,N=null,S=-1,x=5,k=-1;function D(){return!(n.unstable_now()-k<x)}function M(){if(N!==null){var se=n.unstable_now();k=se;var ye=!0;try{ye=N(!0,se)}finally{ye?P():(de=!1,N=null)}}else de=!1}var P;if(typeof U=="function")P=function(){U(M)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,yt=Ye.port2;Ye.port1.onmessage=M,P=function(){yt.postMessage(null)}}else P=function(){C(M,0)};function At(se){N=se,de||(de=!0,P())}function Fe(se,ye){S=C(function(){se(n.unstable_now())},ye)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){b||L||(b=!0,At(oe))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(se){switch(T){case 1:case 2:case 3:var ye=3;break;default:ye=T}var le=T;T=ye;try{return se()}finally{T=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,ye){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var le=T;T=se;try{return ye()}finally{T=le}},n.unstable_scheduleCallback=function(se,ye,le){var F=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?F+le:F):le=F,se){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=le+Y,se={id:v++,callback:ye,priorityLevel:se,startTime:le,expirationTime:Y,sortIndex:-1},le>F?(se.sortIndex=le,e(y,se),t(p)===null&&se===t(y)&&(O?(q(S),S=-1):O=!0,Fe(X,le-F))):(se.sortIndex=Y,e(p,se),b||L||(b=!0,At(oe))),se},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(se){var ye=T;return function(){var le=T;T=ye;try{return se.apply(this,arguments)}finally{T=le}}}})(ff)),ff}var Cy;function iT(){return Cy||(Cy=1,df.exports=sT()),df.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function oT(){if(Ry)return un;Ry=1;var n=vp(),e=iT();function t(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function a(r,i){c(r,i),c(r+"Capture",i)}function c(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},E={};function T(r){return p.call(E,r)?!0:p.call(v,r)?!1:y.test(r)?E[r]=!0:(v[r]=!0,!1)}function L(r,i,l,h){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function b(r,i,l,h){if(i===null||typeof i>"u"||L(r,i,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function O(r,i,l,h,f,g,w){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=r,this.type=i,this.sanitizeURL=g,this.removeEmptyString=w}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){C[r]=new O(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];C[i]=new O(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){C[r]=new O(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){C[r]=new O(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){C[r]=new O(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){C[r]=new O(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){C[r]=new O(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){C[r]=new O(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){C[r]=new O(r,5,!1,r.toLowerCase(),null,!1,!1)});var q=/[\-:]([a-z])/g;function U(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(q,U);C[i]=new O(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(q,U);C[i]=new O(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(q,U);C[i]=new O(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){C[r]=new O(r,1,!1,r.toLowerCase(),null,!1,!1)}),C.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){C[r]=new O(r,1,!1,r.toLowerCase(),null,!0,!0)});function W(r,i,l,h){var f=C.hasOwnProperty(i)?C[i]:null;(f!==null?f.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(b(i,l,f,h)&&(l=null),h||f===null?T(i)&&(l===null?r.removeAttribute(i):r.setAttribute(i,""+l)):f.mustUseProperty?r[f.propertyName]=l===null?f.type===3?!1:"":l:(i=f.attributeName,h=f.attributeNamespace,l===null?r.removeAttribute(i):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,h?r.setAttributeNS(h,i,l):r.setAttribute(i,l))))}var X=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oe=Symbol.for("react.element"),de=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),D=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),Ye=Symbol.for("react.suspense_list"),yt=Symbol.for("react.memo"),At=Symbol.for("react.lazy"),Fe=Symbol.for("react.offscreen"),se=Symbol.iterator;function ye(r){return r===null||typeof r!="object"?null:(r=se&&r[se]||r["@@iterator"],typeof r=="function"?r:null)}var le=Object.assign,F;function Y(r){if(F===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);F=i&&i[1]||""}return`
`+F+r}var ge=!1;function Ce(r,i){if(!r||ge)return"";ge=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(K){var h=K}Reflect.construct(r,[],i)}else{try{i.call()}catch(K){h=K}r.call(i.prototype)}else{try{throw Error()}catch(K){h=K}r()}}catch(K){if(K&&h&&typeof K.stack=="string"){for(var f=K.stack.split(`
`),g=h.stack.split(`
`),w=f.length-1,R=g.length-1;1<=w&&0<=R&&f[w]!==g[R];)R--;for(;1<=w&&0<=R;w--,R--)if(f[w]!==g[R]){if(w!==1||R!==1)do if(w--,R--,0>R||f[w]!==g[R]){var V=`
`+f[w].replace(" at new "," at ");return r.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",r.displayName)),V}while(1<=w&&0<=R);break}}}finally{ge=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?Y(r):""}function Re(r){switch(r.tag){case 5:return Y(r.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return r=Ce(r.type,!1),r;case 11:return r=Ce(r.type.render,!1),r;case 1:return r=Ce(r.type,!0),r;default:return""}}function Le(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case N:return"Fragment";case de:return"Portal";case x:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case Ye:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case D:return(r.displayName||"Context")+".Consumer";case k:return(r._context.displayName||"Context")+".Provider";case M:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case yt:return i=r.displayName||null,i!==null?i:Le(r.type)||"Memo";case At:i=r._payload,r=r._init;try{return Le(r(i))}catch{}}return null}function ze(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(i);case 8:return i===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function He(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function $e(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ct(r){var i=$e(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),h=""+r[i];if(!r.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,g=l.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return f.call(this)},set:function(w){h=""+w,g.call(this,w)}}),Object.defineProperty(r,i,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(w){h=""+w},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function xr(r){r._valueTracker||(r._valueTracker=Ct(r))}function zi(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var l=i.getValue(),h="";return r&&(h=$e(r)?r.checked?"true":"false":r.value),r=h,r!==l?(i.setValue(r),!0):!1}function ns(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function $s(r,i){var l=i.checked;return le({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Hi(r,i){var l=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;l=He(i.value!=null?i.value:l),r._wrapperState={initialChecked:h,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function la(r,i){i=i.checked,i!=null&&W(r,"checked",i,!1)}function ua(r,i){la(r,i);var l=He(i.value),h=i.type;if(l!=null)h==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Wi(r,i.type,l):i.hasOwnProperty("defaultValue")&&Wi(r,i.type,He(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function Xl(r,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,l||i===r.value||(r.value=i),r.defaultValue=i}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Wi(r,i,l){(i!=="number"||ns(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Cr=Array.isArray;function Rr(r,i,l,h){if(r=r.options,i){i={};for(var f=0;f<l.length;f++)i["$"+l[f]]=!0;for(l=0;l<r.length;l++)f=i.hasOwnProperty("$"+r[l].value),r[l].selected!==f&&(r[l].selected=f),f&&h&&(r[l].defaultSelected=!0)}else{for(l=""+He(l),i=null,f=0;f<r.length;f++){if(r[f].value===l){r[f].selected=!0,h&&(r[f].defaultSelected=!0);return}i!==null||r[f].disabled||(i=r[f])}i!==null&&(i.selected=!0)}}function ca(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function qi(r,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(t(92));if(Cr(l)){if(1<l.length)throw Error(t(93));l=l[0]}i=l}i==null&&(i=""),l=i}r._wrapperState={initialValue:He(l)}}function Qi(r,i){var l=He(i.value),h=He(i.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),i.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),h!=null&&(r.defaultValue=""+h)}function ha(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function vt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _t(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?vt(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Pr,da=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,h,f){MSApp.execUnsafeLocalFunction(function(){return r(i,l,h,f)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(Pr=Pr||document.createElement("div"),Pr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Pr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function rs(r,i){if(i){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=i;return}}r.textContent=i}var Gs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xs=["Webkit","ms","Moz","O"];Object.keys(Gs).forEach(function(r){Xs.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),Gs[i]=Gs[r]})});function fa(r,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||Gs.hasOwnProperty(r)&&Gs[r]?(""+i).trim():i+"px"}function pa(r,i){r=r.style;for(var l in i)if(i.hasOwnProperty(l)){var h=l.indexOf("--")===0,f=fa(l,i[l],h);l==="float"&&(l="cssFloat"),h?r.setProperty(l,f):r[l]=f}}var ma=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ga(r,i){if(i){if(ma[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function ya(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Js=null;function Ki(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var $i=null,Tn=null,rr=null;function Gi(r){if(r=Ba(r)){if(typeof $i!="function")throw Error(t(280));var i=r.stateNode;i&&(i=xu(i),$i(r.stateNode,r.type,i))}}function sr(r){Tn?rr?rr.push(r):rr=[r]:Tn=r}function Aa(){if(Tn){var r=Tn,i=rr;if(rr=Tn=null,Gi(r),i)for(r=0;r<i.length;r++)Gi(i[r])}}function Ys(r,i){return r(i)}function va(){}var kr=!1;function _a(r,i,l){if(kr)return r(i,l);kr=!0;try{return Ys(r,i,l)}finally{kr=!1,(Tn!==null||rr!==null)&&(va(),Aa())}}function ct(r,i){var l=r.stateNode;if(l===null)return null;var h=xu(l);if(h===null)return null;l=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,i,typeof l));return l}var Xi=!1;if(d)try{var Mn={};Object.defineProperty(Mn,"passive",{get:function(){Xi=!0}}),window.addEventListener("test",Mn,Mn),window.removeEventListener("test",Mn,Mn)}catch{Xi=!1}function Zs(r,i,l,h,f,g,w,R,V){var K=Array.prototype.slice.call(arguments,3);try{i.apply(l,K)}catch(te){this.onError(te)}}var ei=!1,Ji=null,jn=!1,Ea=null,Vh={onError:function(r){ei=!0,Ji=r}};function Yi(r,i,l,h,f,g,w,R,V){ei=!1,Ji=null,Zs.apply(Vh,arguments)}function Jl(r,i,l,h,f,g,w,R,V){if(Yi.apply(this,arguments),ei){if(ei){var K=Ji;ei=!1,Ji=null}else throw Error(t(198));jn||(jn=!0,Ea=K)}}function Un(r){var i=r,l=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(l=i.return),r=i.return;while(r)}return i.tag===3?l:null}function ti(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function Fn(r){if(Un(r)!==r)throw Error(t(188))}function Yl(r){var i=r.alternate;if(!i){if(i=Un(r),i===null)throw Error(t(188));return i!==r?null:r}for(var l=r,h=i;;){var f=l.return;if(f===null)break;var g=f.alternate;if(g===null){if(h=f.return,h!==null){l=h;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===l)return Fn(f),r;if(g===h)return Fn(f),i;g=g.sibling}throw Error(t(188))}if(l.return!==h.return)l=f,h=g;else{for(var w=!1,R=f.child;R;){if(R===l){w=!0,l=f,h=g;break}if(R===h){w=!0,h=f,l=g;break}R=R.sibling}if(!w){for(R=g.child;R;){if(R===l){w=!0,l=g,h=f;break}if(R===h){w=!0,h=g,l=f;break}R=R.sibling}if(!w)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:i}function wa(r){return r=Yl(r),r!==null?Zi(r):null}function Zi(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=Zi(r);if(i!==null)return i;r=r.sibling}return null}var eo=e.unstable_scheduleCallback,Ta=e.unstable_cancelCallback,Zl=e.unstable_shouldYield,Mh=e.unstable_requestPaint,Ge=e.unstable_now,eu=e.unstable_getCurrentPriorityLevel,ni=e.unstable_ImmediatePriority,ss=e.unstable_UserBlockingPriority,In=e.unstable_NormalPriority,Ia=e.unstable_LowPriority,tu=e.unstable_IdlePriority,ri=null,mn=null;function nu(r){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(ri,r,void 0,(r.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:su,Sa=Math.log,ru=Math.LN2;function su(r){return r>>>=0,r===0?32:31-(Sa(r)/ru|0)|0}var to=64,no=4194304;function is(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function si(r,i){var l=r.pendingLanes;if(l===0)return 0;var h=0,f=r.suspendedLanes,g=r.pingedLanes,w=l&268435455;if(w!==0){var R=w&~f;R!==0?h=is(R):(g&=w,g!==0&&(h=is(g)))}else w=l&~f,w!==0?h=is(w):g!==0&&(h=is(g));if(h===0)return 0;if(i!==0&&i!==h&&(i&f)===0&&(f=h&-h,g=i&-i,f>=g||f===16&&(g&4194240)!==0))return i;if((h&4)!==0&&(h|=l&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=h;0<i;)l=31-Gt(i),f=1<<l,h|=r[l],i&=~f;return h}function jh(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nr(r,i){for(var l=r.suspendedLanes,h=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var w=31-Gt(g),R=1<<w,V=f[w];V===-1?((R&l)===0||(R&h)!==0)&&(f[w]=jh(R,i)):V<=i&&(r.expiredLanes|=R),g&=~R}}function gn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function ii(){var r=to;return to<<=1,(to&4194240)===0&&(to=64),r}function os(r){for(var i=[],l=0;31>l;l++)i.push(r);return i}function as(r,i,l){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-Gt(i),r[i]=l}function Qe(r,i){var l=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<l;){var f=31-Gt(l),g=1<<f;i[f]=0,h[f]=-1,r[f]=-1,l&=~g}}function ls(r,i){var l=r.entangledLanes|=i;for(r=r.entanglements;l;){var h=31-Gt(l),f=1<<h;f&i|r[h]&i&&(r[h]|=i),l&=~f}}var De=0;function us(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var iu,ro,ou,au,lu,xa=!1,ir=[],Ot=null,Bn=null,zn=null,cs=new Map,Sn=new Map,or=[],Uh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uu(r,i){switch(r){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":cs.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sn.delete(i.pointerId)}}function tn(r,i,l,h,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:i,domEventName:l,eventSystemFlags:h,nativeEvent:g,targetContainers:[f]},i!==null&&(i=Ba(i),i!==null&&ro(i)),r):(r.eventSystemFlags|=h,i=r.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),r)}function Fh(r,i,l,h,f){switch(i){case"focusin":return Ot=tn(Ot,r,i,l,h,f),!0;case"dragenter":return Bn=tn(Bn,r,i,l,h,f),!0;case"mouseover":return zn=tn(zn,r,i,l,h,f),!0;case"pointerover":var g=f.pointerId;return cs.set(g,tn(cs.get(g)||null,r,i,l,h,f)),!0;case"gotpointercapture":return g=f.pointerId,Sn.set(g,tn(Sn.get(g)||null,r,i,l,h,f)),!0}return!1}function cu(r){var i=ci(r.target);if(i!==null){var l=Un(i);if(l!==null){if(i=l.tag,i===13){if(i=ti(l),i!==null){r.blockedOn=i,lu(r.priority,function(){ou(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function br(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var l=so(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);Js=h,l.target.dispatchEvent(h),Js=null}else return i=Ba(l),i!==null&&ro(i),r.blockedOn=l,!1;i.shift()}return!0}function oi(r,i,l){br(r)&&l.delete(i)}function hu(){xa=!1,Ot!==null&&br(Ot)&&(Ot=null),Bn!==null&&br(Bn)&&(Bn=null),zn!==null&&br(zn)&&(zn=null),cs.forEach(oi),Sn.forEach(oi)}function Hn(r,i){r.blockedOn===i&&(r.blockedOn=null,xa||(xa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,hu)))}function Wn(r){function i(f){return Hn(f,r)}if(0<ir.length){Hn(ir[0],r);for(var l=1;l<ir.length;l++){var h=ir[l];h.blockedOn===r&&(h.blockedOn=null)}}for(Ot!==null&&Hn(Ot,r),Bn!==null&&Hn(Bn,r),zn!==null&&Hn(zn,r),cs.forEach(i),Sn.forEach(i),l=0;l<or.length;l++)h=or[l],h.blockedOn===r&&(h.blockedOn=null);for(;0<or.length&&(l=or[0],l.blockedOn===null);)cu(l),l.blockedOn===null&&or.shift()}var Or=X.ReactCurrentBatchConfig,hs=!0;function nt(r,i,l,h){var f=De,g=Or.transition;Or.transition=null;try{De=1,Ca(r,i,l,h)}finally{De=f,Or.transition=g}}function Bh(r,i,l,h){var f=De,g=Or.transition;Or.transition=null;try{De=4,Ca(r,i,l,h)}finally{De=f,Or.transition=g}}function Ca(r,i,l,h){if(hs){var f=so(r,i,l,h);if(f===null)Yh(r,i,h,ai,l),uu(r,h);else if(Fh(f,r,i,l,h))h.stopPropagation();else if(uu(r,h),i&4&&-1<Uh.indexOf(r)){for(;f!==null;){var g=Ba(f);if(g!==null&&iu(g),g=so(r,i,l,h),g===null&&Yh(r,i,h,ai,l),g===f)break;f=g}f!==null&&h.stopPropagation()}else Yh(r,i,h,null,l)}}var ai=null;function so(r,i,l,h){if(ai=null,r=Ki(h),r=ci(r),r!==null)if(i=Un(r),i===null)r=null;else if(l=i.tag,l===13){if(r=ti(i),r!==null)return r;r=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return ai=r,null}function Ra(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eu()){case ni:return 1;case ss:return 4;case In:case Ia:return 16;case tu:return 536870912;default:return 16}default:return 16}}var yn=null,io=null,nn=null;function Pa(){if(nn)return nn;var r,i=io,l=i.length,h,f="value"in yn?yn.value:yn.textContent,g=f.length;for(r=0;r<l&&i[r]===f[r];r++);var w=l-r;for(h=1;h<=w&&i[l-h]===f[g-h];h++);return nn=f.slice(r,1<h?1-h:void 0)}function oo(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function ar(){return!0}function ka(){return!1}function Dt(r){function i(l,h,f,g,w){this._reactName=l,this._targetInst=f,this.type=h,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(l=r[R],this[R]=l?l(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ar:ka,this.isPropagationStopped=ka,this}return le(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ar)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ar)},persist:function(){},isPersistent:ar}),i}var qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ao=Dt(qn),lr=le({},qn,{view:0,detail:0}),zh=Dt(lr),lo,Dr,ds,li=le({},lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ur,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ds&&(ds&&r.type==="mousemove"?(lo=r.screenX-ds.screenX,Dr=r.screenY-ds.screenY):Dr=lo=0,ds=r),lo)},movementY:function(r){return"movementY"in r?r.movementY:Dr}}),uo=Dt(li),Na=le({},li,{dataTransfer:0}),du=Dt(Na),co=le({},lr,{relatedTarget:0}),ho=Dt(co),fu=le({},qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Lr=Dt(fu),pu=le({},qn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),mu=Dt(pu),gu=le({},qn,{data:0}),ba=Dt(gu),fo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=yu[r])?!!i[r]:!1}function ur(){return Au}var u=le({},lr,{key:function(r){if(r.key){var i=fo[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=oo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Xt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ur,charCode:function(r){return r.type==="keypress"?oo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?oo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Dt(u),A=le({},li,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Dt(A),B=le({},lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ur}),$=Dt(B),ie=le({},qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),qe=Dt(ie),Et=le({},li,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ve=Dt(Et),Rt=[9,13,27,32],ft=d&&"CompositionEvent"in window,xn=null;d&&"documentMode"in document&&(xn=document.documentMode);var An=d&&"TextEvent"in window&&!xn,ui=d&&(!ft||xn&&8<xn&&11>=xn),po=" ",gm=!1;function ym(r,i){switch(r){case"keyup":return Rt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Am(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var mo=!1;function XE(r,i){switch(r){case"compositionend":return Am(i);case"keypress":return i.which!==32?null:(gm=!0,po);case"textInput":return r=i.data,r===po&&gm?null:r;default:return null}}function JE(r,i){if(mo)return r==="compositionend"||!ft&&ym(r,i)?(r=Pa(),nn=io=yn=null,mo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ui&&i.locale!=="ko"?null:i.data;default:return null}}var YE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vm(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!YE[r.type]:i==="textarea"}function _m(r,i,l,h){sr(h),i=Tu(i,"onChange"),0<i.length&&(l=new ao("onChange","change",null,l,h),r.push({event:l,listeners:i}))}var Oa=null,Da=null;function ZE(r){jm(r,0)}function vu(r){var i=_o(r);if(zi(i))return r}function ew(r,i){if(r==="change")return i}var Em=!1;if(d){var Hh;if(d){var Wh="oninput"in document;if(!Wh){var wm=document.createElement("div");wm.setAttribute("oninput","return;"),Wh=typeof wm.oninput=="function"}Hh=Wh}else Hh=!1;Em=Hh&&(!document.documentMode||9<document.documentMode)}function Tm(){Oa&&(Oa.detachEvent("onpropertychange",Im),Da=Oa=null)}function Im(r){if(r.propertyName==="value"&&vu(Da)){var i=[];_m(i,Da,r,Ki(r)),_a(ZE,i)}}function tw(r,i,l){r==="focusin"?(Tm(),Oa=i,Da=l,Oa.attachEvent("onpropertychange",Im)):r==="focusout"&&Tm()}function nw(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return vu(Da)}function rw(r,i){if(r==="click")return vu(i)}function sw(r,i){if(r==="input"||r==="change")return vu(i)}function iw(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Qn=typeof Object.is=="function"?Object.is:iw;function La(r,i){if(Qn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var l=Object.keys(r),h=Object.keys(i);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var f=l[h];if(!p.call(i,f)||!Qn(r[f],i[f]))return!1}return!0}function Sm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function xm(r,i){var l=Sm(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=i&&h>=i)return{node:l,offset:i-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Sm(l)}}function Cm(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Cm(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Rm(){for(var r=window,i=ns();i instanceof r.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)r=i.contentWindow;else break;i=ns(r.document)}return i}function qh(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function ow(r){var i=Rm(),l=r.focusedElem,h=r.selectionRange;if(i!==l&&l&&l.ownerDocument&&Cm(l.ownerDocument.documentElement,l)){if(h!==null&&qh(l)){if(i=h.start,r=h.end,r===void 0&&(r=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(r,l.value.length);else if(r=(i=l.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var f=l.textContent.length,g=Math.min(h.start,f);h=h.end===void 0?g:Math.min(h.end,f),!r.extend&&g>h&&(f=h,h=g,g=f),f=xm(l,g);var w=xm(l,h);f&&w&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),r.removeAllRanges(),g>h?(r.addRange(i),r.extend(w.node,w.offset)):(i.setEnd(w.node,w.offset),r.addRange(i)))}}for(i=[],r=l;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)r=i[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var aw=d&&"documentMode"in document&&11>=document.documentMode,go=null,Qh=null,Va=null,Kh=!1;function Pm(r,i,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Kh||go==null||go!==ns(h)||(h=go,"selectionStart"in h&&qh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Va&&La(Va,h)||(Va=h,h=Tu(Qh,"onSelect"),0<h.length&&(i=new ao("onSelect","select",null,i,l),r.push({event:i,listeners:h}),i.target=go)))}function _u(r,i){var l={};return l[r.toLowerCase()]=i.toLowerCase(),l["Webkit"+r]="webkit"+i,l["Moz"+r]="moz"+i,l}var yo={animationend:_u("Animation","AnimationEnd"),animationiteration:_u("Animation","AnimationIteration"),animationstart:_u("Animation","AnimationStart"),transitionend:_u("Transition","TransitionEnd")},$h={},km={};d&&(km=document.createElement("div").style,"AnimationEvent"in window||(delete yo.animationend.animation,delete yo.animationiteration.animation,delete yo.animationstart.animation),"TransitionEvent"in window||delete yo.transitionend.transition);function Eu(r){if($h[r])return $h[r];if(!yo[r])return r;var i=yo[r],l;for(l in i)if(i.hasOwnProperty(l)&&l in km)return $h[r]=i[l];return r}var Nm=Eu("animationend"),bm=Eu("animationiteration"),Om=Eu("animationstart"),Dm=Eu("transitionend"),Lm=new Map,Vm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fs(r,i){Lm.set(r,i),a(i,[r])}for(var Gh=0;Gh<Vm.length;Gh++){var Xh=Vm[Gh],lw=Xh.toLowerCase(),uw=Xh[0].toUpperCase()+Xh.slice(1);fs(lw,"on"+uw)}fs(Nm,"onAnimationEnd"),fs(bm,"onAnimationIteration"),fs(Om,"onAnimationStart"),fs("dblclick","onDoubleClick"),fs("focusin","onFocus"),fs("focusout","onBlur"),fs(Dm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ma));function Mm(r,i,l){var h=r.type||"unknown-event";r.currentTarget=l,Jl(h,i,void 0,r),r.currentTarget=null}function jm(r,i){i=(i&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],f=h.event;h=h.listeners;e:{var g=void 0;if(i)for(var w=h.length-1;0<=w;w--){var R=h[w],V=R.instance,K=R.currentTarget;if(R=R.listener,V!==g&&f.isPropagationStopped())break e;Mm(f,R,K),g=V}else for(w=0;w<h.length;w++){if(R=h[w],V=R.instance,K=R.currentTarget,R=R.listener,V!==g&&f.isPropagationStopped())break e;Mm(f,R,K),g=V}}}if(jn)throw r=Ea,jn=!1,Ea=null,r}function Ze(r,i){var l=i[sd];l===void 0&&(l=i[sd]=new Set);var h=r+"__bubble";l.has(h)||(Um(i,r,2,!1),l.add(h))}function Jh(r,i,l){var h=0;i&&(h|=4),Um(l,r,h,i)}var wu="_reactListening"+Math.random().toString(36).slice(2);function ja(r){if(!r[wu]){r[wu]=!0,s.forEach(function(l){l!=="selectionchange"&&(cw.has(l)||Jh(l,!1,r),Jh(l,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[wu]||(i[wu]=!0,Jh("selectionchange",!1,i))}}function Um(r,i,l,h){switch(Ra(i)){case 1:var f=nt;break;case 4:f=Bh;break;default:f=Ca}l=f.bind(null,i,l,r),f=void 0,!Xi||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),h?f!==void 0?r.addEventListener(i,l,{capture:!0,passive:f}):r.addEventListener(i,l,!0):f!==void 0?r.addEventListener(i,l,{passive:f}):r.addEventListener(i,l,!1)}function Yh(r,i,l,h,f){var g=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var R=h.stateNode.containerInfo;if(R===f||R.nodeType===8&&R.parentNode===f)break;if(w===4)for(w=h.return;w!==null;){var V=w.tag;if((V===3||V===4)&&(V=w.stateNode.containerInfo,V===f||V.nodeType===8&&V.parentNode===f))return;w=w.return}for(;R!==null;){if(w=ci(R),w===null)return;if(V=w.tag,V===5||V===6){h=g=w;continue e}R=R.parentNode}}h=h.return}_a(function(){var K=g,te=Ki(l),ne=[];e:{var Z=Lm.get(r);if(Z!==void 0){var ae=ao,he=r;switch(r){case"keypress":if(oo(l)===0)break e;case"keydown":case"keyup":ae=m;break;case"focusin":he="focus",ae=ho;break;case"focusout":he="blur",ae=ho;break;case"beforeblur":case"afterblur":ae=ho;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=$;break;case Nm:case bm:case Om:ae=Lr;break;case Dm:ae=qe;break;case"scroll":ae=zh;break;case"wheel":ae=Ve;break;case"copy":case"cut":case"paste":ae=mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=I}var fe=(i&4)!==0,ht=!fe&&r==="scroll",z=fe?Z!==null?Z+"Capture":null:Z;fe=[];for(var j=K,Q;j!==null;){Q=j;var re=Q.stateNode;if(Q.tag===5&&re!==null&&(Q=re,z!==null&&(re=ct(j,z),re!=null&&fe.push(Ua(j,re,Q)))),ht)break;j=j.return}0<fe.length&&(Z=new ae(Z,he,null,l,te),ne.push({event:Z,listeners:fe}))}}if((i&7)===0){e:{if(Z=r==="mouseover"||r==="pointerover",ae=r==="mouseout"||r==="pointerout",Z&&l!==Js&&(he=l.relatedTarget||l.fromElement)&&(ci(he)||he[Vr]))break e;if((ae||Z)&&(Z=te.window===te?te:(Z=te.ownerDocument)?Z.defaultView||Z.parentWindow:window,ae?(he=l.relatedTarget||l.toElement,ae=K,he=he?ci(he):null,he!==null&&(ht=Un(he),he!==ht||he.tag!==5&&he.tag!==6)&&(he=null)):(ae=null,he=K),ae!==he)){if(fe=uo,re="onMouseLeave",z="onMouseEnter",j="mouse",(r==="pointerout"||r==="pointerover")&&(fe=I,re="onPointerLeave",z="onPointerEnter",j="pointer"),ht=ae==null?Z:_o(ae),Q=he==null?Z:_o(he),Z=new fe(re,j+"leave",ae,l,te),Z.target=ht,Z.relatedTarget=Q,re=null,ci(te)===K&&(fe=new fe(z,j+"enter",he,l,te),fe.target=Q,fe.relatedTarget=ht,re=fe),ht=re,ae&&he)t:{for(fe=ae,z=he,j=0,Q=fe;Q;Q=Ao(Q))j++;for(Q=0,re=z;re;re=Ao(re))Q++;for(;0<j-Q;)fe=Ao(fe),j--;for(;0<Q-j;)z=Ao(z),Q--;for(;j--;){if(fe===z||z!==null&&fe===z.alternate)break t;fe=Ao(fe),z=Ao(z)}fe=null}else fe=null;ae!==null&&Fm(ne,Z,ae,fe,!1),he!==null&&ht!==null&&Fm(ne,ht,he,fe,!0)}}e:{if(Z=K?_o(K):window,ae=Z.nodeName&&Z.nodeName.toLowerCase(),ae==="select"||ae==="input"&&Z.type==="file")var pe=ew;else if(vm(Z))if(Em)pe=sw;else{pe=nw;var Ae=tw}else(ae=Z.nodeName)&&ae.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(pe=rw);if(pe&&(pe=pe(r,K))){_m(ne,pe,l,te);break e}Ae&&Ae(r,Z,K),r==="focusout"&&(Ae=Z._wrapperState)&&Ae.controlled&&Z.type==="number"&&Wi(Z,"number",Z.value)}switch(Ae=K?_o(K):window,r){case"focusin":(vm(Ae)||Ae.contentEditable==="true")&&(go=Ae,Qh=K,Va=null);break;case"focusout":Va=Qh=go=null;break;case"mousedown":Kh=!0;break;case"contextmenu":case"mouseup":case"dragend":Kh=!1,Pm(ne,l,te);break;case"selectionchange":if(aw)break;case"keydown":case"keyup":Pm(ne,l,te)}var ve;if(ft)e:{switch(r){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else mo?ym(r,l)&&(Te="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Te="onCompositionStart");Te&&(ui&&l.locale!=="ko"&&(mo||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&mo&&(ve=Pa()):(yn=te,io="value"in yn?yn.value:yn.textContent,mo=!0)),Ae=Tu(K,Te),0<Ae.length&&(Te=new ba(Te,r,null,l,te),ne.push({event:Te,listeners:Ae}),ve?Te.data=ve:(ve=Am(l),ve!==null&&(Te.data=ve)))),(ve=An?XE(r,l):JE(r,l))&&(K=Tu(K,"onBeforeInput"),0<K.length&&(te=new ba("onBeforeInput","beforeinput",null,l,te),ne.push({event:te,listeners:K}),te.data=ve))}jm(ne,i)})}function Ua(r,i,l){return{instance:r,listener:i,currentTarget:l}}function Tu(r,i){for(var l=i+"Capture",h=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=ct(r,l),g!=null&&h.unshift(Ua(r,g,f)),g=ct(r,i),g!=null&&h.push(Ua(r,g,f))),r=r.return}return h}function Ao(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Fm(r,i,l,h,f){for(var g=i._reactName,w=[];l!==null&&l!==h;){var R=l,V=R.alternate,K=R.stateNode;if(V!==null&&V===h)break;R.tag===5&&K!==null&&(R=K,f?(V=ct(l,g),V!=null&&w.unshift(Ua(l,V,R))):f||(V=ct(l,g),V!=null&&w.push(Ua(l,V,R)))),l=l.return}w.length!==0&&r.push({event:i,listeners:w})}var hw=/\r\n?/g,dw=/\u0000|\uFFFD/g;function Bm(r){return(typeof r=="string"?r:""+r).replace(hw,`
`).replace(dw,"")}function Iu(r,i,l){if(i=Bm(i),Bm(r)!==i&&l)throw Error(t(425))}function Su(){}var Zh=null,ed=null;function td(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var nd=typeof setTimeout=="function"?setTimeout:void 0,fw=typeof clearTimeout=="function"?clearTimeout:void 0,zm=typeof Promise=="function"?Promise:void 0,pw=typeof queueMicrotask=="function"?queueMicrotask:typeof zm<"u"?function(r){return zm.resolve(null).then(r).catch(mw)}:nd;function mw(r){setTimeout(function(){throw r})}function rd(r,i){var l=i,h=0;do{var f=l.nextSibling;if(r.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(h===0){r.removeChild(f),Wn(i);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=f}while(l);Wn(i)}function ps(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function Hm(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return r;i--}else l==="/$"&&i++}r=r.previousSibling}return null}var vo=Math.random().toString(36).slice(2),cr="__reactFiber$"+vo,Fa="__reactProps$"+vo,Vr="__reactContainer$"+vo,sd="__reactEvents$"+vo,gw="__reactListeners$"+vo,yw="__reactHandles$"+vo;function ci(r){var i=r[cr];if(i)return i;for(var l=r.parentNode;l;){if(i=l[Vr]||l[cr]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(r=Hm(r);r!==null;){if(l=r[cr])return l;r=Hm(r)}return i}r=l,l=r.parentNode}return null}function Ba(r){return r=r[cr]||r[Vr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function _o(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function xu(r){return r[Fa]||null}var id=[],Eo=-1;function ms(r){return{current:r}}function et(r){0>Eo||(r.current=id[Eo],id[Eo]=null,Eo--)}function Xe(r,i){Eo++,id[Eo]=r.current,r.current=i}var gs={},Ft=ms(gs),rn=ms(!1),hi=gs;function wo(r,i){var l=r.type.contextTypes;if(!l)return gs;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in l)f[g]=i[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=f),f}function sn(r){return r=r.childContextTypes,r!=null}function Cu(){et(rn),et(Ft)}function Wm(r,i,l){if(Ft.current!==gs)throw Error(t(168));Xe(Ft,i),Xe(rn,l)}function qm(r,i,l){var h=r.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var f in h)if(!(f in i))throw Error(t(108,ze(r)||"Unknown",f));return le({},l,h)}function Ru(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||gs,hi=Ft.current,Xe(Ft,r),Xe(rn,rn.current),!0}function Qm(r,i,l){var h=r.stateNode;if(!h)throw Error(t(169));l?(r=qm(r,i,hi),h.__reactInternalMemoizedMergedChildContext=r,et(rn),et(Ft),Xe(Ft,r)):et(rn),Xe(rn,l)}var Mr=null,Pu=!1,od=!1;function Km(r){Mr===null?Mr=[r]:Mr.push(r)}function Aw(r){Pu=!0,Km(r)}function ys(){if(!od&&Mr!==null){od=!0;var r=0,i=De;try{var l=Mr;for(De=1;r<l.length;r++){var h=l[r];do h=h(!0);while(h!==null)}Mr=null,Pu=!1}catch(f){throw Mr!==null&&(Mr=Mr.slice(r+1)),eo(ni,ys),f}finally{De=i,od=!1}}return null}var To=[],Io=0,ku=null,Nu=0,Cn=[],Rn=0,di=null,jr=1,Ur="";function fi(r,i){To[Io++]=Nu,To[Io++]=ku,ku=r,Nu=i}function $m(r,i,l){Cn[Rn++]=jr,Cn[Rn++]=Ur,Cn[Rn++]=di,di=r;var h=jr;r=Ur;var f=32-Gt(h)-1;h&=~(1<<f),l+=1;var g=32-Gt(i)+f;if(30<g){var w=f-f%5;g=(h&(1<<w)-1).toString(32),h>>=w,f-=w,jr=1<<32-Gt(i)+f|l<<f|h,Ur=g+r}else jr=1<<g|l<<f|h,Ur=r}function ad(r){r.return!==null&&(fi(r,1),$m(r,1,0))}function ld(r){for(;r===ku;)ku=To[--Io],To[Io]=null,Nu=To[--Io],To[Io]=null;for(;r===di;)di=Cn[--Rn],Cn[Rn]=null,Ur=Cn[--Rn],Cn[Rn]=null,jr=Cn[--Rn],Cn[Rn]=null}var vn=null,_n=null,rt=!1,Kn=null;function Gm(r,i){var l=bn(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=r,i=r.deletions,i===null?(r.deletions=[l],r.flags|=16):i.push(l)}function Xm(r,i){switch(r.tag){case 5:var l=r.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,vn=r,_n=ps(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,vn=r,_n=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=di!==null?{id:jr,overflow:Ur}:null,r.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=bn(18,null,null,0),l.stateNode=i,l.return=r,r.child=l,vn=r,_n=null,!0):!1;default:return!1}}function ud(r){return(r.mode&1)!==0&&(r.flags&128)===0}function cd(r){if(rt){var i=_n;if(i){var l=i;if(!Xm(r,i)){if(ud(r))throw Error(t(418));i=ps(l.nextSibling);var h=vn;i&&Xm(r,i)?Gm(h,l):(r.flags=r.flags&-4097|2,rt=!1,vn=r)}}else{if(ud(r))throw Error(t(418));r.flags=r.flags&-4097|2,rt=!1,vn=r}}}function Jm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;vn=r}function bu(r){if(r!==vn)return!1;if(!rt)return Jm(r),rt=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!td(r.type,r.memoizedProps)),i&&(i=_n)){if(ud(r))throw Ym(),Error(t(418));for(;i;)Gm(r,i),i=ps(i.nextSibling)}if(Jm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(i===0){_n=ps(r.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}r=r.nextSibling}_n=null}}else _n=vn?ps(r.stateNode.nextSibling):null;return!0}function Ym(){for(var r=_n;r;)r=ps(r.nextSibling)}function So(){_n=vn=null,rt=!1}function hd(r){Kn===null?Kn=[r]:Kn.push(r)}var vw=X.ReactCurrentBatchConfig;function za(r,i,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,r));var f=h,g=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===g?i.ref:(i=function(w){var R=f.refs;w===null?delete R[g]:R[g]=w},i._stringRef=g,i)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function Ou(r,i){throw r=Object.prototype.toString.call(i),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function Zm(r){var i=r._init;return i(r._payload)}function eg(r){function i(z,j){if(r){var Q=z.deletions;Q===null?(z.deletions=[j],z.flags|=16):Q.push(j)}}function l(z,j){if(!r)return null;for(;j!==null;)i(z,j),j=j.sibling;return null}function h(z,j){for(z=new Map;j!==null;)j.key!==null?z.set(j.key,j):z.set(j.index,j),j=j.sibling;return z}function f(z,j){return z=Ss(z,j),z.index=0,z.sibling=null,z}function g(z,j,Q){return z.index=Q,r?(Q=z.alternate,Q!==null?(Q=Q.index,Q<j?(z.flags|=2,j):Q):(z.flags|=2,j)):(z.flags|=1048576,j)}function w(z){return r&&z.alternate===null&&(z.flags|=2),z}function R(z,j,Q,re){return j===null||j.tag!==6?(j=nf(Q,z.mode,re),j.return=z,j):(j=f(j,Q),j.return=z,j)}function V(z,j,Q,re){var pe=Q.type;return pe===N?te(z,j,Q.props.children,re,Q.key):j!==null&&(j.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===At&&Zm(pe)===j.type)?(re=f(j,Q.props),re.ref=za(z,j,Q),re.return=z,re):(re=rc(Q.type,Q.key,Q.props,null,z.mode,re),re.ref=za(z,j,Q),re.return=z,re)}function K(z,j,Q,re){return j===null||j.tag!==4||j.stateNode.containerInfo!==Q.containerInfo||j.stateNode.implementation!==Q.implementation?(j=rf(Q,z.mode,re),j.return=z,j):(j=f(j,Q.children||[]),j.return=z,j)}function te(z,j,Q,re,pe){return j===null||j.tag!==7?(j=Ei(Q,z.mode,re,pe),j.return=z,j):(j=f(j,Q),j.return=z,j)}function ne(z,j,Q){if(typeof j=="string"&&j!==""||typeof j=="number")return j=nf(""+j,z.mode,Q),j.return=z,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case oe:return Q=rc(j.type,j.key,j.props,null,z.mode,Q),Q.ref=za(z,null,j),Q.return=z,Q;case de:return j=rf(j,z.mode,Q),j.return=z,j;case At:var re=j._init;return ne(z,re(j._payload),Q)}if(Cr(j)||ye(j))return j=Ei(j,z.mode,Q,null),j.return=z,j;Ou(z,j)}return null}function Z(z,j,Q,re){var pe=j!==null?j.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return pe!==null?null:R(z,j,""+Q,re);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case oe:return Q.key===pe?V(z,j,Q,re):null;case de:return Q.key===pe?K(z,j,Q,re):null;case At:return pe=Q._init,Z(z,j,pe(Q._payload),re)}if(Cr(Q)||ye(Q))return pe!==null?null:te(z,j,Q,re,null);Ou(z,Q)}return null}function ae(z,j,Q,re,pe){if(typeof re=="string"&&re!==""||typeof re=="number")return z=z.get(Q)||null,R(j,z,""+re,pe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case oe:return z=z.get(re.key===null?Q:re.key)||null,V(j,z,re,pe);case de:return z=z.get(re.key===null?Q:re.key)||null,K(j,z,re,pe);case At:var Ae=re._init;return ae(z,j,Q,Ae(re._payload),pe)}if(Cr(re)||ye(re))return z=z.get(Q)||null,te(j,z,re,pe,null);Ou(j,re)}return null}function he(z,j,Q,re){for(var pe=null,Ae=null,ve=j,Te=j=0,Nt=null;ve!==null&&Te<Q.length;Te++){ve.index>Te?(Nt=ve,ve=null):Nt=ve.sibling;var Be=Z(z,ve,Q[Te],re);if(Be===null){ve===null&&(ve=Nt);break}r&&ve&&Be.alternate===null&&i(z,ve),j=g(Be,j,Te),Ae===null?pe=Be:Ae.sibling=Be,Ae=Be,ve=Nt}if(Te===Q.length)return l(z,ve),rt&&fi(z,Te),pe;if(ve===null){for(;Te<Q.length;Te++)ve=ne(z,Q[Te],re),ve!==null&&(j=g(ve,j,Te),Ae===null?pe=ve:Ae.sibling=ve,Ae=ve);return rt&&fi(z,Te),pe}for(ve=h(z,ve);Te<Q.length;Te++)Nt=ae(ve,z,Te,Q[Te],re),Nt!==null&&(r&&Nt.alternate!==null&&ve.delete(Nt.key===null?Te:Nt.key),j=g(Nt,j,Te),Ae===null?pe=Nt:Ae.sibling=Nt,Ae=Nt);return r&&ve.forEach(function(xs){return i(z,xs)}),rt&&fi(z,Te),pe}function fe(z,j,Q,re){var pe=ye(Q);if(typeof pe!="function")throw Error(t(150));if(Q=pe.call(Q),Q==null)throw Error(t(151));for(var Ae=pe=null,ve=j,Te=j=0,Nt=null,Be=Q.next();ve!==null&&!Be.done;Te++,Be=Q.next()){ve.index>Te?(Nt=ve,ve=null):Nt=ve.sibling;var xs=Z(z,ve,Be.value,re);if(xs===null){ve===null&&(ve=Nt);break}r&&ve&&xs.alternate===null&&i(z,ve),j=g(xs,j,Te),Ae===null?pe=xs:Ae.sibling=xs,Ae=xs,ve=Nt}if(Be.done)return l(z,ve),rt&&fi(z,Te),pe;if(ve===null){for(;!Be.done;Te++,Be=Q.next())Be=ne(z,Be.value,re),Be!==null&&(j=g(Be,j,Te),Ae===null?pe=Be:Ae.sibling=Be,Ae=Be);return rt&&fi(z,Te),pe}for(ve=h(z,ve);!Be.done;Te++,Be=Q.next())Be=ae(ve,z,Te,Be.value,re),Be!==null&&(r&&Be.alternate!==null&&ve.delete(Be.key===null?Te:Be.key),j=g(Be,j,Te),Ae===null?pe=Be:Ae.sibling=Be,Ae=Be);return r&&ve.forEach(function(Yw){return i(z,Yw)}),rt&&fi(z,Te),pe}function ht(z,j,Q,re){if(typeof Q=="object"&&Q!==null&&Q.type===N&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case oe:e:{for(var pe=Q.key,Ae=j;Ae!==null;){if(Ae.key===pe){if(pe=Q.type,pe===N){if(Ae.tag===7){l(z,Ae.sibling),j=f(Ae,Q.props.children),j.return=z,z=j;break e}}else if(Ae.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===At&&Zm(pe)===Ae.type){l(z,Ae.sibling),j=f(Ae,Q.props),j.ref=za(z,Ae,Q),j.return=z,z=j;break e}l(z,Ae);break}else i(z,Ae);Ae=Ae.sibling}Q.type===N?(j=Ei(Q.props.children,z.mode,re,Q.key),j.return=z,z=j):(re=rc(Q.type,Q.key,Q.props,null,z.mode,re),re.ref=za(z,j,Q),re.return=z,z=re)}return w(z);case de:e:{for(Ae=Q.key;j!==null;){if(j.key===Ae)if(j.tag===4&&j.stateNode.containerInfo===Q.containerInfo&&j.stateNode.implementation===Q.implementation){l(z,j.sibling),j=f(j,Q.children||[]),j.return=z,z=j;break e}else{l(z,j);break}else i(z,j);j=j.sibling}j=rf(Q,z.mode,re),j.return=z,z=j}return w(z);case At:return Ae=Q._init,ht(z,j,Ae(Q._payload),re)}if(Cr(Q))return he(z,j,Q,re);if(ye(Q))return fe(z,j,Q,re);Ou(z,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,j!==null&&j.tag===6?(l(z,j.sibling),j=f(j,Q),j.return=z,z=j):(l(z,j),j=nf(Q,z.mode,re),j.return=z,z=j),w(z)):l(z,j)}return ht}var xo=eg(!0),tg=eg(!1),Du=ms(null),Lu=null,Co=null,dd=null;function fd(){dd=Co=Lu=null}function pd(r){var i=Du.current;et(Du),r._currentValue=i}function md(r,i,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),r===l)break;r=r.return}}function Ro(r,i){Lu=r,dd=Co=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(on=!0),r.firstContext=null)}function Pn(r){var i=r._currentValue;if(dd!==r)if(r={context:r,memoizedValue:i,next:null},Co===null){if(Lu===null)throw Error(t(308));Co=r,Lu.dependencies={lanes:0,firstContext:r}}else Co=Co.next=r;return i}var pi=null;function gd(r){pi===null?pi=[r]:pi.push(r)}function ng(r,i,l,h){var f=i.interleaved;return f===null?(l.next=l,gd(i)):(l.next=f.next,f.next=l),i.interleaved=l,Fr(r,h)}function Fr(r,i){r.lanes|=i;var l=r.alternate;for(l!==null&&(l.lanes|=i),l=r,r=r.return;r!==null;)r.childLanes|=i,l=r.alternate,l!==null&&(l.childLanes|=i),l=r,r=r.return;return l.tag===3?l.stateNode:null}var As=!1;function yd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rg(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Br(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function vs(r,i,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(je&2)!==0){var f=h.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),h.pending=i,Fr(r,l)}return f=h.interleaved,f===null?(i.next=i,gd(h)):(i.next=f.next,f.next=i),h.interleaved=i,Fr(r,l)}function Vu(r,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var h=i.lanes;h&=r.pendingLanes,l|=h,i.lanes=l,ls(r,l)}}function sg(r,i){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var f=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var w={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?f=g=w:g=g.next=w,l=l.next}while(l!==null);g===null?f=g=i:g=g.next=i}else f=g=i;l={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=i:r.next=i,l.lastBaseUpdate=i}function Mu(r,i,l,h){var f=r.updateQueue;As=!1;var g=f.firstBaseUpdate,w=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var V=R,K=V.next;V.next=null,w===null?g=K:w.next=K,w=V;var te=r.alternate;te!==null&&(te=te.updateQueue,R=te.lastBaseUpdate,R!==w&&(R===null?te.firstBaseUpdate=K:R.next=K,te.lastBaseUpdate=V))}if(g!==null){var ne=f.baseState;w=0,te=K=V=null,R=g;do{var Z=R.lane,ae=R.eventTime;if((h&Z)===Z){te!==null&&(te=te.next={eventTime:ae,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var he=r,fe=R;switch(Z=i,ae=l,fe.tag){case 1:if(he=fe.payload,typeof he=="function"){ne=he.call(ae,ne,Z);break e}ne=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=fe.payload,Z=typeof he=="function"?he.call(ae,ne,Z):he,Z==null)break e;ne=le({},ne,Z);break e;case 2:As=!0}}R.callback!==null&&R.lane!==0&&(r.flags|=64,Z=f.effects,Z===null?f.effects=[R]:Z.push(R))}else ae={eventTime:ae,lane:Z,tag:R.tag,payload:R.payload,callback:R.callback,next:null},te===null?(K=te=ae,V=ne):te=te.next=ae,w|=Z;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;Z=R,R=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);if(te===null&&(V=ne),f.baseState=V,f.firstBaseUpdate=K,f.lastBaseUpdate=te,i=f.shared.interleaved,i!==null){f=i;do w|=f.lane,f=f.next;while(f!==i)}else g===null&&(f.shared.lanes=0);yi|=w,r.lanes=w,r.memoizedState=ne}}function ig(r,i,l){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var h=r[i],f=h.callback;if(f!==null){if(h.callback=null,h=l,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var Ha={},hr=ms(Ha),Wa=ms(Ha),qa=ms(Ha);function mi(r){if(r===Ha)throw Error(t(174));return r}function Ad(r,i){switch(Xe(qa,i),Xe(Wa,r),Xe(hr,Ha),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:_t(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=_t(i,r)}et(hr),Xe(hr,i)}function Po(){et(hr),et(Wa),et(qa)}function og(r){mi(qa.current);var i=mi(hr.current),l=_t(i,r.type);i!==l&&(Xe(Wa,r),Xe(hr,l))}function vd(r){Wa.current===r&&(et(hr),et(Wa))}var st=ms(0);function ju(r){for(var i=r;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var _d=[];function Ed(){for(var r=0;r<_d.length;r++)_d[r]._workInProgressVersionPrimary=null;_d.length=0}var Uu=X.ReactCurrentDispatcher,wd=X.ReactCurrentBatchConfig,gi=0,it=null,wt=null,Pt=null,Fu=!1,Qa=!1,Ka=0,_w=0;function Bt(){throw Error(t(321))}function Td(r,i){if(i===null)return!1;for(var l=0;l<i.length&&l<r.length;l++)if(!Qn(r[l],i[l]))return!1;return!0}function Id(r,i,l,h,f,g){if(gi=g,it=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Uu.current=r===null||r.memoizedState===null?Iw:Sw,r=l(h,f),Qa){g=0;do{if(Qa=!1,Ka=0,25<=g)throw Error(t(301));g+=1,Pt=wt=null,i.updateQueue=null,Uu.current=xw,r=l(h,f)}while(Qa)}if(Uu.current=Hu,i=wt!==null&&wt.next!==null,gi=0,Pt=wt=it=null,Fu=!1,i)throw Error(t(300));return r}function Sd(){var r=Ka!==0;return Ka=0,r}function dr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?it.memoizedState=Pt=r:Pt=Pt.next=r,Pt}function kn(){if(wt===null){var r=it.alternate;r=r!==null?r.memoizedState:null}else r=wt.next;var i=Pt===null?it.memoizedState:Pt.next;if(i!==null)Pt=i,wt=r;else{if(r===null)throw Error(t(310));wt=r,r={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Pt===null?it.memoizedState=Pt=r:Pt=Pt.next=r}return Pt}function $a(r,i){return typeof i=="function"?i(r):i}function xd(r){var i=kn(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=wt,f=h.baseQueue,g=l.pending;if(g!==null){if(f!==null){var w=f.next;f.next=g.next,g.next=w}h.baseQueue=f=g,l.pending=null}if(f!==null){g=f.next,h=h.baseState;var R=w=null,V=null,K=g;do{var te=K.lane;if((gi&te)===te)V!==null&&(V=V.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),h=K.hasEagerState?K.eagerState:r(h,K.action);else{var ne={lane:te,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};V===null?(R=V=ne,w=h):V=V.next=ne,it.lanes|=te,yi|=te}K=K.next}while(K!==null&&K!==g);V===null?w=h:V.next=R,Qn(h,i.memoizedState)||(on=!0),i.memoizedState=h,i.baseState=w,i.baseQueue=V,l.lastRenderedState=h}if(r=l.interleaved,r!==null){f=r;do g=f.lane,it.lanes|=g,yi|=g,f=f.next;while(f!==r)}else f===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function Cd(r){var i=kn(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=l.dispatch,f=l.pending,g=i.memoizedState;if(f!==null){l.pending=null;var w=f=f.next;do g=r(g,w.action),w=w.next;while(w!==f);Qn(g,i.memoizedState)||(on=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),l.lastRenderedState=g}return[g,h]}function ag(){}function lg(r,i){var l=it,h=kn(),f=i(),g=!Qn(h.memoizedState,f);if(g&&(h.memoizedState=f,on=!0),h=h.queue,Rd(hg.bind(null,l,h,r),[r]),h.getSnapshot!==i||g||Pt!==null&&Pt.memoizedState.tag&1){if(l.flags|=2048,Ga(9,cg.bind(null,l,h,f,i),void 0,null),kt===null)throw Error(t(349));(gi&30)!==0||ug(l,i,f)}return f}function ug(r,i,l){r.flags|=16384,r={getSnapshot:i,value:l},i=it.updateQueue,i===null?(i={lastEffect:null,stores:null},it.updateQueue=i,i.stores=[r]):(l=i.stores,l===null?i.stores=[r]:l.push(r))}function cg(r,i,l,h){i.value=l,i.getSnapshot=h,dg(i)&&fg(r)}function hg(r,i,l){return l(function(){dg(i)&&fg(r)})}function dg(r){var i=r.getSnapshot;r=r.value;try{var l=i();return!Qn(r,l)}catch{return!0}}function fg(r){var i=Fr(r,1);i!==null&&Jn(i,r,1,-1)}function pg(r){var i=dr();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:r},i.queue=r,r=r.dispatch=Tw.bind(null,it,r),[i.memoizedState,r]}function Ga(r,i,l,h){return r={tag:r,create:i,destroy:l,deps:h,next:null},i=it.updateQueue,i===null?(i={lastEffect:null,stores:null},it.updateQueue=i,i.lastEffect=r.next=r):(l=i.lastEffect,l===null?i.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,i.lastEffect=r)),r}function mg(){return kn().memoizedState}function Bu(r,i,l,h){var f=dr();it.flags|=r,f.memoizedState=Ga(1|i,l,void 0,h===void 0?null:h)}function zu(r,i,l,h){var f=kn();h=h===void 0?null:h;var g=void 0;if(wt!==null){var w=wt.memoizedState;if(g=w.destroy,h!==null&&Td(h,w.deps)){f.memoizedState=Ga(i,l,g,h);return}}it.flags|=r,f.memoizedState=Ga(1|i,l,g,h)}function gg(r,i){return Bu(8390656,8,r,i)}function Rd(r,i){return zu(2048,8,r,i)}function yg(r,i){return zu(4,2,r,i)}function Ag(r,i){return zu(4,4,r,i)}function vg(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function _g(r,i,l){return l=l!=null?l.concat([r]):null,zu(4,4,vg.bind(null,i,r),l)}function Pd(){}function Eg(r,i){var l=kn();i=i===void 0?null:i;var h=l.memoizedState;return h!==null&&i!==null&&Td(i,h[1])?h[0]:(l.memoizedState=[r,i],r)}function wg(r,i){var l=kn();i=i===void 0?null:i;var h=l.memoizedState;return h!==null&&i!==null&&Td(i,h[1])?h[0]:(r=r(),l.memoizedState=[r,i],r)}function Tg(r,i,l){return(gi&21)===0?(r.baseState&&(r.baseState=!1,on=!0),r.memoizedState=l):(Qn(l,i)||(l=ii(),it.lanes|=l,yi|=l,r.baseState=!0),i)}function Ew(r,i){var l=De;De=l!==0&&4>l?l:4,r(!0);var h=wd.transition;wd.transition={};try{r(!1),i()}finally{De=l,wd.transition=h}}function Ig(){return kn().memoizedState}function ww(r,i,l){var h=Ts(r);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Sg(r))xg(i,l);else if(l=ng(r,i,l,h),l!==null){var f=Yt();Jn(l,r,h,f),Cg(l,i,h)}}function Tw(r,i,l){var h=Ts(r),f={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Sg(r))xg(i,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var w=i.lastRenderedState,R=g(w,l);if(f.hasEagerState=!0,f.eagerState=R,Qn(R,w)){var V=i.interleaved;V===null?(f.next=f,gd(i)):(f.next=V.next,V.next=f),i.interleaved=f;return}}catch{}finally{}l=ng(r,i,f,h),l!==null&&(f=Yt(),Jn(l,r,h,f),Cg(l,i,h))}}function Sg(r){var i=r.alternate;return r===it||i!==null&&i===it}function xg(r,i){Qa=Fu=!0;var l=r.pending;l===null?i.next=i:(i.next=l.next,l.next=i),r.pending=i}function Cg(r,i,l){if((l&4194240)!==0){var h=i.lanes;h&=r.pendingLanes,l|=h,i.lanes=l,ls(r,l)}}var Hu={readContext:Pn,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},Iw={readContext:Pn,useCallback:function(r,i){return dr().memoizedState=[r,i===void 0?null:i],r},useContext:Pn,useEffect:gg,useImperativeHandle:function(r,i,l){return l=l!=null?l.concat([r]):null,Bu(4194308,4,vg.bind(null,i,r),l)},useLayoutEffect:function(r,i){return Bu(4194308,4,r,i)},useInsertionEffect:function(r,i){return Bu(4,2,r,i)},useMemo:function(r,i){var l=dr();return i=i===void 0?null:i,r=r(),l.memoizedState=[r,i],r},useReducer:function(r,i,l){var h=dr();return i=l!==void 0?l(i):i,h.memoizedState=h.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},h.queue=r,r=r.dispatch=ww.bind(null,it,r),[h.memoizedState,r]},useRef:function(r){var i=dr();return r={current:r},i.memoizedState=r},useState:pg,useDebugValue:Pd,useDeferredValue:function(r){return dr().memoizedState=r},useTransition:function(){var r=pg(!1),i=r[0];return r=Ew.bind(null,r[1]),dr().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,l){var h=it,f=dr();if(rt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=i(),kt===null)throw Error(t(349));(gi&30)!==0||ug(h,i,l)}f.memoizedState=l;var g={value:l,getSnapshot:i};return f.queue=g,gg(hg.bind(null,h,g,r),[r]),h.flags|=2048,Ga(9,cg.bind(null,h,g,l,i),void 0,null),l},useId:function(){var r=dr(),i=kt.identifierPrefix;if(rt){var l=Ur,h=jr;l=(h&~(1<<32-Gt(h)-1)).toString(32)+l,i=":"+i+"R"+l,l=Ka++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=_w++,i=":"+i+"r"+l.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},Sw={readContext:Pn,useCallback:Eg,useContext:Pn,useEffect:Rd,useImperativeHandle:_g,useInsertionEffect:yg,useLayoutEffect:Ag,useMemo:wg,useReducer:xd,useRef:mg,useState:function(){return xd($a)},useDebugValue:Pd,useDeferredValue:function(r){var i=kn();return Tg(i,wt.memoizedState,r)},useTransition:function(){var r=xd($a)[0],i=kn().memoizedState;return[r,i]},useMutableSource:ag,useSyncExternalStore:lg,useId:Ig,unstable_isNewReconciler:!1},xw={readContext:Pn,useCallback:Eg,useContext:Pn,useEffect:Rd,useImperativeHandle:_g,useInsertionEffect:yg,useLayoutEffect:Ag,useMemo:wg,useReducer:Cd,useRef:mg,useState:function(){return Cd($a)},useDebugValue:Pd,useDeferredValue:function(r){var i=kn();return wt===null?i.memoizedState=r:Tg(i,wt.memoizedState,r)},useTransition:function(){var r=Cd($a)[0],i=kn().memoizedState;return[r,i]},useMutableSource:ag,useSyncExternalStore:lg,useId:Ig,unstable_isNewReconciler:!1};function $n(r,i){if(r&&r.defaultProps){i=le({},i),r=r.defaultProps;for(var l in r)i[l]===void 0&&(i[l]=r[l]);return i}return i}function kd(r,i,l,h){i=r.memoizedState,l=l(h,i),l=l==null?i:le({},i,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Wu={isMounted:function(r){return(r=r._reactInternals)?Un(r)===r:!1},enqueueSetState:function(r,i,l){r=r._reactInternals;var h=Yt(),f=Ts(r),g=Br(h,f);g.payload=i,l!=null&&(g.callback=l),i=vs(r,g,f),i!==null&&(Jn(i,r,f,h),Vu(i,r,f))},enqueueReplaceState:function(r,i,l){r=r._reactInternals;var h=Yt(),f=Ts(r),g=Br(h,f);g.tag=1,g.payload=i,l!=null&&(g.callback=l),i=vs(r,g,f),i!==null&&(Jn(i,r,f,h),Vu(i,r,f))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var l=Yt(),h=Ts(r),f=Br(l,h);f.tag=2,i!=null&&(f.callback=i),i=vs(r,f,h),i!==null&&(Jn(i,r,h,l),Vu(i,r,h))}};function Rg(r,i,l,h,f,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,w):i.prototype&&i.prototype.isPureReactComponent?!La(l,h)||!La(f,g):!0}function Pg(r,i,l){var h=!1,f=gs,g=i.contextType;return typeof g=="object"&&g!==null?g=Pn(g):(f=sn(i)?hi:Ft.current,h=i.contextTypes,g=(h=h!=null)?wo(r,f):gs),i=new i(l,g),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Wu,r.stateNode=i,i._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),i}function kg(r,i,l,h){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,h),i.state!==r&&Wu.enqueueReplaceState(i,i.state,null)}function Nd(r,i,l,h){var f=r.stateNode;f.props=l,f.state=r.memoizedState,f.refs={},yd(r);var g=i.contextType;typeof g=="object"&&g!==null?f.context=Pn(g):(g=sn(i)?hi:Ft.current,f.context=wo(r,g)),f.state=r.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(kd(r,i,g,l),f.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&Wu.enqueueReplaceState(f,f.state,null),Mu(r,l,f,h),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function ko(r,i){try{var l="",h=i;do l+=Re(h),h=h.return;while(h);var f=l}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:i,stack:f,digest:null}}function bd(r,i,l){return{value:r,source:null,stack:l??null,digest:i??null}}function Od(r,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var Cw=typeof WeakMap=="function"?WeakMap:Map;function Ng(r,i,l){l=Br(-1,l),l.tag=3,l.payload={element:null};var h=i.value;return l.callback=function(){Ju||(Ju=!0,$d=h),Od(r,i)},l}function bg(r,i,l){l=Br(-1,l),l.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=i.value;l.payload=function(){return h(f)},l.callback=function(){Od(r,i)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){Od(r,i),typeof h!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var w=i.stack;this.componentDidCatch(i.value,{componentStack:w!==null?w:""})}),l}function Og(r,i,l){var h=r.pingCache;if(h===null){h=r.pingCache=new Cw;var f=new Set;h.set(i,f)}else f=h.get(i),f===void 0&&(f=new Set,h.set(i,f));f.has(l)||(f.add(l),r=Bw.bind(null,r,i,l),i.then(r,r))}function Dg(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function Lg(r,i,l,h,f){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=Br(-1,1),i.tag=2,vs(l,i,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=f,r)}var Rw=X.ReactCurrentOwner,on=!1;function Jt(r,i,l,h){i.child=r===null?tg(i,null,l,h):xo(i,r.child,l,h)}function Vg(r,i,l,h,f){l=l.render;var g=i.ref;return Ro(i,f),h=Id(r,i,l,h,g,f),l=Sd(),r!==null&&!on?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~f,zr(r,i,f)):(rt&&l&&ad(i),i.flags|=1,Jt(r,i,h,f),i.child)}function Mg(r,i,l,h,f){if(r===null){var g=l.type;return typeof g=="function"&&!tf(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=g,jg(r,i,g,h,f)):(r=rc(l.type,null,h,i,i.mode,f),r.ref=i.ref,r.return=i,i.child=r)}if(g=r.child,(r.lanes&f)===0){var w=g.memoizedProps;if(l=l.compare,l=l!==null?l:La,l(w,h)&&r.ref===i.ref)return zr(r,i,f)}return i.flags|=1,r=Ss(g,h),r.ref=i.ref,r.return=i,i.child=r}function jg(r,i,l,h,f){if(r!==null){var g=r.memoizedProps;if(La(g,h)&&r.ref===i.ref)if(on=!1,i.pendingProps=h=g,(r.lanes&f)!==0)(r.flags&131072)!==0&&(on=!0);else return i.lanes=r.lanes,zr(r,i,f)}return Dd(r,i,l,h,f)}function Ug(r,i,l){var h=i.pendingProps,f=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(bo,En),En|=l;else{if((l&1073741824)===0)return r=g!==null?g.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,Xe(bo,En),En|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:l,Xe(bo,En),En|=h}else g!==null?(h=g.baseLanes|l,i.memoizedState=null):h=l,Xe(bo,En),En|=h;return Jt(r,i,f,l),i.child}function Fg(r,i){var l=i.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function Dd(r,i,l,h,f){var g=sn(l)?hi:Ft.current;return g=wo(i,g),Ro(i,f),l=Id(r,i,l,h,g,f),h=Sd(),r!==null&&!on?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~f,zr(r,i,f)):(rt&&h&&ad(i),i.flags|=1,Jt(r,i,l,f),i.child)}function Bg(r,i,l,h,f){if(sn(l)){var g=!0;Ru(i)}else g=!1;if(Ro(i,f),i.stateNode===null)Qu(r,i),Pg(i,l,h),Nd(i,l,h,f),h=!0;else if(r===null){var w=i.stateNode,R=i.memoizedProps;w.props=R;var V=w.context,K=l.contextType;typeof K=="object"&&K!==null?K=Pn(K):(K=sn(l)?hi:Ft.current,K=wo(i,K));var te=l.getDerivedStateFromProps,ne=typeof te=="function"||typeof w.getSnapshotBeforeUpdate=="function";ne||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R!==h||V!==K)&&kg(i,w,h,K),As=!1;var Z=i.memoizedState;w.state=Z,Mu(i,h,w,f),V=i.memoizedState,R!==h||Z!==V||rn.current||As?(typeof te=="function"&&(kd(i,l,te,h),V=i.memoizedState),(R=As||Rg(i,l,R,h,Z,V,K))?(ne||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(i.flags|=4194308)):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=V),w.props=h,w.state=V,w.context=K,h=R):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{w=i.stateNode,rg(r,i),R=i.memoizedProps,K=i.type===i.elementType?R:$n(i.type,R),w.props=K,ne=i.pendingProps,Z=w.context,V=l.contextType,typeof V=="object"&&V!==null?V=Pn(V):(V=sn(l)?hi:Ft.current,V=wo(i,V));var ae=l.getDerivedStateFromProps;(te=typeof ae=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R!==ne||Z!==V)&&kg(i,w,h,V),As=!1,Z=i.memoizedState,w.state=Z,Mu(i,h,w,f);var he=i.memoizedState;R!==ne||Z!==he||rn.current||As?(typeof ae=="function"&&(kd(i,l,ae,h),he=i.memoizedState),(K=As||Rg(i,l,K,h,Z,he,V)||!1)?(te||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,he,V),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,he,V)),typeof w.componentDidUpdate=="function"&&(i.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof w.componentDidUpdate!="function"||R===r.memoizedProps&&Z===r.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&Z===r.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=he),w.props=h,w.state=he,w.context=V,h=K):(typeof w.componentDidUpdate!="function"||R===r.memoizedProps&&Z===r.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&Z===r.memoizedState||(i.flags|=1024),h=!1)}return Ld(r,i,l,h,g,f)}function Ld(r,i,l,h,f,g){Fg(r,i);var w=(i.flags&128)!==0;if(!h&&!w)return f&&Qm(i,l,!1),zr(r,i,g);h=i.stateNode,Rw.current=i;var R=w&&typeof l.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,r!==null&&w?(i.child=xo(i,r.child,null,g),i.child=xo(i,null,R,g)):Jt(r,i,R,g),i.memoizedState=h.state,f&&Qm(i,l,!0),i.child}function zg(r){var i=r.stateNode;i.pendingContext?Wm(r,i.pendingContext,i.pendingContext!==i.context):i.context&&Wm(r,i.context,!1),Ad(r,i.containerInfo)}function Hg(r,i,l,h,f){return So(),hd(f),i.flags|=256,Jt(r,i,l,h),i.child}var Vd={dehydrated:null,treeContext:null,retryLane:0};function Md(r){return{baseLanes:r,cachePool:null,transitions:null}}function Wg(r,i,l){var h=i.pendingProps,f=st.current,g=!1,w=(i.flags&128)!==0,R;if((R=w)||(R=r!==null&&r.memoizedState===null?!1:(f&2)!==0),R?(g=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),Xe(st,f&1),r===null)return cd(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(w=h.children,r=h.fallback,g?(h=i.mode,g=i.child,w={mode:"hidden",children:w},(h&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=w):g=sc(w,h,0,null),r=Ei(r,h,l,null),g.return=i,r.return=i,g.sibling=r,i.child=g,i.child.memoizedState=Md(l),i.memoizedState=Vd,r):jd(i,w));if(f=r.memoizedState,f!==null&&(R=f.dehydrated,R!==null))return Pw(r,i,w,h,R,f,l);if(g){g=h.fallback,w=i.mode,f=r.child,R=f.sibling;var V={mode:"hidden",children:h.children};return(w&1)===0&&i.child!==f?(h=i.child,h.childLanes=0,h.pendingProps=V,i.deletions=null):(h=Ss(f,V),h.subtreeFlags=f.subtreeFlags&14680064),R!==null?g=Ss(R,g):(g=Ei(g,w,l,null),g.flags|=2),g.return=i,h.return=i,h.sibling=g,i.child=h,h=g,g=i.child,w=r.child.memoizedState,w=w===null?Md(l):{baseLanes:w.baseLanes|l,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=r.childLanes&~l,i.memoizedState=Vd,h}return g=r.child,r=g.sibling,h=Ss(g,{mode:"visible",children:h.children}),(i.mode&1)===0&&(h.lanes=l),h.return=i,h.sibling=null,r!==null&&(l=i.deletions,l===null?(i.deletions=[r],i.flags|=16):l.push(r)),i.child=h,i.memoizedState=null,h}function jd(r,i){return i=sc({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function qu(r,i,l,h){return h!==null&&hd(h),xo(i,r.child,null,l),r=jd(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Pw(r,i,l,h,f,g,w){if(l)return i.flags&256?(i.flags&=-257,h=bd(Error(t(422))),qu(r,i,w,h)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(g=h.fallback,f=i.mode,h=sc({mode:"visible",children:h.children},f,0,null),g=Ei(g,f,w,null),g.flags|=2,h.return=i,g.return=i,h.sibling=g,i.child=h,(i.mode&1)!==0&&xo(i,r.child,null,w),i.child.memoizedState=Md(w),i.memoizedState=Vd,g);if((i.mode&1)===0)return qu(r,i,w,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var R=h.dgst;return h=R,g=Error(t(419)),h=bd(g,h,void 0),qu(r,i,w,h)}if(R=(w&r.childLanes)!==0,on||R){if(h=kt,h!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(h.suspendedLanes|w))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Fr(r,f),Jn(h,r,f,-1))}return ef(),h=bd(Error(t(421))),qu(r,i,w,h)}return f.data==="$?"?(i.flags|=128,i.child=r.child,i=zw.bind(null,r),f._reactRetry=i,null):(r=g.treeContext,_n=ps(f.nextSibling),vn=i,rt=!0,Kn=null,r!==null&&(Cn[Rn++]=jr,Cn[Rn++]=Ur,Cn[Rn++]=di,jr=r.id,Ur=r.overflow,di=i),i=jd(i,h.children),i.flags|=4096,i)}function qg(r,i,l){r.lanes|=i;var h=r.alternate;h!==null&&(h.lanes|=i),md(r.return,i,l)}function Ud(r,i,l,h,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=l,g.tailMode=f)}function Qg(r,i,l){var h=i.pendingProps,f=h.revealOrder,g=h.tail;if(Jt(r,i,h.children,l),h=st.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&qg(r,l,i);else if(r.tag===19)qg(r,l,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Xe(st,h),(i.mode&1)===0)i.memoizedState=null;else switch(f){case"forwards":for(l=i.child,f=null;l!==null;)r=l.alternate,r!==null&&ju(r)===null&&(f=l),l=l.sibling;l=f,l===null?(f=i.child,i.child=null):(f=l.sibling,l.sibling=null),Ud(i,!1,f,l,g);break;case"backwards":for(l=null,f=i.child,i.child=null;f!==null;){if(r=f.alternate,r!==null&&ju(r)===null){i.child=f;break}r=f.sibling,f.sibling=l,l=f,f=r}Ud(i,!0,l,null,g);break;case"together":Ud(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Qu(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function zr(r,i,l){if(r!==null&&(i.dependencies=r.dependencies),yi|=i.lanes,(l&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(t(153));if(i.child!==null){for(r=i.child,l=Ss(r,r.pendingProps),i.child=l,l.return=i;r.sibling!==null;)r=r.sibling,l=l.sibling=Ss(r,r.pendingProps),l.return=i;l.sibling=null}return i.child}function kw(r,i,l){switch(i.tag){case 3:zg(i),So();break;case 5:og(i);break;case 1:sn(i.type)&&Ru(i);break;case 4:Ad(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,f=i.memoizedProps.value;Xe(Du,h._currentValue),h._currentValue=f;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(Xe(st,st.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?Wg(r,i,l):(Xe(st,st.current&1),r=zr(r,i,l),r!==null?r.sibling:null);Xe(st,st.current&1);break;case 19:if(h=(l&i.childLanes)!==0,(r.flags&128)!==0){if(h)return Qg(r,i,l);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Xe(st,st.current),h)break;return null;case 22:case 23:return i.lanes=0,Ug(r,i,l)}return zr(r,i,l)}var Kg,Fd,$g,Gg;Kg=function(r,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Fd=function(){},$g=function(r,i,l,h){var f=r.memoizedProps;if(f!==h){r=i.stateNode,mi(hr.current);var g=null;switch(l){case"input":f=$s(r,f),h=$s(r,h),g=[];break;case"select":f=le({},f,{value:void 0}),h=le({},h,{value:void 0}),g=[];break;case"textarea":f=ca(r,f),h=ca(r,h),g=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=Su)}ga(l,h);var w;l=null;for(K in f)if(!h.hasOwnProperty(K)&&f.hasOwnProperty(K)&&f[K]!=null)if(K==="style"){var R=f[K];for(w in R)R.hasOwnProperty(w)&&(l||(l={}),l[w]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(o.hasOwnProperty(K)?g||(g=[]):(g=g||[]).push(K,null));for(K in h){var V=h[K];if(R=f!=null?f[K]:void 0,h.hasOwnProperty(K)&&V!==R&&(V!=null||R!=null))if(K==="style")if(R){for(w in R)!R.hasOwnProperty(w)||V&&V.hasOwnProperty(w)||(l||(l={}),l[w]="");for(w in V)V.hasOwnProperty(w)&&R[w]!==V[w]&&(l||(l={}),l[w]=V[w])}else l||(g||(g=[]),g.push(K,l)),l=V;else K==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,R=R?R.__html:void 0,V!=null&&R!==V&&(g=g||[]).push(K,V)):K==="children"?typeof V!="string"&&typeof V!="number"||(g=g||[]).push(K,""+V):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(o.hasOwnProperty(K)?(V!=null&&K==="onScroll"&&Ze("scroll",r),g||R===V||(g=[])):(g=g||[]).push(K,V))}l&&(g=g||[]).push("style",l);var K=g;(i.updateQueue=K)&&(i.flags|=4)}},Gg=function(r,i,l,h){l!==h&&(i.flags|=4)};function Xa(r,i){if(!rt)switch(r.tailMode){case"hidden":i=r.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function zt(r){var i=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(i)for(var f=r.child;f!==null;)l|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)l|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=h,r.childLanes=l,i}function Nw(r,i,l){var h=i.pendingProps;switch(ld(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(i),null;case 1:return sn(i.type)&&Cu(),zt(i),null;case 3:return h=i.stateNode,Po(),et(rn),et(Ft),Ed(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(bu(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Kn!==null&&(Jd(Kn),Kn=null))),Fd(r,i),zt(i),null;case 5:vd(i);var f=mi(qa.current);if(l=i.type,r!==null&&i.stateNode!=null)$g(r,i,l,h,f),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(t(166));return zt(i),null}if(r=mi(hr.current),bu(i)){h=i.stateNode,l=i.type;var g=i.memoizedProps;switch(h[cr]=i,h[Fa]=g,r=(i.mode&1)!==0,l){case"dialog":Ze("cancel",h),Ze("close",h);break;case"iframe":case"object":case"embed":Ze("load",h);break;case"video":case"audio":for(f=0;f<Ma.length;f++)Ze(Ma[f],h);break;case"source":Ze("error",h);break;case"img":case"image":case"link":Ze("error",h),Ze("load",h);break;case"details":Ze("toggle",h);break;case"input":Hi(h,g),Ze("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},Ze("invalid",h);break;case"textarea":qi(h,g),Ze("invalid",h)}ga(l,g),f=null;for(var w in g)if(g.hasOwnProperty(w)){var R=g[w];w==="children"?typeof R=="string"?h.textContent!==R&&(g.suppressHydrationWarning!==!0&&Iu(h.textContent,R,r),f=["children",R]):typeof R=="number"&&h.textContent!==""+R&&(g.suppressHydrationWarning!==!0&&Iu(h.textContent,R,r),f=["children",""+R]):o.hasOwnProperty(w)&&R!=null&&w==="onScroll"&&Ze("scroll",h)}switch(l){case"input":xr(h),Xl(h,g,!0);break;case"textarea":xr(h),ha(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=Su)}h=f,i.updateQueue=h,h!==null&&(i.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=vt(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=w.createElement(l,{is:h.is}):(r=w.createElement(l),l==="select"&&(w=r,h.multiple?w.multiple=!0:h.size&&(w.size=h.size))):r=w.createElementNS(r,l),r[cr]=i,r[Fa]=h,Kg(r,i,!1,!1),i.stateNode=r;e:{switch(w=ya(l,h),l){case"dialog":Ze("cancel",r),Ze("close",r),f=h;break;case"iframe":case"object":case"embed":Ze("load",r),f=h;break;case"video":case"audio":for(f=0;f<Ma.length;f++)Ze(Ma[f],r);f=h;break;case"source":Ze("error",r),f=h;break;case"img":case"image":case"link":Ze("error",r),Ze("load",r),f=h;break;case"details":Ze("toggle",r),f=h;break;case"input":Hi(r,h),f=$s(r,h),Ze("invalid",r);break;case"option":f=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},f=le({},h,{value:void 0}),Ze("invalid",r);break;case"textarea":qi(r,h),f=ca(r,h),Ze("invalid",r);break;default:f=h}ga(l,f),R=f;for(g in R)if(R.hasOwnProperty(g)){var V=R[g];g==="style"?pa(r,V):g==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&da(r,V)):g==="children"?typeof V=="string"?(l!=="textarea"||V!=="")&&rs(r,V):typeof V=="number"&&rs(r,""+V):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?V!=null&&g==="onScroll"&&Ze("scroll",r):V!=null&&W(r,g,V,w))}switch(l){case"input":xr(r),Xl(r,h,!1);break;case"textarea":xr(r),ha(r);break;case"option":h.value!=null&&r.setAttribute("value",""+He(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?Rr(r,!!h.multiple,g,!1):h.defaultValue!=null&&Rr(r,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=Su)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return zt(i),null;case 6:if(r&&i.stateNode!=null)Gg(r,i,r.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(t(166));if(l=mi(qa.current),mi(hr.current),bu(i)){if(h=i.stateNode,l=i.memoizedProps,h[cr]=i,(g=h.nodeValue!==l)&&(r=vn,r!==null))switch(r.tag){case 3:Iu(h.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Iu(h.nodeValue,l,(r.mode&1)!==0)}g&&(i.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[cr]=i,i.stateNode=h}return zt(i),null;case 13:if(et(st),h=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(rt&&_n!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Ym(),So(),i.flags|=98560,g=!1;else if(g=bu(i),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[cr]=i}else So(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;zt(i),g=!1}else Kn!==null&&(Jd(Kn),Kn=null),g=!0;if(!g)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(st.current&1)!==0?Tt===0&&(Tt=3):ef())),i.updateQueue!==null&&(i.flags|=4),zt(i),null);case 4:return Po(),Fd(r,i),r===null&&ja(i.stateNode.containerInfo),zt(i),null;case 10:return pd(i.type._context),zt(i),null;case 17:return sn(i.type)&&Cu(),zt(i),null;case 19:if(et(st),g=i.memoizedState,g===null)return zt(i),null;if(h=(i.flags&128)!==0,w=g.rendering,w===null)if(h)Xa(g,!1);else{if(Tt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(w=ju(r),w!==null){for(i.flags|=128,Xa(g,!1),h=w.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=l,l=i.child;l!==null;)g=l,r=h,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,r=w.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Xe(st,st.current&1|2),i.child}r=r.sibling}g.tail!==null&&Ge()>Oo&&(i.flags|=128,h=!0,Xa(g,!1),i.lanes=4194304)}else{if(!h)if(r=ju(w),r!==null){if(i.flags|=128,h=!0,l=r.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),Xa(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!rt)return zt(i),null}else 2*Ge()-g.renderingStartTime>Oo&&l!==1073741824&&(i.flags|=128,h=!0,Xa(g,!1),i.lanes=4194304);g.isBackwards?(w.sibling=i.child,i.child=w):(l=g.last,l!==null?l.sibling=w:i.child=w,g.last=w)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=Ge(),i.sibling=null,l=st.current,Xe(st,h?l&1|2:l&1),i):(zt(i),null);case 22:case 23:return Zd(),h=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(i.flags|=8192),h&&(i.mode&1)!==0?(En&1073741824)!==0&&(zt(i),i.subtreeFlags&6&&(i.flags|=8192)):zt(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function bw(r,i){switch(ld(i),i.tag){case 1:return sn(i.type)&&Cu(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Po(),et(rn),et(Ft),Ed(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return vd(i),null;case 13:if(et(st),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(t(340));So()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return et(st),null;case 4:return Po(),null;case 10:return pd(i.type._context),null;case 22:case 23:return Zd(),null;case 24:return null;default:return null}}var Ku=!1,Ht=!1,Ow=typeof WeakSet=="function"?WeakSet:Set,ce=null;function No(r,i){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){lt(r,i,h)}else l.current=null}function Bd(r,i,l){try{l()}catch(h){lt(r,i,h)}}var Xg=!1;function Dw(r,i){if(Zh=hs,r=Rm(),qh(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var f=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var w=0,R=-1,V=-1,K=0,te=0,ne=r,Z=null;t:for(;;){for(var ae;ne!==l||f!==0&&ne.nodeType!==3||(R=w+f),ne!==g||h!==0&&ne.nodeType!==3||(V=w+h),ne.nodeType===3&&(w+=ne.nodeValue.length),(ae=ne.firstChild)!==null;)Z=ne,ne=ae;for(;;){if(ne===r)break t;if(Z===l&&++K===f&&(R=w),Z===g&&++te===h&&(V=w),(ae=ne.nextSibling)!==null)break;ne=Z,Z=ne.parentNode}ne=ae}l=R===-1||V===-1?null:{start:R,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(ed={focusedElem:r,selectionRange:l},hs=!1,ce=i;ce!==null;)if(i=ce,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,ce=r;else for(;ce!==null;){i=ce;try{var he=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var fe=he.memoizedProps,ht=he.memoizedState,z=i.stateNode,j=z.getSnapshotBeforeUpdate(i.elementType===i.type?fe:$n(i.type,fe),ht);z.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var Q=i.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(re){lt(i,i.return,re)}if(r=i.sibling,r!==null){r.return=i.return,ce=r;break}ce=i.return}return he=Xg,Xg=!1,he}function Ja(r,i,l){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&Bd(i,l,g)}f=f.next}while(f!==h)}}function $u(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&r)===r){var h=l.create;l.destroy=h()}l=l.next}while(l!==i)}}function zd(r){var i=r.ref;if(i!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof i=="function"?i(r):i.current=r}}function Jg(r){var i=r.alternate;i!==null&&(r.alternate=null,Jg(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[cr],delete i[Fa],delete i[sd],delete i[gw],delete i[yw])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Yg(r){return r.tag===5||r.tag===3||r.tag===4}function Zg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Yg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Hd(r,i,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(r,i):l.insertBefore(r,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(r,l)):(i=l,i.appendChild(r)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Su));else if(h!==4&&(r=r.child,r!==null))for(Hd(r,i,l),r=r.sibling;r!==null;)Hd(r,i,l),r=r.sibling}function Wd(r,i,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?l.insertBefore(r,i):l.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Wd(r,i,l),r=r.sibling;r!==null;)Wd(r,i,l),r=r.sibling}var Lt=null,Gn=!1;function _s(r,i,l){for(l=l.child;l!==null;)ey(r,i,l),l=l.sibling}function ey(r,i,l){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(ri,l)}catch{}switch(l.tag){case 5:Ht||No(l,i);case 6:var h=Lt,f=Gn;Lt=null,_s(r,i,l),Lt=h,Gn=f,Lt!==null&&(Gn?(r=Lt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Lt.removeChild(l.stateNode));break;case 18:Lt!==null&&(Gn?(r=Lt,l=l.stateNode,r.nodeType===8?rd(r.parentNode,l):r.nodeType===1&&rd(r,l),Wn(r)):rd(Lt,l.stateNode));break;case 4:h=Lt,f=Gn,Lt=l.stateNode.containerInfo,Gn=!0,_s(r,i,l),Lt=h,Gn=f;break;case 0:case 11:case 14:case 15:if(!Ht&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var g=f,w=g.destroy;g=g.tag,w!==void 0&&((g&2)!==0||(g&4)!==0)&&Bd(l,i,w),f=f.next}while(f!==h)}_s(r,i,l);break;case 1:if(!Ht&&(No(l,i),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(R){lt(l,i,R)}_s(r,i,l);break;case 21:_s(r,i,l);break;case 22:l.mode&1?(Ht=(h=Ht)||l.memoizedState!==null,_s(r,i,l),Ht=h):_s(r,i,l);break;default:_s(r,i,l)}}function ty(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new Ow),i.forEach(function(h){var f=Hw.bind(null,r,h);l.has(h)||(l.add(h),h.then(f,f))})}}function Xn(r,i){var l=i.deletions;if(l!==null)for(var h=0;h<l.length;h++){var f=l[h];try{var g=r,w=i,R=w;e:for(;R!==null;){switch(R.tag){case 5:Lt=R.stateNode,Gn=!1;break e;case 3:Lt=R.stateNode.containerInfo,Gn=!0;break e;case 4:Lt=R.stateNode.containerInfo,Gn=!0;break e}R=R.return}if(Lt===null)throw Error(t(160));ey(g,w,f),Lt=null,Gn=!1;var V=f.alternate;V!==null&&(V.return=null),f.return=null}catch(K){lt(f,i,K)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)ny(i,r),i=i.sibling}function ny(r,i){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Xn(i,r),fr(r),h&4){try{Ja(3,r,r.return),$u(3,r)}catch(fe){lt(r,r.return,fe)}try{Ja(5,r,r.return)}catch(fe){lt(r,r.return,fe)}}break;case 1:Xn(i,r),fr(r),h&512&&l!==null&&No(l,l.return);break;case 5:if(Xn(i,r),fr(r),h&512&&l!==null&&No(l,l.return),r.flags&32){var f=r.stateNode;try{rs(f,"")}catch(fe){lt(r,r.return,fe)}}if(h&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,w=l!==null?l.memoizedProps:g,R=r.type,V=r.updateQueue;if(r.updateQueue=null,V!==null)try{R==="input"&&g.type==="radio"&&g.name!=null&&la(f,g),ya(R,w);var K=ya(R,g);for(w=0;w<V.length;w+=2){var te=V[w],ne=V[w+1];te==="style"?pa(f,ne):te==="dangerouslySetInnerHTML"?da(f,ne):te==="children"?rs(f,ne):W(f,te,ne,K)}switch(R){case"input":ua(f,g);break;case"textarea":Qi(f,g);break;case"select":var Z=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var ae=g.value;ae!=null?Rr(f,!!g.multiple,ae,!1):Z!==!!g.multiple&&(g.defaultValue!=null?Rr(f,!!g.multiple,g.defaultValue,!0):Rr(f,!!g.multiple,g.multiple?[]:"",!1))}f[Fa]=g}catch(fe){lt(r,r.return,fe)}}break;case 6:if(Xn(i,r),fr(r),h&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(fe){lt(r,r.return,fe)}}break;case 3:if(Xn(i,r),fr(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Wn(i.containerInfo)}catch(fe){lt(r,r.return,fe)}break;case 4:Xn(i,r),fr(r);break;case 13:Xn(i,r),fr(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(Kd=Ge())),h&4&&ty(r);break;case 22:if(te=l!==null&&l.memoizedState!==null,r.mode&1?(Ht=(K=Ht)||te,Xn(i,r),Ht=K):Xn(i,r),fr(r),h&8192){if(K=r.memoizedState!==null,(r.stateNode.isHidden=K)&&!te&&(r.mode&1)!==0)for(ce=r,te=r.child;te!==null;){for(ne=ce=te;ce!==null;){switch(Z=ce,ae=Z.child,Z.tag){case 0:case 11:case 14:case 15:Ja(4,Z,Z.return);break;case 1:No(Z,Z.return);var he=Z.stateNode;if(typeof he.componentWillUnmount=="function"){h=Z,l=Z.return;try{i=h,he.props=i.memoizedProps,he.state=i.memoizedState,he.componentWillUnmount()}catch(fe){lt(h,l,fe)}}break;case 5:No(Z,Z.return);break;case 22:if(Z.memoizedState!==null){iy(ne);continue}}ae!==null?(ae.return=Z,ce=ae):iy(ne)}te=te.sibling}e:for(te=null,ne=r;;){if(ne.tag===5){if(te===null){te=ne;try{f=ne.stateNode,K?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(R=ne.stateNode,V=ne.memoizedProps.style,w=V!=null&&V.hasOwnProperty("display")?V.display:null,R.style.display=fa("display",w))}catch(fe){lt(r,r.return,fe)}}}else if(ne.tag===6){if(te===null)try{ne.stateNode.nodeValue=K?"":ne.memoizedProps}catch(fe){lt(r,r.return,fe)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===r)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===r)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===r)break e;te===ne&&(te=null),ne=ne.return}te===ne&&(te=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:Xn(i,r),fr(r),h&4&&ty(r);break;case 21:break;default:Xn(i,r),fr(r)}}function fr(r){var i=r.flags;if(i&2){try{e:{for(var l=r.return;l!==null;){if(Yg(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(rs(f,""),h.flags&=-33);var g=Zg(r);Wd(r,g,f);break;case 3:case 4:var w=h.stateNode.containerInfo,R=Zg(r);Hd(r,R,w);break;default:throw Error(t(161))}}catch(V){lt(r,r.return,V)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Lw(r,i,l){ce=r,ry(r)}function ry(r,i,l){for(var h=(r.mode&1)!==0;ce!==null;){var f=ce,g=f.child;if(f.tag===22&&h){var w=f.memoizedState!==null||Ku;if(!w){var R=f.alternate,V=R!==null&&R.memoizedState!==null||Ht;R=Ku;var K=Ht;if(Ku=w,(Ht=V)&&!K)for(ce=f;ce!==null;)w=ce,V=w.child,w.tag===22&&w.memoizedState!==null?oy(f):V!==null?(V.return=w,ce=V):oy(f);for(;g!==null;)ce=g,ry(g),g=g.sibling;ce=f,Ku=R,Ht=K}sy(r)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,ce=g):sy(r)}}function sy(r){for(;ce!==null;){var i=ce;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Ht||$u(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!Ht)if(l===null)h.componentDidMount();else{var f=i.elementType===i.type?l.memoizedProps:$n(i.type,l.memoizedProps);h.componentDidUpdate(f,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=i.updateQueue;g!==null&&ig(i,g,h);break;case 3:var w=i.updateQueue;if(w!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}ig(i,w,l)}break;case 5:var R=i.stateNode;if(l===null&&i.flags&4){l=R;var V=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&l.focus();break;case"img":V.src&&(l.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var K=i.alternate;if(K!==null){var te=K.memoizedState;if(te!==null){var ne=te.dehydrated;ne!==null&&Wn(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ht||i.flags&512&&zd(i)}catch(Z){lt(i,i.return,Z)}}if(i===r){ce=null;break}if(l=i.sibling,l!==null){l.return=i.return,ce=l;break}ce=i.return}}function iy(r){for(;ce!==null;){var i=ce;if(i===r){ce=null;break}var l=i.sibling;if(l!==null){l.return=i.return,ce=l;break}ce=i.return}}function oy(r){for(;ce!==null;){var i=ce;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{$u(4,i)}catch(V){lt(i,l,V)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var f=i.return;try{h.componentDidMount()}catch(V){lt(i,f,V)}}var g=i.return;try{zd(i)}catch(V){lt(i,g,V)}break;case 5:var w=i.return;try{zd(i)}catch(V){lt(i,w,V)}}}catch(V){lt(i,i.return,V)}if(i===r){ce=null;break}var R=i.sibling;if(R!==null){R.return=i.return,ce=R;break}ce=i.return}}var Vw=Math.ceil,Gu=X.ReactCurrentDispatcher,qd=X.ReactCurrentOwner,Nn=X.ReactCurrentBatchConfig,je=0,kt=null,pt=null,Vt=0,En=0,bo=ms(0),Tt=0,Ya=null,yi=0,Xu=0,Qd=0,Za=null,an=null,Kd=0,Oo=1/0,Hr=null,Ju=!1,$d=null,Es=null,Yu=!1,ws=null,Zu=0,el=0,Gd=null,ec=-1,tc=0;function Yt(){return(je&6)!==0?Ge():ec!==-1?ec:ec=Ge()}function Ts(r){return(r.mode&1)===0?1:(je&2)!==0&&Vt!==0?Vt&-Vt:vw.transition!==null?(tc===0&&(tc=ii()),tc):(r=De,r!==0||(r=window.event,r=r===void 0?16:Ra(r.type)),r)}function Jn(r,i,l,h){if(50<el)throw el=0,Gd=null,Error(t(185));as(r,l,h),((je&2)===0||r!==kt)&&(r===kt&&((je&2)===0&&(Xu|=l),Tt===4&&Is(r,Vt)),ln(r,h),l===1&&je===0&&(i.mode&1)===0&&(Oo=Ge()+500,Pu&&ys()))}function ln(r,i){var l=r.callbackNode;Nr(r,i);var h=si(r,r===kt?Vt:0);if(h===0)l!==null&&Ta(l),r.callbackNode=null,r.callbackPriority=0;else if(i=h&-h,r.callbackPriority!==i){if(l!=null&&Ta(l),i===1)r.tag===0?Aw(ly.bind(null,r)):Km(ly.bind(null,r)),pw(function(){(je&6)===0&&ys()}),l=null;else{switch(us(h)){case 1:l=ni;break;case 4:l=ss;break;case 16:l=In;break;case 536870912:l=tu;break;default:l=In}l=gy(l,ay.bind(null,r))}r.callbackPriority=i,r.callbackNode=l}}function ay(r,i){if(ec=-1,tc=0,(je&6)!==0)throw Error(t(327));var l=r.callbackNode;if(Do()&&r.callbackNode!==l)return null;var h=si(r,r===kt?Vt:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||i)i=nc(r,h);else{i=h;var f=je;je|=2;var g=cy();(kt!==r||Vt!==i)&&(Hr=null,Oo=Ge()+500,vi(r,i));do try{Uw();break}catch(R){uy(r,R)}while(!0);fd(),Gu.current=g,je=f,pt!==null?i=0:(kt=null,Vt=0,i=Tt)}if(i!==0){if(i===2&&(f=gn(r),f!==0&&(h=f,i=Xd(r,f))),i===1)throw l=Ya,vi(r,0),Is(r,h),ln(r,Ge()),l;if(i===6)Is(r,h);else{if(f=r.current.alternate,(h&30)===0&&!Mw(f)&&(i=nc(r,h),i===2&&(g=gn(r),g!==0&&(h=g,i=Xd(r,g))),i===1))throw l=Ya,vi(r,0),Is(r,h),ln(r,Ge()),l;switch(r.finishedWork=f,r.finishedLanes=h,i){case 0:case 1:throw Error(t(345));case 2:_i(r,an,Hr);break;case 3:if(Is(r,h),(h&130023424)===h&&(i=Kd+500-Ge(),10<i)){if(si(r,0)!==0)break;if(f=r.suspendedLanes,(f&h)!==h){Yt(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=nd(_i.bind(null,r,an,Hr),i);break}_i(r,an,Hr);break;case 4:if(Is(r,h),(h&4194240)===h)break;for(i=r.eventTimes,f=-1;0<h;){var w=31-Gt(h);g=1<<w,w=i[w],w>f&&(f=w),h&=~g}if(h=f,h=Ge()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Vw(h/1960))-h,10<h){r.timeoutHandle=nd(_i.bind(null,r,an,Hr),h);break}_i(r,an,Hr);break;case 5:_i(r,an,Hr);break;default:throw Error(t(329))}}}return ln(r,Ge()),r.callbackNode===l?ay.bind(null,r):null}function Xd(r,i){var l=Za;return r.current.memoizedState.isDehydrated&&(vi(r,i).flags|=256),r=nc(r,i),r!==2&&(i=an,an=l,i!==null&&Jd(i)),r}function Jd(r){an===null?an=r:an.push.apply(an,r)}function Mw(r){for(var i=r;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var f=l[h],g=f.getSnapshot;f=f.value;try{if(!Qn(g(),f))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Is(r,i){for(i&=~Qd,i&=~Xu,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var l=31-Gt(i),h=1<<l;r[l]=-1,i&=~h}}function ly(r){if((je&6)!==0)throw Error(t(327));Do();var i=si(r,0);if((i&1)===0)return ln(r,Ge()),null;var l=nc(r,i);if(r.tag!==0&&l===2){var h=gn(r);h!==0&&(i=h,l=Xd(r,h))}if(l===1)throw l=Ya,vi(r,0),Is(r,i),ln(r,Ge()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,_i(r,an,Hr),ln(r,Ge()),null}function Yd(r,i){var l=je;je|=1;try{return r(i)}finally{je=l,je===0&&(Oo=Ge()+500,Pu&&ys())}}function Ai(r){ws!==null&&ws.tag===0&&(je&6)===0&&Do();var i=je;je|=1;var l=Nn.transition,h=De;try{if(Nn.transition=null,De=1,r)return r()}finally{De=h,Nn.transition=l,je=i,(je&6)===0&&ys()}}function Zd(){En=bo.current,et(bo)}function vi(r,i){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,fw(l)),pt!==null)for(l=pt.return;l!==null;){var h=l;switch(ld(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Cu();break;case 3:Po(),et(rn),et(Ft),Ed();break;case 5:vd(h);break;case 4:Po();break;case 13:et(st);break;case 19:et(st);break;case 10:pd(h.type._context);break;case 22:case 23:Zd()}l=l.return}if(kt=r,pt=r=Ss(r.current,null),Vt=En=i,Tt=0,Ya=null,Qd=Xu=yi=0,an=Za=null,pi!==null){for(i=0;i<pi.length;i++)if(l=pi[i],h=l.interleaved,h!==null){l.interleaved=null;var f=h.next,g=l.pending;if(g!==null){var w=g.next;g.next=f,h.next=w}l.pending=h}pi=null}return r}function uy(r,i){do{var l=pt;try{if(fd(),Uu.current=Hu,Fu){for(var h=it.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}Fu=!1}if(gi=0,Pt=wt=it=null,Qa=!1,Ka=0,qd.current=null,l===null||l.return===null){Tt=1,Ya=i,pt=null;break}e:{var g=r,w=l.return,R=l,V=i;if(i=Vt,R.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var K=V,te=R,ne=te.tag;if((te.mode&1)===0&&(ne===0||ne===11||ne===15)){var Z=te.alternate;Z?(te.updateQueue=Z.updateQueue,te.memoizedState=Z.memoizedState,te.lanes=Z.lanes):(te.updateQueue=null,te.memoizedState=null)}var ae=Dg(w);if(ae!==null){ae.flags&=-257,Lg(ae,w,R,g,i),ae.mode&1&&Og(g,K,i),i=ae,V=K;var he=i.updateQueue;if(he===null){var fe=new Set;fe.add(V),i.updateQueue=fe}else he.add(V);break e}else{if((i&1)===0){Og(g,K,i),ef();break e}V=Error(t(426))}}else if(rt&&R.mode&1){var ht=Dg(w);if(ht!==null){(ht.flags&65536)===0&&(ht.flags|=256),Lg(ht,w,R,g,i),hd(ko(V,R));break e}}g=V=ko(V,R),Tt!==4&&(Tt=2),Za===null?Za=[g]:Za.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,i&=-i,g.lanes|=i;var z=Ng(g,V,i);sg(g,z);break e;case 1:R=V;var j=g.type,Q=g.stateNode;if((g.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Es===null||!Es.has(Q)))){g.flags|=65536,i&=-i,g.lanes|=i;var re=bg(g,R,i);sg(g,re);break e}}g=g.return}while(g!==null)}dy(l)}catch(pe){i=pe,pt===l&&l!==null&&(pt=l=l.return);continue}break}while(!0)}function cy(){var r=Gu.current;return Gu.current=Hu,r===null?Hu:r}function ef(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),kt===null||(yi&268435455)===0&&(Xu&268435455)===0||Is(kt,Vt)}function nc(r,i){var l=je;je|=2;var h=cy();(kt!==r||Vt!==i)&&(Hr=null,vi(r,i));do try{jw();break}catch(f){uy(r,f)}while(!0);if(fd(),je=l,Gu.current=h,pt!==null)throw Error(t(261));return kt=null,Vt=0,Tt}function jw(){for(;pt!==null;)hy(pt)}function Uw(){for(;pt!==null&&!Zl();)hy(pt)}function hy(r){var i=my(r.alternate,r,En);r.memoizedProps=r.pendingProps,i===null?dy(r):pt=i,qd.current=null}function dy(r){var i=r;do{var l=i.alternate;if(r=i.return,(i.flags&32768)===0){if(l=Nw(l,i,En),l!==null){pt=l;return}}else{if(l=bw(l,i),l!==null){l.flags&=32767,pt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Tt=6,pt=null;return}}if(i=i.sibling,i!==null){pt=i;return}pt=i=r}while(i!==null);Tt===0&&(Tt=5)}function _i(r,i,l){var h=De,f=Nn.transition;try{Nn.transition=null,De=1,Fw(r,i,l,h)}finally{Nn.transition=f,De=h}return null}function Fw(r,i,l,h){do Do();while(ws!==null);if((je&6)!==0)throw Error(t(327));l=r.finishedWork;var f=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=l.lanes|l.childLanes;if(Qe(r,g),r===kt&&(pt=kt=null,Vt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Yu||(Yu=!0,gy(In,function(){return Do(),null})),g=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||g){g=Nn.transition,Nn.transition=null;var w=De;De=1;var R=je;je|=4,qd.current=null,Dw(r,l),ny(l,r),ow(ed),hs=!!Zh,ed=Zh=null,r.current=l,Lw(l),Mh(),je=R,De=w,Nn.transition=g}else r.current=l;if(Yu&&(Yu=!1,ws=r,Zu=f),g=r.pendingLanes,g===0&&(Es=null),nu(l.stateNode),ln(r,Ge()),i!==null)for(h=r.onRecoverableError,l=0;l<i.length;l++)f=i[l],h(f.value,{componentStack:f.stack,digest:f.digest});if(Ju)throw Ju=!1,r=$d,$d=null,r;return(Zu&1)!==0&&r.tag!==0&&Do(),g=r.pendingLanes,(g&1)!==0?r===Gd?el++:(el=0,Gd=r):el=0,ys(),null}function Do(){if(ws!==null){var r=us(Zu),i=Nn.transition,l=De;try{if(Nn.transition=null,De=16>r?16:r,ws===null)var h=!1;else{if(r=ws,ws=null,Zu=0,(je&6)!==0)throw Error(t(331));var f=je;for(je|=4,ce=r.current;ce!==null;){var g=ce,w=g.child;if((ce.flags&16)!==0){var R=g.deletions;if(R!==null){for(var V=0;V<R.length;V++){var K=R[V];for(ce=K;ce!==null;){var te=ce;switch(te.tag){case 0:case 11:case 15:Ja(8,te,g)}var ne=te.child;if(ne!==null)ne.return=te,ce=ne;else for(;ce!==null;){te=ce;var Z=te.sibling,ae=te.return;if(Jg(te),te===K){ce=null;break}if(Z!==null){Z.return=ae,ce=Z;break}ce=ae}}}var he=g.alternate;if(he!==null){var fe=he.child;if(fe!==null){he.child=null;do{var ht=fe.sibling;fe.sibling=null,fe=ht}while(fe!==null)}}ce=g}}if((g.subtreeFlags&2064)!==0&&w!==null)w.return=g,ce=w;else e:for(;ce!==null;){if(g=ce,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Ja(9,g,g.return)}var z=g.sibling;if(z!==null){z.return=g.return,ce=z;break e}ce=g.return}}var j=r.current;for(ce=j;ce!==null;){w=ce;var Q=w.child;if((w.subtreeFlags&2064)!==0&&Q!==null)Q.return=w,ce=Q;else e:for(w=j;ce!==null;){if(R=ce,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:$u(9,R)}}catch(pe){lt(R,R.return,pe)}if(R===w){ce=null;break e}var re=R.sibling;if(re!==null){re.return=R.return,ce=re;break e}ce=R.return}}if(je=f,ys(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(ri,r)}catch{}h=!0}return h}finally{De=l,Nn.transition=i}}return!1}function fy(r,i,l){i=ko(l,i),i=Ng(r,i,1),r=vs(r,i,1),i=Yt(),r!==null&&(as(r,1,i),ln(r,i))}function lt(r,i,l){if(r.tag===3)fy(r,r,l);else for(;i!==null;){if(i.tag===3){fy(i,r,l);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Es===null||!Es.has(h))){r=ko(l,r),r=bg(i,r,1),i=vs(i,r,1),r=Yt(),i!==null&&(as(i,1,r),ln(i,r));break}}i=i.return}}function Bw(r,i,l){var h=r.pingCache;h!==null&&h.delete(i),i=Yt(),r.pingedLanes|=r.suspendedLanes&l,kt===r&&(Vt&l)===l&&(Tt===4||Tt===3&&(Vt&130023424)===Vt&&500>Ge()-Kd?vi(r,0):Qd|=l),ln(r,i)}function py(r,i){i===0&&((r.mode&1)===0?i=1:(i=no,no<<=1,(no&130023424)===0&&(no=4194304)));var l=Yt();r=Fr(r,i),r!==null&&(as(r,i,l),ln(r,l))}function zw(r){var i=r.memoizedState,l=0;i!==null&&(l=i.retryLane),py(r,l)}function Hw(r,i){var l=0;switch(r.tag){case 13:var h=r.stateNode,f=r.memoizedState;f!==null&&(l=f.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(i),py(r,l)}var my;my=function(r,i,l){if(r!==null)if(r.memoizedProps!==i.pendingProps||rn.current)on=!0;else{if((r.lanes&l)===0&&(i.flags&128)===0)return on=!1,kw(r,i,l);on=(r.flags&131072)!==0}else on=!1,rt&&(i.flags&1048576)!==0&&$m(i,Nu,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;Qu(r,i),r=i.pendingProps;var f=wo(i,Ft.current);Ro(i,l),f=Id(null,i,h,r,f,l);var g=Sd();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,sn(h)?(g=!0,Ru(i)):g=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,yd(i),f.updater=Wu,i.stateNode=f,f._reactInternals=i,Nd(i,h,r,l),i=Ld(null,i,h,!0,g,l)):(i.tag=0,rt&&g&&ad(i),Jt(null,i,f,l),i=i.child),i;case 16:h=i.elementType;e:{switch(Qu(r,i),r=i.pendingProps,f=h._init,h=f(h._payload),i.type=h,f=i.tag=qw(h),r=$n(h,r),f){case 0:i=Dd(null,i,h,r,l);break e;case 1:i=Bg(null,i,h,r,l);break e;case 11:i=Vg(null,i,h,r,l);break e;case 14:i=Mg(null,i,h,$n(h.type,r),l);break e}throw Error(t(306,h,""))}return i;case 0:return h=i.type,f=i.pendingProps,f=i.elementType===h?f:$n(h,f),Dd(r,i,h,f,l);case 1:return h=i.type,f=i.pendingProps,f=i.elementType===h?f:$n(h,f),Bg(r,i,h,f,l);case 3:e:{if(zg(i),r===null)throw Error(t(387));h=i.pendingProps,g=i.memoizedState,f=g.element,rg(r,i),Mu(i,h,null,l);var w=i.memoizedState;if(h=w.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){f=ko(Error(t(423)),i),i=Hg(r,i,h,l,f);break e}else if(h!==f){f=ko(Error(t(424)),i),i=Hg(r,i,h,l,f);break e}else for(_n=ps(i.stateNode.containerInfo.firstChild),vn=i,rt=!0,Kn=null,l=tg(i,null,h,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(So(),h===f){i=zr(r,i,l);break e}Jt(r,i,h,l)}i=i.child}return i;case 5:return og(i),r===null&&cd(i),h=i.type,f=i.pendingProps,g=r!==null?r.memoizedProps:null,w=f.children,td(h,f)?w=null:g!==null&&td(h,g)&&(i.flags|=32),Fg(r,i),Jt(r,i,w,l),i.child;case 6:return r===null&&cd(i),null;case 13:return Wg(r,i,l);case 4:return Ad(i,i.stateNode.containerInfo),h=i.pendingProps,r===null?i.child=xo(i,null,h,l):Jt(r,i,h,l),i.child;case 11:return h=i.type,f=i.pendingProps,f=i.elementType===h?f:$n(h,f),Vg(r,i,h,f,l);case 7:return Jt(r,i,i.pendingProps,l),i.child;case 8:return Jt(r,i,i.pendingProps.children,l),i.child;case 12:return Jt(r,i,i.pendingProps.children,l),i.child;case 10:e:{if(h=i.type._context,f=i.pendingProps,g=i.memoizedProps,w=f.value,Xe(Du,h._currentValue),h._currentValue=w,g!==null)if(Qn(g.value,w)){if(g.children===f.children&&!rn.current){i=zr(r,i,l);break e}}else for(g=i.child,g!==null&&(g.return=i);g!==null;){var R=g.dependencies;if(R!==null){w=g.child;for(var V=R.firstContext;V!==null;){if(V.context===h){if(g.tag===1){V=Br(-1,l&-l),V.tag=2;var K=g.updateQueue;if(K!==null){K=K.shared;var te=K.pending;te===null?V.next=V:(V.next=te.next,te.next=V),K.pending=V}}g.lanes|=l,V=g.alternate,V!==null&&(V.lanes|=l),md(g.return,l,i),R.lanes|=l;break}V=V.next}}else if(g.tag===10)w=g.type===i.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=l,R=w.alternate,R!==null&&(R.lanes|=l),md(w,l,i),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===i){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}Jt(r,i,f.children,l),i=i.child}return i;case 9:return f=i.type,h=i.pendingProps.children,Ro(i,l),f=Pn(f),h=h(f),i.flags|=1,Jt(r,i,h,l),i.child;case 14:return h=i.type,f=$n(h,i.pendingProps),f=$n(h.type,f),Mg(r,i,h,f,l);case 15:return jg(r,i,i.type,i.pendingProps,l);case 17:return h=i.type,f=i.pendingProps,f=i.elementType===h?f:$n(h,f),Qu(r,i),i.tag=1,sn(h)?(r=!0,Ru(i)):r=!1,Ro(i,l),Pg(i,h,f),Nd(i,h,f,l),Ld(null,i,h,!0,r,l);case 19:return Qg(r,i,l);case 22:return Ug(r,i,l)}throw Error(t(156,i.tag))};function gy(r,i){return eo(r,i)}function Ww(r,i,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(r,i,l,h){return new Ww(r,i,l,h)}function tf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function qw(r){if(typeof r=="function")return tf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===M)return 11;if(r===yt)return 14}return 2}function Ss(r,i){var l=r.alternate;return l===null?(l=bn(r.tag,i,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=i,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,i=r.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function rc(r,i,l,h,f,g){var w=2;if(h=r,typeof r=="function")tf(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case N:return Ei(l.children,f,g,i);case S:w=8,f|=8;break;case x:return r=bn(12,l,i,f|2),r.elementType=x,r.lanes=g,r;case P:return r=bn(13,l,i,f),r.elementType=P,r.lanes=g,r;case Ye:return r=bn(19,l,i,f),r.elementType=Ye,r.lanes=g,r;case Fe:return sc(l,f,g,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case k:w=10;break e;case D:w=9;break e;case M:w=11;break e;case yt:w=14;break e;case At:w=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return i=bn(w,l,i,f),i.elementType=r,i.type=h,i.lanes=g,i}function Ei(r,i,l,h){return r=bn(7,r,h,i),r.lanes=l,r}function sc(r,i,l,h){return r=bn(22,r,h,i),r.elementType=Fe,r.lanes=l,r.stateNode={isHidden:!1},r}function nf(r,i,l){return r=bn(6,r,null,i),r.lanes=l,r}function rf(r,i,l){return i=bn(4,r.children!==null?r.children:[],r.key,i),i.lanes=l,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function Qw(r,i,l,h,f){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=os(0),this.expirationTimes=os(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=os(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function sf(r,i,l,h,f,g,w,R,V){return r=new Qw(r,i,l,R,V),i===1?(i=1,g===!0&&(i|=8)):i=0,g=bn(3,null,null,i),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},yd(g),r}function Kw(r,i,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:de,key:h==null?null:""+h,children:r,containerInfo:i,implementation:l}}function yy(r){if(!r)return gs;r=r._reactInternals;e:{if(Un(r)!==r||r.tag!==1)throw Error(t(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(sn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(sn(l))return qm(r,l,i)}return i}function Ay(r,i,l,h,f,g,w,R,V){return r=sf(l,h,!0,r,f,g,w,R,V),r.context=yy(null),l=r.current,h=Yt(),f=Ts(l),g=Br(h,f),g.callback=i??null,vs(l,g,f),r.current.lanes=f,as(r,f,h),ln(r,h),r}function ic(r,i,l,h){var f=i.current,g=Yt(),w=Ts(f);return l=yy(l),i.context===null?i.context=l:i.pendingContext=l,i=Br(g,w),i.payload={element:r},h=h===void 0?null:h,h!==null&&(i.callback=h),r=vs(f,i,w),r!==null&&(Jn(r,f,w,g),Vu(r,f,w)),w}function oc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function vy(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<i?l:i}}function of(r,i){vy(r,i),(r=r.alternate)&&vy(r,i)}function $w(){return null}var _y=typeof reportError=="function"?reportError:function(r){console.error(r)};function af(r){this._internalRoot=r}ac.prototype.render=af.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(t(409));ic(r,i,null,null)},ac.prototype.unmount=af.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Ai(function(){ic(null,r,null,null)}),i[Vr]=null}};function ac(r){this._internalRoot=r}ac.prototype.unstable_scheduleHydration=function(r){if(r){var i=au();r={blockedOn:null,target:r,priority:i};for(var l=0;l<or.length&&i!==0&&i<or[l].priority;l++);or.splice(l,0,r),l===0&&cu(r)}};function lf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function lc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Ey(){}function Gw(r,i,l,h,f){if(f){if(typeof h=="function"){var g=h;h=function(){var K=oc(w);g.call(K)}}var w=Ay(i,h,r,0,null,!1,!1,"",Ey);return r._reactRootContainer=w,r[Vr]=w.current,ja(r.nodeType===8?r.parentNode:r),Ai(),w}for(;f=r.lastChild;)r.removeChild(f);if(typeof h=="function"){var R=h;h=function(){var K=oc(V);R.call(K)}}var V=sf(r,0,!1,null,null,!1,!1,"",Ey);return r._reactRootContainer=V,r[Vr]=V.current,ja(r.nodeType===8?r.parentNode:r),Ai(function(){ic(i,V,l,h)}),V}function uc(r,i,l,h,f){var g=l._reactRootContainer;if(g){var w=g;if(typeof f=="function"){var R=f;f=function(){var V=oc(w);R.call(V)}}ic(i,w,r,f)}else w=Gw(l,i,r,f,h);return oc(w)}iu=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var l=is(i.pendingLanes);l!==0&&(ls(i,l|1),ln(i,Ge()),(je&6)===0&&(Oo=Ge()+500,ys()))}break;case 13:Ai(function(){var h=Fr(r,1);if(h!==null){var f=Yt();Jn(h,r,1,f)}}),of(r,1)}},ro=function(r){if(r.tag===13){var i=Fr(r,134217728);if(i!==null){var l=Yt();Jn(i,r,134217728,l)}of(r,134217728)}},ou=function(r){if(r.tag===13){var i=Ts(r),l=Fr(r,i);if(l!==null){var h=Yt();Jn(l,r,i,h)}of(r,i)}},au=function(){return De},lu=function(r,i){var l=De;try{return De=r,i()}finally{De=l}},$i=function(r,i,l){switch(i){case"input":if(ua(r,l),i=l.name,l.type==="radio"&&i!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var h=l[i];if(h!==r&&h.form===r.form){var f=xu(h);if(!f)throw Error(t(90));zi(h),ua(h,f)}}}break;case"textarea":Qi(r,l);break;case"select":i=l.value,i!=null&&Rr(r,!!l.multiple,i,!1)}},Ys=Yd,va=Ai;var Xw={usingClientEntryPoint:!1,Events:[Ba,_o,xu,sr,Aa,Yd]},tl={findFiberByHostInstance:ci,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jw={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=wa(r),r===null?null:r.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||$w,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cc.isDisabled&&cc.supportsFiber)try{ri=cc.inject(Jw),mn=cc}catch{}}return un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xw,un.createPortal=function(r,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lf(i))throw Error(t(200));return Kw(r,i,null,l)},un.createRoot=function(r,i){if(!lf(r))throw Error(t(299));var l=!1,h="",f=_y;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=sf(r,1,!1,null,null,l,!1,h,f),r[Vr]=i.current,ja(r.nodeType===8?r.parentNode:r),new af(i)},un.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=wa(i),r=r===null?null:r.stateNode,r},un.flushSync=function(r){return Ai(r)},un.hydrate=function(r,i,l){if(!lc(i))throw Error(t(200));return uc(null,r,i,!0,l)},un.hydrateRoot=function(r,i,l){if(!lf(r))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,f=!1,g="",w=_y;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),i=Ay(i,null,r,1,l??null,f,!1,g,w),r[Vr]=i.current,ja(r),h)for(r=0;r<h.length;r++)l=h[r],f=l._getVersion,f=f(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,f]:i.mutableSourceEagerHydrationData.push(l,f);return new ac(i)},un.render=function(r,i,l){if(!lc(i))throw Error(t(200));return uc(null,r,i,!1,l)},un.unmountComponentAtNode=function(r){if(!lc(r))throw Error(t(40));return r._reactRootContainer?(Ai(function(){uc(null,null,r,!1,function(){r._reactRootContainer=null,r[Vr]=null})}),!0):!1},un.unstable_batchedUpdates=Yd,un.unstable_renderSubtreeIntoContainer=function(r,i,l,h){if(!lc(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return uc(r,i,l,!1,h)},un.version="18.3.1-next-f1338f8080-20240426",un}var Py;function Rv(){if(Py)return hf.exports;Py=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),hf.exports=oT(),hf.exports}var ky;function aT(){if(ky)return hc;ky=1;var n=Rv();return hc.createRoot=n.createRoot,hc.hydrateRoot=n.hydrateRoot,hc}var lT=aT();const uT=Cv(lT);Rv();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gl(){return gl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},gl.apply(this,arguments)}var Ns;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ns||(Ns={}));const Ny="popstate";function cT(n){n===void 0&&(n={});function e(s,o){let{pathname:a,search:c,hash:d}=s.location;return Of("",{pathname:a,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Nc(o)}return dT(e,t,null,n)}function ut(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Pv(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hT(){return Math.random().toString(36).substr(2,8)}function by(n,e){return{usr:n.state,key:n.key,idx:e}}function Of(n,e,t,s){return t===void 0&&(t=null),gl({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Yo(e):e,{state:t,key:e&&e.key||s||hT()})}function Nc(n){let{pathname:e="/",search:t="",hash:s=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Yo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substr(s),n=n.substr(0,s)),n&&(e.pathname=n)}return e}function dT(n,e,t,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:a=!1}=s,c=o.history,d=Ns.Pop,p=null,y=v();y==null&&(y=0,c.replaceState(gl({},c.state,{idx:y}),""));function v(){return(c.state||{idx:null}).idx}function E(){d=Ns.Pop;let C=v(),q=C==null?null:C-y;y=C,p&&p({action:d,location:O.location,delta:q})}function T(C,q){d=Ns.Push;let U=Of(O.location,C,q);y=v()+1;let W=by(U,y),X=O.createHref(U);try{c.pushState(W,"",X)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;o.location.assign(X)}a&&p&&p({action:d,location:O.location,delta:1})}function L(C,q){d=Ns.Replace;let U=Of(O.location,C,q);y=v();let W=by(U,y),X=O.createHref(U);c.replaceState(W,"",X),a&&p&&p({action:d,location:O.location,delta:0})}function b(C){let q=o.location.origin!=="null"?o.location.origin:o.location.href,U=typeof C=="string"?C:Nc(C);return U=U.replace(/ $/,"%20"),ut(q,"No window.location.(origin|href) available to create URL for href: "+U),new URL(U,q)}let O={get action(){return d},get location(){return n(o,c)},listen(C){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Ny,E),p=C,()=>{o.removeEventListener(Ny,E),p=null}},createHref(C){return e(o,C)},createURL:b,encodeLocation(C){let q=b(C);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:T,replace:L,go(C){return c.go(C)}};return O}var Oy;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Oy||(Oy={}));function fT(n,e,t){return t===void 0&&(t="/"),pT(n,e,t)}function pT(n,e,t,s){let o=typeof e=="string"?Yo(e):e,a=Wo(o.pathname||"/",t);if(a==null)return null;let c=kv(n);mT(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let y=xT(a);d=IT(c[p],y)}return d}function kv(n,e,t,s){e===void 0&&(e=[]),t===void 0&&(t=[]),s===void 0&&(s="");let o=(a,c,d)=>{let p={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};p.relativePath.startsWith("/")&&(ut(p.relativePath.startsWith(s),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(s.length));let y=Os([s,p.relativePath]),v=t.concat(p);a.children&&a.children.length>0&&(ut(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),kv(a.children,e,v,y)),!(a.path==null&&!a.index)&&e.push({path:y,score:wT(y,a.index),routesMeta:v})};return n.forEach((a,c)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))o(a,c);else for(let p of Nv(a.path))o(a,c,p)}),e}function Nv(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(s.length===0)return o?[a,""]:[a];let c=Nv(s.join("/")),d=[];return d.push(...c.map(p=>p===""?a:[a,p].join("/"))),o&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function mT(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:TT(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const gT=/^:[\w-]+$/,yT=3,AT=2,vT=1,_T=10,ET=-2,Dy=n=>n==="*";function wT(n,e){let t=n.split("/"),s=t.length;return t.some(Dy)&&(s+=ET),e&&(s+=AT),t.filter(o=>!Dy(o)).reduce((o,a)=>o+(gT.test(a)?yT:a===""?vT:_T),s)}function TT(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function IT(n,e,t){let{routesMeta:s}=n,o={},a="/",c=[];for(let d=0;d<s.length;++d){let p=s[d],y=d===s.length-1,v=a==="/"?e:e.slice(a.length)||"/",E=Df({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},v),T=p.route;if(!E)return null;Object.assign(o,E.params),c.push({params:o,pathname:Os([a,E.pathname]),pathnameBase:kT(Os([a,E.pathnameBase])),route:T}),E.pathnameBase!=="/"&&(a=Os([a,E.pathnameBase]))}return c}function Df(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=ST(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((y,v,E)=>{let{paramName:T,isOptional:L}=v;if(T==="*"){let O=d[E]||"";c=a.slice(0,a.length-O.length).replace(/(.)\/+$/,"$1")}const b=d[E];return L&&!b?y[T]=void 0:y[T]=(b||"").replace(/%2F/g,"/"),y},{}),pathname:a,pathnameBase:c,pattern:n}}function ST(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Pv(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function xT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pv(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Wo(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function CT(n,e){e===void 0&&(e="/");let{pathname:t,search:s="",hash:o=""}=typeof n=="string"?Yo(n):n;return{pathname:t?t.startsWith("/")?t:RT(t,e):e,search:NT(s),hash:bT(o)}}function RT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function pf(n,e,t,s){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function PT(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function bv(n,e){let t=PT(n);return e?t.map((s,o)=>o===t.length-1?s.pathname:s.pathnameBase):t.map(s=>s.pathnameBase)}function Ov(n,e,t,s){s===void 0&&(s=!1);let o;typeof n=="string"?o=Yo(n):(o=gl({},n),ut(!o.pathname||!o.pathname.includes("?"),pf("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),pf("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),pf("#","search","hash",o)));let a=n===""||o.pathname==="",c=a?"/":o.pathname,d;if(c==null)d=t;else{let E=e.length-1;if(!s&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),E-=1;o.pathname=T.join("/")}d=E>=0?e[E]:"/"}let p=CT(o,d),y=c&&c!=="/"&&c.endsWith("/"),v=(a||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||v)&&(p.pathname+="/"),p}const Os=n=>n.join("/").replace(/\/\/+/g,"/"),kT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),NT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,bT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function OT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const Dv=["post","put","patch","delete"];new Set(Dv);const DT=["get",...Dv];new Set(DT);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yl(){return yl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},yl.apply(this,arguments)}const sh=H.createContext(null),Lv=H.createContext(null),Qs=H.createContext(null),ih=H.createContext(null),Ks=H.createContext({outlet:null,matches:[],isDataRoute:!1}),Vv=H.createContext(null);function LT(n,e){let{relative:t}=e===void 0?{}:e;bl()||ut(!1);let{basename:s,navigator:o}=H.useContext(Qs),{hash:a,pathname:c,search:d}=oh(n,{relative:t}),p=c;return s!=="/"&&(p=c==="/"?s:Os([s,c])),o.createHref({pathname:p,search:d,hash:a})}function bl(){return H.useContext(ih)!=null}function Mi(){return bl()||ut(!1),H.useContext(ih).location}function Mv(n){H.useContext(Qs).static||H.useLayoutEffect(n)}function _p(){let{isDataRoute:n}=H.useContext(Ks);return n?GT():VT()}function VT(){bl()||ut(!1);let n=H.useContext(sh),{basename:e,future:t,navigator:s}=H.useContext(Qs),{matches:o}=H.useContext(Ks),{pathname:a}=Mi(),c=JSON.stringify(bv(o,t.v7_relativeSplatPath)),d=H.useRef(!1);return Mv(()=>{d.current=!0}),H.useCallback(function(y,v){if(v===void 0&&(v={}),!d.current)return;if(typeof y=="number"){s.go(y);return}let E=Ov(y,JSON.parse(c),a,v.relative==="path");n==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Os([e,E.pathname])),(v.replace?s.replace:s.push)(E,v.state,v)},[e,s,c,a,n])}function MT(){let{matches:n}=H.useContext(Ks),e=n[n.length-1];return e?e.params:{}}function oh(n,e){let{relative:t}=e===void 0?{}:e,{future:s}=H.useContext(Qs),{matches:o}=H.useContext(Ks),{pathname:a}=Mi(),c=JSON.stringify(bv(o,s.v7_relativeSplatPath));return H.useMemo(()=>Ov(n,JSON.parse(c),a,t==="path"),[n,c,a,t])}function jT(n,e){return UT(n,e)}function UT(n,e,t,s){bl()||ut(!1);let{navigator:o}=H.useContext(Qs),{matches:a}=H.useContext(Ks),c=a[a.length-1],d=c?c.params:{};c&&c.pathname;let p=c?c.pathnameBase:"/";c&&c.route;let y=Mi(),v;if(e){var E;let C=typeof e=="string"?Yo(e):e;p==="/"||(E=C.pathname)!=null&&E.startsWith(p)||ut(!1),v=C}else v=y;let T=v.pathname||"/",L=T;if(p!=="/"){let C=p.replace(/^\//,"").split("/");L="/"+T.replace(/^\//,"").split("/").slice(C.length).join("/")}let b=fT(n,{pathname:L}),O=WT(b&&b.map(C=>Object.assign({},C,{params:Object.assign({},d,C.params),pathname:Os([p,o.encodeLocation?o.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?p:Os([p,o.encodeLocation?o.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),a,t,s);return e&&O?H.createElement(ih.Provider,{value:{location:yl({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:Ns.Pop}},O):O}function FT(){let n=$T(),e=OT(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),t?H.createElement("pre",{style:o},t):null,null)}const BT=H.createElement(FT,null);class zT extends H.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?H.createElement(Ks.Provider,{value:this.props.routeContext},H.createElement(Vv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function HT(n){let{routeContext:e,match:t,children:s}=n,o=H.useContext(sh);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),H.createElement(Ks.Provider,{value:e},s)}function WT(n,e,t,s){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),s===void 0&&(s=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=s)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let c=n,d=(o=t)==null?void 0:o.errors;if(d!=null){let v=c.findIndex(E=>E.route.id&&(d==null?void 0:d[E.route.id])!==void 0);v>=0||ut(!1),c=c.slice(0,Math.min(c.length,v+1))}let p=!1,y=-1;if(t&&s&&s.v7_partialHydration)for(let v=0;v<c.length;v++){let E=c[v];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(y=v),E.route.id){let{loaderData:T,errors:L}=t,b=E.route.loader&&T[E.route.id]===void 0&&(!L||L[E.route.id]===void 0);if(E.route.lazy||b){p=!0,y>=0?c=c.slice(0,y+1):c=[c[0]];break}}}return c.reduceRight((v,E,T)=>{let L,b=!1,O=null,C=null;t&&(L=d&&E.route.id?d[E.route.id]:void 0,O=E.route.errorElement||BT,p&&(y<0&&T===0?(XT("route-fallback"),b=!0,C=null):y===T&&(b=!0,C=E.route.hydrateFallbackElement||null)));let q=e.concat(c.slice(0,T+1)),U=()=>{let W;return L?W=O:b?W=C:E.route.Component?W=H.createElement(E.route.Component,null):E.route.element?W=E.route.element:W=v,H.createElement(HT,{match:E,routeContext:{outlet:v,matches:q,isDataRoute:t!=null},children:W})};return t&&(E.route.ErrorBoundary||E.route.errorElement||T===0)?H.createElement(zT,{location:t.location,revalidation:t.revalidation,component:O,error:L,children:U(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):U()},null)}var jv=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(jv||{}),Uv=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(Uv||{});function qT(n){let e=H.useContext(sh);return e||ut(!1),e}function QT(n){let e=H.useContext(Lv);return e||ut(!1),e}function KT(n){let e=H.useContext(Ks);return e||ut(!1),e}function Fv(n){let e=KT(),t=e.matches[e.matches.length-1];return t.route.id||ut(!1),t.route.id}function $T(){var n;let e=H.useContext(Vv),t=QT(),s=Fv();return e!==void 0?e:(n=t.errors)==null?void 0:n[s]}function GT(){let{router:n}=qT(jv.UseNavigateStable),e=Fv(Uv.UseNavigateStable),t=H.useRef(!1);return Mv(()=>{t.current=!0}),H.useCallback(function(o,a){a===void 0&&(a={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,yl({fromRouteId:e},a)))},[n,e])}const Ly={};function XT(n,e,t){Ly[n]||(Ly[n]=!0)}function JT(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function Yn(n){ut(!1)}function YT(n){let{basename:e="/",children:t=null,location:s,navigationType:o=Ns.Pop,navigator:a,static:c=!1,future:d}=n;bl()&&ut(!1);let p=e.replace(/^\/*/,"/"),y=H.useMemo(()=>({basename:p,navigator:a,static:c,future:yl({v7_relativeSplatPath:!1},d)}),[p,d,a,c]);typeof s=="string"&&(s=Yo(s));let{pathname:v="/",search:E="",hash:T="",state:L=null,key:b="default"}=s,O=H.useMemo(()=>{let C=Wo(v,p);return C==null?null:{location:{pathname:C,search:E,hash:T,state:L,key:b},navigationType:o}},[p,v,E,T,L,b,o]);return O==null?null:H.createElement(Qs.Provider,{value:y},H.createElement(ih.Provider,{children:t,value:O}))}function ZT(n){let{children:e,location:t}=n;return jT(Lf(e),t)}new Promise(()=>{});function Lf(n,e){e===void 0&&(e=[]);let t=[];return H.Children.forEach(n,(s,o)=>{if(!H.isValidElement(s))return;let a=[...e,o];if(s.type===H.Fragment){t.push.apply(t,Lf(s.props.children,a));return}s.type!==Yn&&ut(!1),!s.props.index||!s.props.children||ut(!1);let c={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Lf(s.props.children,a)),t.push(c)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bc(){return bc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},bc.apply(this,arguments)}function Bv(n,e){if(n==null)return{};var t={},s=Object.keys(n),o,a;for(a=0;a<s.length;a++)o=s[a],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function e1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function t1(n,e){return n.button===0&&(!e||e==="_self")&&!e1(n)}function Vf(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let s=n[t];return e.concat(Array.isArray(s)?s.map(o=>[t,o]):[[t,s]])},[]))}function n1(n,e){let t=Vf(n);return e&&e.forEach((s,o)=>{t.has(o)||e.getAll(o).forEach(a=>{t.append(o,a)})}),t}const r1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],s1=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],i1="6";try{window.__reactRouterVersion=i1}catch{}const o1=H.createContext({isTransitioning:!1}),a1="startTransition",Vy=rT[a1];function l1(n){let{basename:e,children:t,future:s,window:o}=n,a=H.useRef();a.current==null&&(a.current=cT({window:o,v5Compat:!0}));let c=a.current,[d,p]=H.useState({action:c.action,location:c.location}),{v7_startTransition:y}=s||{},v=H.useCallback(E=>{y&&Vy?Vy(()=>p(E)):p(E)},[p,y]);return H.useLayoutEffect(()=>c.listen(v),[c,v]),H.useEffect(()=>JT(s),[s]),H.createElement(YT,{basename:e,children:t,location:d.location,navigationType:d.action,navigator:c,future:s})}const u1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",c1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oc=H.forwardRef(function(e,t){let{onClick:s,relative:o,reloadDocument:a,replace:c,state:d,target:p,to:y,preventScrollReset:v,viewTransition:E}=e,T=Bv(e,r1),{basename:L}=H.useContext(Qs),b,O=!1;if(typeof y=="string"&&c1.test(y)&&(b=y,u1))try{let W=new URL(window.location.href),X=y.startsWith("//")?new URL(W.protocol+y):new URL(y),oe=Wo(X.pathname,L);X.origin===W.origin&&oe!=null?y=oe+X.search+X.hash:O=!0}catch{}let C=LT(y,{relative:o}),q=d1(y,{replace:c,state:d,target:p,preventScrollReset:v,relative:o,viewTransition:E});function U(W){s&&s(W),W.defaultPrevented||q(W)}return H.createElement("a",bc({},T,{href:b||C,onClick:O||a?s:U,ref:t,target:p}))}),pr=H.forwardRef(function(e,t){let{"aria-current":s="page",caseSensitive:o=!1,className:a="",end:c=!1,style:d,to:p,viewTransition:y,children:v}=e,E=Bv(e,s1),T=oh(p,{relative:E.relative}),L=Mi(),b=H.useContext(Lv),{navigator:O,basename:C}=H.useContext(Qs),q=b!=null&&p1(T)&&y===!0,U=O.encodeLocation?O.encodeLocation(T).pathname:T.pathname,W=L.pathname,X=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;o||(W=W.toLowerCase(),X=X?X.toLowerCase():null,U=U.toLowerCase()),X&&C&&(X=Wo(X,C)||X);const oe=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let de=W===U||!c&&W.startsWith(U)&&W.charAt(oe)==="/",N=X!=null&&(X===U||!c&&X.startsWith(U)&&X.charAt(U.length)==="/"),S={isActive:de,isPending:N,isTransitioning:q},x=de?s:void 0,k;typeof a=="function"?k=a(S):k=[a,de?"active":null,N?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let D=typeof d=="function"?d(S):d;return H.createElement(Oc,bc({},E,{"aria-current":x,className:k,ref:t,style:D,to:p,viewTransition:y}),typeof v=="function"?v(S):v)});var Mf;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Mf||(Mf={}));var My;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(My||(My={}));function h1(n){let e=H.useContext(sh);return e||ut(!1),e}function d1(n,e){let{target:t,replace:s,state:o,preventScrollReset:a,relative:c,viewTransition:d}=e===void 0?{}:e,p=_p(),y=Mi(),v=oh(n,{relative:c});return H.useCallback(E=>{if(t1(E,t)){E.preventDefault();let T=s!==void 0?s:Nc(y)===Nc(v);p(n,{replace:T,state:o,preventScrollReset:a,relative:c,viewTransition:d})}},[y,p,v,s,o,t,n,a,c,d])}function f1(n){let e=H.useRef(Vf(n)),t=H.useRef(!1),s=Mi(),o=H.useMemo(()=>n1(s.search,t.current?null:e.current),[s.search]),a=_p(),c=H.useCallback((d,p)=>{const y=Vf(typeof d=="function"?d(o):d);t.current=!0,a("?"+y,p)},[a,o]);return[o,c]}function p1(n,e){e===void 0&&(e={});let t=H.useContext(o1);t==null&&ut(!1);let{basename:s}=h1(Mf.useViewTransitionState),o=oh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Wo(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=Wo(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Df(o.pathname,c)!=null||Df(o.pathname,a)!=null}const m1="/assets/logo-8AqPmnoE.png",g1="/assets/hero_img-C10ZYlxy.png",y1="/assets/hero_img2-CFWO1DQ4.png",A1="/assets/hero_img3-DpKhL5VY.png",v1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAnCAYAAABnlOo2AAAACXBIWXMAABCcAAAQnAEmzTo0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAL2SURBVHgBxVhLktowEG0b9vHsYDXOCcJ3z5wgcAKSE4Q5wXADyCpLnBMMOUHImgKcE0RZkV3IAYC8dklO4wxYdhnzqlT6S8/drVbLDuVAo9HwKpVKD8Xh8XhsIPd1V+g4jkI+X61WnykHHMqIdrvdB4mJIHEOCuTGWYlVsgxutVpjZJ+QPIvhPKZfr9ed7Xa7IEu4tgM1mSdTh5R2h8NhjNxfr9cOJ9SbSCO0KTH1Sc+1gpXKsOA7ZDNTx6YBsscwDHcvjYeN+VDXBKkv5jxg/IIKIvSDtM3g6+ebzWZgM6/ZbAYgNdRVBSm+TpuTqjI2YkFGIT2SJTB2hMxI0YfkemlzUglh0bemjK9dQOyKLKFVOo03c91h2hwbo24IcgFlBGznm6j20sbbEJJHXFF2qCyDXzTqbrfb2O/3RjITQYpt4g9lg6fXYLAKIxuEpw+Xy2V4kRAfVwycQTU9KgFsk/jw99IuHUkGRrchOy9cJHbaR0XSqppWkPlqyLAXBvs5XQlY3xNO08Pez8gjHxVJSF+Yz4YMUjPL8c6DpEaMJ3c1iTdmIEvm2mQYeo/A1EEu8nfm2Pv0j9CCysN3UfZiQiDhm1aITskZfFMjHZEmlBOYO9VrjGU79o0vZ7armFAKjLsfUX58SKwVAUdeiaofE+KYRnTIQSyxjzofU35MdfwUJNpjCUFakYSiU8biFATuzsU5RYNjcxjzb0MO4cndf4Q48qMSkRSGy/5A9CsqH8oUoLZXbrVa9U1DIhYuC/Kk3VkH+ddCQgj3LvTmm5p+5JUK6YsQaXgsoXvRX8rpSuDEObrnOkuE3NNnQr6p3UJlwE9R9txL91gZSN5nNz9lyfvMvXSPlYST++zEhkAu64uiUELENiR7yrpUL+wZEVKmZvP2Lhr6z0oEaChkQoFpQCgwQ8Cf+v4uCp1Op0finxNsKHQ4JkFhI4//LaD/rDy4rEMUBje66SWZAb9Eon+Mv4BarfaFjx06WHQ1KgGaCP+uiZ/TfwGEUnnMaG3eugAAAABJRU5ErkJggg==",_1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEJwAABCcASbNOjQAAAGASURBVEhLrZa7cYQwFEX5RiRbwpawLoEEhtAVeN2BOzCuxHYFJMzwSWjBJVCCIzLA74KQWRAgBGcG0GOGw9WHERrIsizM8/y9Kw6iJ0lyN03zk9Wh53kfrK2EQbywNgjxAtZWwqiq6pmuP32paUh7RKrjFEXRxXGcgpo31KCu69cgCL5YKU0nBGdJuRBQV6/UZUiv/Z390gchEEnbtn3yfZ+P8xoGu3IoTUmpXGqW/Z1OWNBa5UOxxizhwDRp0zS/uq67W0kXhUBFuioEe6WbQiCSYqIw3qjHzCZFxHSi6HO90FHgRajHSCUcmCallCWldcdJdwnBlnS3EKxJlYQgjuObZVkFxhP1IJWaFBG2bWu0fFj1j5IQXSZZRMdDOqUunzoppy4bGRmQEk5lJFr8njeFe2RgVbhXBhaFKjIgFKrKwEw4lQGaUbVNCnuzQHaXlQEuHG30U9k3K6Xouiz6a1CRAf1MGTDOlAGDlgR/mDaityMyDi2VME3TE36JNe0PEvQ33QXCa5oAAAAASUVORK5CYII=",E1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAABOCAYAAACOqiAdAAAACXBIWXMAABCcAAAQnAEmzTo0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAR1SURBVHgB7ZzrbdswFIVPgQ7QDXI3aDYIN2g6gbRBsoHUCdIN3E4QdAJlg6QT2J0g2SDlhaVaNUTy8iGKMvQB94dhiyIPD5+iBWxsbGxsbGyk4QPKgHRc6/ik42ri+zcdf3Qc+njDwiwlnOrjBifBfHjp45eOJxQg5JywQK2OVx3vieNRR4ULQ+nokF6sqdjjKCBhxSjkE8wk4Krg/uo7lhFsSkDCClA4Zja2wK99OinS4mhRMPcIE2in4w7HEfbKkDa7mAeXLzoedDwH3IuvIRSGj2gsFhf+BnGQjhp+riyu6SrIBGvgP2eTwJXQYaXi2TI+l2Dn1JA5kCuRUAgK07V7jfw0WJnzxq7jfiyHy0zcwr1K4QFjyTz+Q+HUNEuA4G66D8gA145y/KZCWRDc4t1iZnhF0GF9EOzicZOercnS6EYK64MHqUWa7LjjX6PrGNdEXSExKsdNMjE2wHkkN0SX4yaZINinKcnmnYSM1s5Egwx93Q4ZrZ0JHkFNrks2wu5h71AJ64SdNVtLUnCv+XaIh2uYkAZpH6UwY5kauIWLtTZfy2tGdjYhjhbHPFXC33cwlykK29A9jgZhDKIN6cSI157lSSKezRhXiED6DDTEdeeixYjXGvLlEk/BXCaJ8JO4ligxrjOJFiJe68hX5ciH6brgaYmCn3BS17lE8xGvFaTTONIw5eURgdSAl3CSTEpFk4jXJsgPs7PcO4gG8gJKXOcrmk28VnCdRDTmAQUIx1FNpBUq2pR4reD3UtFc5TTyEWE8Wb5TOn6OPrNoHdwT0wPMzZL6NPhY1x3stDq+nV1Llt/bvgvCVBM+FpY6rYJsizvEaSoivSCayAR9RBsghIvXWPLSBaQXvHq4syTqmnaEiDZA8BevceRHeabn27L+o7YkauuvYkQbIMjFc4k20EEu2jsitsxsKwdboW8FmarghuAWTyoaoyAXjSN4AhyzHKkRJ9oAwSyej2gDHeTCuUZvK6ZMPwuurREn2gBN5CNENEZBLtwNIrDtkkrWpTXiRBsgnMQLFW3AZIaQ8hmpEW/lGmmORRAim09PjRkHhgHbQ43oxBfEtc+YooKsHarCOmlgF46QAIUZLb0Q2VqSzdoK68TkugoJsVl7j0JONXoy5bo9EmOzNkeWU40zcG6IpG4bcB2Rmv1U4wyMDZHcbWNsi/eijsB7MEzyZ3HbgILddVxrhHVBSHOMw4ltGVaieC1kT9+y0MEt3hJ/DBnDYvzAqRspYuQnyBbLLZaBkG5HJTkEmXgd8jbdFtNTp2Jcx3BzlIjHscO8Aiqk3TGeHYLfw5WUArKDeCejE967KNcxBP8nUzwnZAco+EE47qmxWL6v4kiyXcSkfGEL1yQLcY8wXmB+kw3h2C0Qwhxz0PG1v0ex1Ej3EoIUsfTfP70g2I/554g94v/3vxiE/AKyYBUuBMJRQC7UXIJ1OL5e42LhwqUSkcVqEHlCPISUo2oI1318xul1aOd/Fnnr49DH8Aq037jw159tbGxsbGxsbFj4C7XOZoyRzeTiAAAAAElFTkSuQmCC",w1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABLCAYAAAA4TnrqAAAACXBIWXMAABCcAAAQnAEmzTo0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAenSURBVHgB7VyNWRs9DFa+CdiAbFA2IN8EsAF0AmCC0AlIJ0i/CRghdALaCY4NKBPo83uJU0dItnw/SfqU93lESHKXs9+TZEm2j+gDfzaYeRbkIciUPqAD5ARZ8W80Qa7oA78RCDkJsmAbIO2C/nYEEm6DvEp2Xl9fNdKWf6VpbvzSSrKxWq347OyMcch8PuemaTTS7g9B2oQGROjAZXi5cRx6EuQs/eDl5YWur6/p+/fvOwdOp1MKpLXfCbxspIjJZPIvHRM2fkdVgxxgbtCgk5OTVpssCaTx8/Mzd8Scjgkb06jCcrlsSaAMSVKChlmmmQMc4An1xCBmyGv/0cT39/f39PT0lD3n7e2Nfvz4QV0QtJA+ffpUPO7bt2+tGW+wCOZ4R4cGr0epFrjrVKEpY8psNpMadkY90FuzNg14ju/DSEY/f/50nRs602oIzoFAC6A1EtDAX79+ta8YAPCKAcGDMLq219ng6aDOnhOnDh9Ejrv98PBgxVFuIMS4uroq+jx8LzCjQyBc+DptRa7hNzc3fUazLEoDBW5OgoYHcPZV4HUe18QWYPjXGnp5edll9BqUNIQlQpMfaF9gkaJoTh2NhqnsG2jL7e3tu/bgM4Elj5kFsJGiwHeQ0CavT8Jx0AiY6cXFRZvqnJ6etoL/z8/P29+HKdWQr2lZJnUazix5bXKP8iq4uCQqxFjsIQhmCyKoMhyASSEw9RCH9qWE4X+QqB3KfUtBvE5h0PtXrbMyRSkR5U1tvJLpvElYPM/QMnxYH4vxeqR7Z0uWEy0RBTMaiiQpMNfcIKIRBsmkTkuuMU0Wvglqb5lNjig0pou5dRFobS1huIHGeefkRUqWFRbQxplbQFxVmyj3FWXU22kPZUxaaFk3sizNyNh+27CxzK4kMC8LcAfWeWLQGJYsy7kekigPYUi59kqW1RjLNxxCLB9mmeNoZFnmdyxEGQRsoUX5o5BlaVVuIBhbcJM008fnWjaBz/ZClqZV+OwQfgr+J20POiy12zJHpFejkqVUH1vItGcfgmBUg0zslarDlthRydJGwEOUki3zipAjnqVdqTUIst7NgP9jEDULL7P4HiXdiKREu0VpcmJooPyMcrFWgo4IVYud91+/ft3pR0SwiO3/4vtb8oCNUrFlgnEGeR+SC4RTaCO4NjKmplhdguakVAw1T50lak4S+zRBmIynNG21SWu/HBXdJWgulIofH9+VtNrPSpqA/NGKmmtEu75GlBXrKZrTAoXG9IYIXzi3yFqkFyWHGuNuWZ0Lk5w7x2rDulc8RUVP9qANCjKEEMk4TphqWrWFFgp4LhRlsVh07lAXotA2j+/UzFi74UIxlpKsZfxGxh9RNFhJdqkGr6UbmuRKLilg6p7f00xZyzyUwWwWiXLN/2lI7b10rAQ0JtexXK0sRc4VSNHiRCtNE8SuYpx1GjUMsYZ3ajwHT+yFdVfBLNLFG1tgOj90rPgbWISCGGoMiD7M2r+8nph4LTFdo1lWTKZBm4XxxFJdEnevGSptmG9p4/XEaQv4Gy0p1pCrr8sktwT4Jy9RnnUVmmgjukaWGFQakuAkxtLKr1onSgm0t/MRnsnZPpVYTx+UeOxKI2vHdmQgqalwrqYdBR0TkXFn9KnEoh0apHWIQeCZLHBSbZAhhNZhK8zQJDdVNTZRRLYfTbVUGYGnObKgg1tbSFXUqpDWmEStH4uQeWoX0W62rMeLti2phHDQPB6dVkAtNa4t/NX6MWCIyoZ2zXSgEAEwDp56yNoJJVKbLpU5+t5pDUNUYS0TzPRtTl6wUSnVyhxA16pCyY8NNQniqfAOXlb21rNrxFrYMRRRVmlGxmqjzO5YM9F9alZx+RAajBBlyAkQqw4mB4xRyMrNqhx62l6KNYJrGcBoM9KWdnmC1H1JbtTVwpDRyLJ8F+CtVY0paJ9FlOULR11FkyvMHWLSNSXKmtjIuYpRyYLkJhEOQVhpBiiXBQxClrYqmRzqDpSqoUNKKTOwzA99UOYMqsh6pzLQIu3OlBrZZV9hrcAl5Mo7FlGZ8/xkbQiDU2o8nS8RZu186CuI7Upr4q0JCaO9K+661Y7XVYil1nmtaFZKkON5fTXNQ5JGVGabTMO12lQgTd1l0aV+DsRI3VNRgF+J2++8vy9nfYz5R9jgnMYAr6fNmvRqWjRcW+iD38AohruO34uC97XlHBwvb4CRH6LsMf52Ok5qXoCWF5Z2PowBa7uLyDgaHsrkKghbxavnqg4dd8xXIbeOQskPp7RvcKYEbTV6yD2IMF34sNJgUV0qHgtslKBzgs5F4mr3SuMaIMi7H6hTqdjAELvv4SAbWj8ypZ1O//LlS81PtFP1WNZo7b7HcgLs6MerttTRQlxOmSwPuJ1MJuPM9XvBmdWChxTp1KknBntwT2jMijaLJ6ABpcUl0JC7u7tOi1CCadHFRflxWmKx8HXQqv/oGMBiNtsLj4MmKqYoJTzSsYGVCN+DXFWDaJCd/FMaAEM/P2tKyVqvAu4pWWsPwCQ/f/68XRcFZw+TC2mLdPzw8osgT1TGWzC/bk8IOiawkjoB8dEFRlixnxTlWMHrWK0UcK143ynKsYKNUhB/PH7TBv/euNCWTo7J5P4HjGzy6NWNlJwAAAAASUVORK5CYII=",T1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAnCAYAAACMo1E1AAAACXBIWXMAABCcAAAQnAEmzTo0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANlSURBVHgBzVi9ctpAEF6JxiWdx5WVNxAeF3SWu3R2myq8gSnTIbqUdpnOrjKpEspUyLVt0CPIFXShTIYB8i3eE8dxQsKAhm9GoPvb+7R7t7d7Dm2I8/PzYDqdXjmO489mMw9VntacoD5Bfey6buf5+TmiLeAU6eT7fhWTNfF6g6dKxZHgifAx7TiOE9oQzp5I2dDu9XrhJgMyyYGYB2JdWjYbwWQjmO4e2ojwH/f7/VdtjI+/U4y7Rr8A7Z4hNsG4y6JadDKI+UKsqpGK8BeCzCMVBMQ0QLBlkBwJwThvvJNHjDWFJ4SsO3onILIJmS1afGwhgo4hhE3Z14jxzrt8z2K2EPSgwa6mRSZYWyfbXSosa2xnxBgsh+WxXKnizdblTUd55M7OzkKSxS+m3BkxkyBeR1LFlrrJ6l/hH1H5T1UJAV8g6DftAcPhcHR8fPwP832UKh/lb6j/a/ada04WqyKWbLP4iwDyb2X3M6pZ2lNmDWhBLqQSgHnaWrFp6+PIWdmVAQn82AcqCVjnf0g2oLiWSG93+RBXBayDiMrFvXqBaa/MRpejC1UA0V9UIjB3etrAar7Z7krYo/BKJWIymaQnhOUcnm+ItLLIebdLGH7UM9tdOmAcPLlEFWq12imVCIn/FBKz3dUOYuuO2ScqlYqnzZ2Y7exK0k0AXxNQiQAh3ceubEZ2wh2t3KByEagXEF3xsa4cGSqEqWIZBFQCcHQ1aBGiJbbwX+3WW1XBMT+Vg5Y2Z2TrMCcH03KINJKOAb6qSXuEyPdUmfNaW795sMmB3snJyREt1kAdAeAPDgxpx5DA9jtej4QYJ08dW9/UCbP2LPG9RzsmZuYpINbO6p+SQ6eRJb7fGUFbki7zUS45ITjPyA2C/W3XII+XlNNbmtx1G+vGFc746e0GKXx5eXmgguAoG9pp8dWEqpPrDF1u5h3K2rsSIwlOSeLhe5IOPiB5enpKPXu9XvfG4zFfjV3Qm0NfyklVLozXzxgb5hHMvQIDyZYhaGNIHsy+9I7XdobcFYKVPMFwJ49wKw9sCkxQNUxShNRXvH7iPFjPTUXu3K9KVQB35gwGg0j1KXR5qANh1QUEXksE4+lmF1fEazPms7LIjdQ6DW5Mbh/IIphr1jKQZeKDIMewETwYcgydIJ+5/wFYW/TpXDoMoAAAAABJRU5ErkJggg==",I1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAZCAYAAAAv3j5gAAAACXBIWXMAABCcAAAQnAEmzTo0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHASURBVHgBtVZLUsJAEO0OaFmuuIHhBIJLyg/ZWIIL8QTGI3gCOQKcQG+gLKwswVLLnXID4AbZiR/S9owEyWQSJxZ5izB00/2mH9M9QcgIevDqYMEZzKiH+81b0ziEjKAnbwQENq98+Hwvo3Pqm8RZkAGyGkkigCUoblRMYzMRScmWgXQChshGBFBXvrtgCGOiqGwhsCTtqySKybbgMpPPiIheb0oQly2ES33pT4U83oveSKaqAGElJcuYn4NEv+g5mebRI8gV5P9IR3JHOfLgnOgLnPzIaCjyR0YQj5dLJmzDykAd3G1eiFVs1s374oo9NvwXQp0CuVhr3oem2PHGvcZASoloPJkVcPy0ukwi86ZFcHWjTJVxJbzRss6V3rCIRleACRIromfPhhmMICs2Axt3jieqObkiQuMrIII3y9WZk4kC8ysgAtLPRC2RlE3MN32mDmBQZdHbej/U6eVuSzUW9bmEbKTuVO2NIZ9KsY733LTQ4md32aSXLqCWYtH3RthzANd/xCdU9FuFDwVsY+2om/QTdBpj/jjn8TVejC+kWFtojzf1+T9ax234sCboHA7BEDJujQ74NaynvoZ9A1WXpcuUkbt/AAAAAElFTkSuQmCC",S1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAZCAYAAAAv3j5gAAAACXBIWXMAABCcAAAQnAEmzTo0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHESURBVHgBtVVNTsJQEP6mgmtuIO5cGC0nEE/g74KdeARPIDdQTqBLEwXhBnACiBDjjnIDgiuBvvFRrOnPezhN5EtI6XSmX2b6ffMIGcGXbhmKr0CqTY1BS1pHyAi+OBjpS1H/JvCdXWr1J5I6BxkQdLMiWaKA3MKV1mYiAuuRRaGcEwiRjQhcjt0SqhBCTJQYW4gCX+6XJfXyjpJjCyEcn0h1fOoWsKV6SHe0hEh9AdGvN+xUrs60K4zh6Vd17Czac0HexQFjs5iE38jDJsEhUX52vDEyRh9qdhwTA5/v34KcGv4LzPfUHNws/6ZUF/iCnQeYFSYk0NNhrtLroBuGjPLmyl4R8/ydfnyK7Cwd+J9n1PJicl/ro8imFnLAo+bbrumR80eh6AiQwNoRV1w9PjVCVvBWkZq9cTJs72iuxEdAHH7VFLUTsfwIiIESR8k6omBstt2mvQF/UQKrGsxMZT4v7SSjOWOuaWxpb/S157pGz5G/tEU9GrKMLukf7Q01LUUNGGS9DDur9cWPifyU/8wdQeFHkFreqkaNYR0W0NOHpy/Xen15kfWVsoV9M3zlD5Hzx/T83ocQq42yfQR/2k5uhm9CG7C+Nfr7TwAAAABJRU5ErkJggg==",x1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAABBCAYAAACO98lFAAAACXBIWXMAABCcAAAQnAEmzTo0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAN7SURBVHgB7ZyLkdowEIb/u6EAOkCpIHSAOjg6wB1AKrBTAUkF0MElFUAquKQCu4MkFXBabM2Axys/JGSJ45vZ8+D3/pJW8sq+J9yeqTKpbKZsXtn0wjT/lBXV8ndlf6pllJCjmbKDspOl/VW2U7ZCBFCpruHG8TZBBAKDnM9Q3uDJowUjhlSWw6/zwYhBpf+KcZ2/tBwWMeMJ/ZHor36h7Igy0hfV8j/KnkAzq86pe5N5tezDN2Vfa+d1zgb9gliK0rmhkCAvKEXvUysEbkTW8SYOyhZwj0ApRo6RhMg6XvgWztcR6FYznAqRdbjgFtejPx8ItNcKJ0JkCKP0OUj4LdrvcXABSXhQ2REp2uNUbwTMVS0kATRtQmzQkx3iEkDTJsS864kSxCmAxiTEoetJTM1ggTggZwc3i8RwcIp4EOCfamm9sbfgakGO+DAN8dkCTQwHrRAnXLNgC/UNlsEkQCT4gpX1nQXurxZouNrwWt8xxf3EgjqU9+wUILmmsEb8kKNcTyEvd+KaQucRVuDs0OzfVu8gcb9NQZOg2UdqAXgGPwqMduangSOzXtAfEmHe88AYKdCcfKVQMHsGP4S8p5pAFMz6+QT8UyGlr+vqkTA/EW4toQJdoazdorZNGI5hewaT5QhrEEWOcD1Am52HAScL22J8qNSpUIb6kAJ2IpDtMB4C9hPB6TPsSTAgf+cAagIHOEj1uxCBoCrle96BhBdwwMSwTdZ+f0LprGjYV0fl7/CHKTDvlf3Ade+WVNYI11aaIGdDyDtItET7BlI4igmk7Bdmm8+Hrc/M+iMG1MYhMeHIrPcZE7hrHTEAV4Exah4i4CHCmYcIeIhw5iECHiKcIRG4d/5kz/U3fXew47UkeEzb2BkaGh7XByX0O0fYw+ZVw/6tk7NrtGeQZLVf3vPit8SUR9hV97xEe8bpLMIU9okJEkfALyns7vlKBGIDuxONMV1napqDRCD2A08yZp6Rnlyt02v1k24RjwAaJ4nWOgm6vS67RDgIWKTcTd87LFA6qpMl+ms1Slv9QpgIlL0CfR6gu/cC5aTREs1jhQQfCK52L/BBEOCbg+8s+Whw32ud30+YIEwk3FRTKmXTt1R7BEoG+wFQVxMIEAF/AqQIFAk/ArwhYExv0rmyAyLoEWwf5jijZ4zGB70hX8j6gCL6C9xQoOX/MLwDomnC/jzse2YAAAAASUVORK5CYII=",C1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAABadJREFUeJzt1kF1E1AURdGXUhv10foICEEHToqPrPqoEAYIYERe88/eCu7orjMDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC1XLYHHOp9Zq7bIwAO8Xtmvm+POM3T9gAA4P4EAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIKetwcc6rY9AOAgPhUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4HFctgcc6nVmXrZHACtuM/O5PQL+RQD8H+8zc90eAaz4MX8/AL60p+0BAMD9CQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAEXbYHHOp1Zl62RwArbjPzuT0CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACWXLYHHOrnzLxtj+B4HzPza3sE8Jietwcc6m1mrtsjON637QHA43raHgAA3J8AAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA6/4Avb8NIkY65LYAAAAASUVORK5CYII=",R1="/assets/about_img-BAJyTXw9.png",P1="/assets/contact_img-CyOum2vk.png",k1="/assets/razorpay_logo-DrY6yMWi.png",N1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAAAmCAYAAABedGw2AAAACXBIWXMAABCcAAAQnAEmzTo0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAj1SURBVHgB7VppbFTXFf7ubLbxBgZTCq6jxpVoIUqgTYQIqmOlSUppg0KCg/FCjG3coAa1UFVVpTQuUZUfVaWmbUoTjJdgsJO6FLrJKT8il1TQJKURjUgIi2lrXCu4DsZ4neWdfHdmPJp588a7wzjxJz29d7dz7z333HPOPfcBc5jDCERE6QdxjLge3Agq8yXd68AKpZDL5F0c9QpfP+6uP6Z6EKdwIM6xo1j2eA38lEyNEAK7EzbEMWaEsaWlkugysNbtQWd9kzqHKcAQpJiZOhswLYzNzxdXigubOPsvKcFa5cFdPiDBZsNOFk+JsbMV08LY5GTMU248S8laomVLgvlMC6Yf/2UXJ64Dg4hjzKiONYypM1YMnOViPcOd8JqRiNN1daoLswBjMrayUpzz3Ej+wIDd54OnowMDra3KG16np+ffyJiXza9IeyKTlNi8PHG0toLaREltkzrCrCOYJHbvlqTeXiRJFzy1f1A3MAmUbZRU73y4EgfhfeE36FVKjTkvS6NAZs6TftxDa7yZevIOZi0iJScrD/C7m60uUxpPJdjx0vMN6up3SmX+DS/eJRuXmEidYN75kQQZ/UbtYVVdVihFpJUXXnFIYW+iYClpf5PJ5eyvzzOAba5ErGHeRvMYez3Y3dys+sqK5CektThUYMDtceIHDgNZ/N6BgIuWwUcz9T27gcb9jWgeizklJZLM8TzkEzxiE3zBUEglrSG2ahfuHub96kCTej9W+yiJ3VUkWYP9aGCvebYwAQxbgc+RWWtsCgVuHzYwvX7YzWJr5yc3OLERJPCpJq11zK8Ir8hJ6AWr5OeCYH8elQon5XY1kxVmwmnA9/Wb43iYE80JFXAc9EjSmfcgiSSZmn3esGFjRTG2U3gK9u9X12GBihL5LFVQi8EF1vPWRxH//ANLkUPbkce8neXFUlJzSL1iRSOCHZUlkk2RfEVM0jQKXKEvmaJLpPyMWoBpAJn6KF9JMXuiMPhu4Eh5uWSYC8sLZDUl/Q1+LsfoWMQ5/7m0UB62KoxgLH3GJ/haiU8CbPiKGsKPwrN2FsoC2FEvmmnjpGJXeKGyWD4dTT6I3fmSRNF/LAaBDnZ2hu82PsOYPdA24X2BtRHV8y2i6htJDyt8l6/bLaq+xspPc/u/xN1gdvMW+QzsMTcIMXYoBYuomBdGkRQ8V3NYZdHorOI7x+fEfG6mrzH/CN/9ugpPWNZqwMC3EtxIHXmSM2hMRoPyG5gqSsE3aDQKHD3oxeRwjUzYfKkD6RzzEo5jHfMuRneHtCTlP8Rg2zZZqCx0ORn5FGnk1jSpqtpDais5VsBsdwQdhcd37ZKE8LyQ8SJzdIE9irBN61G/+vaven09NxD1sH605cQoYKvhfbTcGB/cNg/urH5ZnQ/PLC+alMd2nEwIuWh02U5tL5YttORvwqT+SH0TT45P2X1Yy+/FJgkZGL6Gn4dnfCYHf7pyEW/xc00YjZShD3AvP1tG8kKdGE5oC9lvGqBmZ2VZEY5XFEmxjgGElzU0qED9NEwZHNywmalToBW1g+oOqX9Sslqj6gqWcfjp9IBWKXM7wZnDLSpi1+zdq2iKcMpMh073HeHpkMRmZ6P7ygWcJOn7zY3Y230kdp/djV/Qxfib8uFJ+nD/gmky8R4p4RiP8nVveB7HnKISkU51cVvU3lC4kzvGyiVLtCCeFZ4MSaxeCZuDXoFCbKlRdIfoH1I9vFlRKNXb8yVTZ3s88RV9kliunxeXLXJtFME0tviURZkTgf1oflzmipSqiH0boW+qD6rzXrvf6f+d6GHEhov6s8LmwkF9ZEScIWag1qF3rEV9n76UiLYvE4JEdhs1hhdfVJeyOrCFK/AgnzoyeLQo/Vev/x9bUhFfkBjxW2UgO6quQHwKfWzRY1WGgAcw5sOKQ+FtLYMwewNBFr/lL31I9jhSsJGdPM30LeaxUjdt5lr/EbMAVGEPmD1aCk//oIHeJMEl82qw7Cpdv9XjIA3vDUR4PyHGVlWJ7col3JqVgzatb0fyg/dKB3nv9HtfAkN4tKKRo0X2gJvxWIuNZB//CWZ6YaFjywpkKV/3W9Tu8HpxTbnwtkXZYsOHTLOhHg9CqqCzk5ZO8Gr7RRyi5V8fdUxbgAEVfeqAssGr5sGnLE43jAhtyA8aOI0qk7s2U6Ck3bajUFaxb/9y001cohx4GRLtGFKCWhkl8/HgcxLRak9Ryvc9tlUsj/mkn1JZJA+UbZVHzGUO04AS2PlW/ZBTXXQ1zjGv09Ax636sIOdyED2y/7S14WrOsmgfmMhNc+Et0jmrTzntHn9w49uYeSynnv17qgtn2Xc/teBKynCGRT1hGHGf/uDB5xzrnuCnOUS5zmHDX8sL5XXO4TKFxcODRgbfS5nO8Wn1qPAcTDHj2IFugZa0TAl621bnH79yt+GoDnznFMppVrzVoppWHcuC7S/gIwL7S+C4v+hPqJiVjlY34u0DTYGkzY7viQ93WwRhFpLGBgmSEjX2fwNTu0JWOJbczS0G/wntx/DvrNkBMqndbceT4QFv7W4ygP84YO2WTQQhxiZf8/ty4z2Y65rHeAwu+2WL8ke7tILnEJ+YAI2ZhI5qxWYObwG4nTfxSP6uuUhfBTEY/nXW+R/GBz3fqJuEEGN/1qwGGYFaRcboCM9xBK4yzCSuK314MJBb06g2US9FKPsDjerXHNQ93CqvIlJ7aHZfUAEXTqONdU6GPyx/HRagjm8319XPkCv2AYZzaOG2Xs8BnDQVdbKfH3b1YSXHejpW+7oG9Rde/axg3W3clf9A9E7Ui/YO5/MsjdvttY3qmahxxyKu3S9eHGa63UjXYS+nDb2Zt+BquCs2GgoZNHY4kGm3w+vsQ/f+ZutrkKmiolguRlzNwL+iv2WYM19/+4PX9GlkEH3PH0XXSJRuIqD1T0p3YaHNi4ShBAwxYNMdjPLFxKz7w8QMK8aSs83cUY/iJiKu/3+aLOLBgn4sGTtDf+BMCB9Lxorp6uRmIO5/4xwLErDQ79FYnGFc9R1+n/AOMqZxkzHrGetU+LK7F4M1k/x9aA5zmIPGh+sBUp3Dt4WYAAAAAElFTkSuQmCC",b1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAABCcAAAQnAEmzTo0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFkSURBVHgBpdW/ToNAHAfwO64QR8Zu4ubIn8VRRyd1dJIESBjxCazvAQm+Qd9ANjeY3Tp2NCwMBPD3S0BJS487+k2a3pVfP/lxHEAJJAgCs+s6PY7jjJyRKIr0siwfNU3LGKJt2xbwu+s4Ds3zPCMLEoahUVXVF6XUBc9UoNPL4SCM33zf3xDJIFrX9ScMjd7RGXT4bdv2FczNvu5WpvMJdAcd3zOcFEWxXYKfQO/SNN2xoUgW56E4Z+NiUXwOPYJFcBEUQ8mJeJ6XwtfLXyGl76vVKhVBufAUDvmBjz6HYhgPnliWCxEUo5CZqKq66Tv9/5OibHnobMejC7U+OHQzt8+ZAGrgHE8fLmAGw+u+hLvPFVEU1zRJkieYfgx1vGcLE0WHNRW9iZgMOkQEZ7KoKM6WoCI4XYqOc3iHgvGqNE2jn4NiYLe4ZLRbYFs+4Btkb1mWDpM9oM+y6BBcFnRguMYH1i/jdovSfDk2aAAAAABJRU5ErkJggg==",Ke={logo:m1,hero_img:g1,hero_img2:y1,hero_img3:A1,cart_icon:v1,dropdown_icon:_1,exchange_icon:E1,quality_icon:w1,search_icon:T1,star_dull_icon:I1,star_icon:S1,support_img:x1,menu_icon:C1,about_img:R1,contact_img:P1,razorpay_logo:k1,stripe_logo:N1,cross_icon:b1},O1=()=>{const n=[Ke.hero_img,Ke.hero_img2,Ke.hero_img3],[e,t]=H.useState(0),[s,o]=H.useState(!1);H.useEffect(()=>{if(!s){const d=setInterval(()=>{t(p=>(p+1)%n.length)},1800);return()=>clearInterval(d)}},[n.length,s]);const a=()=>{o(!0)},c=()=>{o(!1)};return _.jsxs("div",{className:"flex flex-col sm:flex-row border border-gray-400",children:[_.jsx("div",{className:"w-full sm:w-1/2 flex items-center justify-center py-10 sm:py-0",children:_.jsxs("div",{className:"text-[#414141]",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("p",{className:"w-8 md:w-11 h-[2px] bg-[#414141]"}),_.jsx("p",{className:"font-medium text-sm md:text-base",children:"OUR BESTSELLERS"})]}),_.jsx("h1",{className:"prata-regular text-3xl sm:py-3 lg:text-5xl leading-relaxed",children:"Latest Arrivals"}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("p",{className:"font-semibold text-sm md:text-base",children:"SHOP NOW"}),_.jsx("p",{className:"w-8 md:w-11 h-[1px] bg-[#414141]"})]})]})}),_.jsx("img",{className:"w-full sm:w-1/2 transition-opacity duration-500",src:n[e],alt:"Hero",onMouseEnter:a,onMouseLeave:c})]})};function zv(n){var e,t,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=zv(n[e]))&&(s&&(s+=" "),s+=t)}else for(t in n)n[t]&&(s&&(s+=" "),s+=t);return s}function xi(){for(var n,e,t=0,s="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=zv(n))&&(s&&(s+=" "),s+=e);return s}function D1(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}D1(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Ol=n=>typeof n=="number"&&!isNaN(n),Pi=n=>typeof n=="string",$r=n=>typeof n=="function",L1=n=>Pi(n)||Ol(n),jf=n=>Pi(n)||$r(n)?n:null,V1=(n,e)=>n===!1||Ol(n)&&n>0?n:e,Uf=n=>H.isValidElement(n)||Pi(n)||$r(n)||Ol(n);function M1(n,e,t=300){let{scrollHeight:s,style:o}=n;requestAnimationFrame(()=>{o.minHeight="initial",o.height=s+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function j1({enter:n,exit:e,appendPosition:t=!1,collapse:s=!0,collapseDuration:o=300}){return function({children:a,position:c,preventExitTransition:d,done:p,nodeRef:y,isIn:v,playToast:E}){let T=t?`${n}--${c}`:n,L=t?`${e}--${c}`:e,b=H.useRef(0);return H.useLayoutEffect(()=>{let O=y.current,C=T.split(" "),q=U=>{U.target===y.current&&(E(),O.removeEventListener("animationend",q),O.removeEventListener("animationcancel",q),b.current===0&&U.type!=="animationcancel"&&O.classList.remove(...C))};O.classList.add(...C),O.addEventListener("animationend",q),O.addEventListener("animationcancel",q)},[]),H.useEffect(()=>{let O=y.current,C=()=>{O.removeEventListener("animationend",C),s?M1(O,p,o):p()};v||(d?C():(b.current=1,O.className+=` ${L}`,O.addEventListener("animationend",C)))},[v]),Ue.createElement(Ue.Fragment,null,a)}}function jy(n,e){return{content:Hv(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function Hv(n,e,t=!1){return H.isValidElement(n)&&!Pi(n.type)?H.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):$r(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function U1({closeToast:n,theme:e,ariaLabel:t="close"}){return Ue.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:s=>{s.stopPropagation(),n(!0)},"aria-label":t},Ue.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ue.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function F1({delay:n,isRunning:e,closeToast:t,type:s="default",hide:o,className:a,controlledProgress:c,progress:d,rtl:p,isIn:y,theme:v}){let E=o||c&&d===0,T={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};c&&(T.transform=`scaleX(${d})`);let L=xi("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${v}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":p}),b=$r(a)?a({rtl:p,type:s,defaultClassName:L}):xi(L,a),O={[c&&d>=1?"onTransitionEnd":"onAnimationEnd"]:c&&d<1?null:()=>{y&&t()}};return Ue.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":E},Ue.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${v} Toastify__progress-bar--${s}`}),Ue.createElement("div",{role:"progressbar","aria-hidden":E?"true":"false","aria-label":"notification timer",className:b,style:T,...O}))}var B1=1,Wv=()=>`${B1++}`;function z1(n,e,t){let s=1,o=0,a=[],c=[],d=e,p=new Map,y=new Set,v=U=>(y.add(U),()=>y.delete(U)),E=()=>{c=Array.from(p.values()),y.forEach(U=>U())},T=({containerId:U,toastId:W,updateId:X})=>{let oe=U?U!==n:n!==1,de=p.has(W)&&X==null;return oe||de},L=(U,W)=>{p.forEach(X=>{var oe;(W==null||W===X.props.toastId)&&((oe=X.toggle)==null||oe.call(X,U))})},b=U=>{var W,X;(X=(W=U.props)==null?void 0:W.onClose)==null||X.call(W,U.removalReason),U.isActive=!1},O=U=>{if(U==null)p.forEach(b);else{let W=p.get(U);W&&b(W)}E()},C=()=>{o-=a.length,a=[]},q=U=>{var W,X;let{toastId:oe,updateId:de}=U.props,N=de==null;U.staleId&&p.delete(U.staleId),U.isActive=!0,p.set(oe,U),E(),t(jy(U,N?"added":"updated")),N&&((X=(W=U.props).onOpen)==null||X.call(W))};return{id:n,props:d,observe:v,toggle:L,removeToast:O,toasts:p,clearQueue:C,buildToast:(U,W)=>{if(T(W))return;let{toastId:X,updateId:oe,data:de,staleId:N,delay:S}=W,x=oe==null;x&&o++;let k={...d,style:d.toastStyle,key:s++,...Object.fromEntries(Object.entries(W).filter(([M,P])=>P!=null)),toastId:X,updateId:oe,data:de,isIn:!1,className:jf(W.className||d.toastClassName),progressClassName:jf(W.progressClassName||d.progressClassName),autoClose:W.isLoading?!1:V1(W.autoClose,d.autoClose),closeToast(M){p.get(X).removalReason=M,O(X)},deleteToast(){let M=p.get(X);if(M!=null){if(t(jy(M,"removed")),p.delete(X),o--,o<0&&(o=0),a.length>0){q(a.shift());return}E()}}};k.closeButton=d.closeButton,W.closeButton===!1||Uf(W.closeButton)?k.closeButton=W.closeButton:W.closeButton===!0&&(k.closeButton=Uf(d.closeButton)?d.closeButton:!0);let D={content:U,props:k,staleId:N};d.limit&&d.limit>0&&o>d.limit&&x?a.push(D):Ol(S)?setTimeout(()=>{q(D)},S):q(D)},setProps(U){d=U},setToggle:(U,W)=>{let X=p.get(U);X&&(X.toggle=W)},isToastActive:U=>{var W;return(W=p.get(U))==null?void 0:W.isActive},getSnapshot:()=>c}}var Zt=new Map,Al=[],Ff=new Set,H1=n=>Ff.forEach(e=>e(n)),qv=()=>Zt.size>0;function W1(){Al.forEach(n=>Kv(n.content,n.options)),Al=[]}var q1=(n,{containerId:e})=>{var t;return(t=Zt.get(e||1))==null?void 0:t.toasts.get(n)};function Qv(n,e){var t;if(e)return!!((t=Zt.get(e))!=null&&t.isToastActive(n));let s=!1;return Zt.forEach(o=>{o.isToastActive(n)&&(s=!0)}),s}function Q1(n){if(!qv()){Al=Al.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||L1(n))Zt.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Zt.get(n.containerId);e?e.removeToast(n.id):Zt.forEach(t=>{t.removeToast(n.id)})}}var K1=(n={})=>{Zt.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function Kv(n,e){Uf(n)&&(qv()||Al.push({content:n,options:e}),Zt.forEach(t=>{t.buildToast(n,e)}))}function $1(n){var e;(e=Zt.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function $v(n,e){Zt.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function G1(n){let e=n.containerId||1;return{subscribe(t){let s=z1(e,n,H1);Zt.set(e,s);let o=s.observe(t);return W1(),()=>{o(),Zt.delete(e)}},setProps(t){var s;(s=Zt.get(e))==null||s.setProps(t)},getSnapshot(){var t;return(t=Zt.get(e))==null?void 0:t.getSnapshot()}}}function X1(n){return Ff.add(n),()=>{Ff.delete(n)}}function J1(n){return n&&(Pi(n.toastId)||Ol(n.toastId))?n.toastId:Wv()}function Dl(n,e){return Kv(n,e),e.toastId}function ah(n,e){return{...e,type:e&&e.type||n,toastId:J1(e)}}function lh(n){return(e,t)=>Dl(e,ah(n,t))}function ke(n,e){return Dl(n,ah("default",e))}ke.loading=(n,e)=>Dl(n,ah("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function Y1(n,{pending:e,error:t,success:s},o){let a;e&&(a=Pi(e)?ke.loading(e,o):ke.loading(e.render,{...o,...e}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(y,v,E)=>{if(v==null){ke.dismiss(a);return}let T={type:y,...c,...o,data:E},L=Pi(v)?{render:v}:v;return a?ke.update(a,{...T,...L}):ke(L.render,{...T,...L}),E},p=$r(n)?n():n;return p.then(y=>d("success",s,y)).catch(y=>d("error",t,y)),p}ke.promise=Y1;ke.success=lh("success");ke.info=lh("info");ke.error=lh("error");ke.warning=lh("warning");ke.warn=ke.warning;ke.dark=(n,e)=>Dl(n,ah("default",{theme:"dark",...e}));function Z1(n){Q1(n)}ke.dismiss=Z1;ke.clearWaitingQueue=K1;ke.isActive=Qv;ke.update=(n,e={})=>{let t=q1(n,e);if(t){let{props:s,content:o}=t,a={delay:100,...s,...e,toastId:e.toastId||n,updateId:Wv()};a.toastId!==n&&(a.staleId=n);let c=a.render||o;delete a.render,Dl(c,a)}};ke.done=n=>{ke.update(n,{progress:1})};ke.onChange=X1;ke.play=n=>$v(!0,n);ke.pause=n=>$v(!1,n);function eI(n){var e;let{subscribe:t,getSnapshot:s,setProps:o}=H.useRef(G1(n)).current;o(n);let a=(e=H.useSyncExternalStore(t,s,s))==null?void 0:e.slice();function c(d){if(!a)return[];let p=new Map;return n.newestOnTop&&a.reverse(),a.forEach(y=>{let{position:v}=y.props;p.has(v)||p.set(v,[]),p.get(v).push(y)}),Array.from(p,y=>d(y[0],y[1]))}return{getToastToRender:c,isToastActive:Qv,count:a==null?void 0:a.length}}function tI(n){let[e,t]=H.useState(!1),[s,o]=H.useState(!1),a=H.useRef(null),c=H.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:p,closeToast:y,onClick:v,closeOnClick:E}=n;$1({id:n.toastId,containerId:n.containerId,fn:t}),H.useEffect(()=>{if(n.pauseOnFocusLoss)return T(),()=>{L()}},[n.pauseOnFocusLoss]);function T(){document.hasFocus()||q(),window.addEventListener("focus",C),window.addEventListener("blur",q)}function L(){window.removeEventListener("focus",C),window.removeEventListener("blur",q)}function b(N){if(n.draggable===!0||n.draggable===N.pointerType){U();let S=a.current;c.canCloseOnClick=!0,c.canDrag=!0,S.style.transition="none",n.draggableDirection==="x"?(c.start=N.clientX,c.removalDistance=S.offsetWidth*(n.draggablePercent/100)):(c.start=N.clientY,c.removalDistance=S.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function O(N){let{top:S,bottom:x,left:k,right:D}=a.current.getBoundingClientRect();N.nativeEvent.type!=="touchend"&&n.pauseOnHover&&N.clientX>=k&&N.clientX<=D&&N.clientY>=S&&N.clientY<=x?q():C()}function C(){t(!0)}function q(){t(!1)}function U(){c.didMove=!1,document.addEventListener("pointermove",X),document.addEventListener("pointerup",oe)}function W(){document.removeEventListener("pointermove",X),document.removeEventListener("pointerup",oe)}function X(N){let S=a.current;if(c.canDrag&&S){c.didMove=!0,e&&q(),n.draggableDirection==="x"?c.delta=N.clientX-c.start:c.delta=N.clientY-c.start,c.start!==N.clientX&&(c.canCloseOnClick=!1);let x=n.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;S.style.transform=`translate3d(${x},0)`,S.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function oe(){W();let N=a.current;if(c.canDrag&&c.didMove&&N){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){o(!0),n.closeToast(!0),n.collapseAll();return}N.style.transition="transform 0.2s, opacity 0.2s",N.style.removeProperty("transform"),N.style.removeProperty("opacity")}}let de={onPointerDown:b,onPointerUp:O};return d&&p&&(de.onMouseEnter=q,n.stacked||(de.onMouseLeave=C)),E&&(de.onClick=N=>{v&&v(N),c.canCloseOnClick&&y(!0)}),{playToast:C,pauseToast:q,isRunning:e,preventExitTransition:s,toastRef:a,eventHandlers:de}}var nI=typeof window<"u"?H.useLayoutEffect:H.useEffect,uh=({theme:n,type:e,isLoading:t,...s})=>Ue.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...s});function rI(n){return Ue.createElement(uh,{...n},Ue.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function sI(n){return Ue.createElement(uh,{...n},Ue.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function iI(n){return Ue.createElement(uh,{...n},Ue.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function oI(n){return Ue.createElement(uh,{...n},Ue.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function aI(){return Ue.createElement("div",{className:"Toastify__spinner"})}var Bf={info:sI,warning:rI,success:iI,error:oI,spinner:aI},lI=n=>n in Bf;function uI({theme:n,type:e,isLoading:t,icon:s}){let o=null,a={theme:n,type:e};return s===!1||($r(s)?o=s({...a,isLoading:t}):H.isValidElement(s)?o=H.cloneElement(s,a):t?o=Bf.spinner():lI(e)&&(o=Bf[e](a))),o}var cI=n=>{let{isRunning:e,preventExitTransition:t,toastRef:s,eventHandlers:o,playToast:a}=tI(n),{closeButton:c,children:d,autoClose:p,onClick:y,type:v,hideProgressBar:E,closeToast:T,transition:L,position:b,className:O,style:C,progressClassName:q,updateId:U,role:W,progress:X,rtl:oe,toastId:de,deleteToast:N,isIn:S,isLoading:x,closeOnClick:k,theme:D,ariaLabel:M}=n,P=xi("Toastify__toast",`Toastify__toast-theme--${D}`,`Toastify__toast--${v}`,{"Toastify__toast--rtl":oe},{"Toastify__toast--close-on-click":k}),Ye=$r(O)?O({rtl:oe,position:b,type:v,defaultClassName:P}):xi(P,O),yt=uI(n),At=!!X||!p,Fe={closeToast:T,type:v,theme:D},se=null;return c===!1||($r(c)?se=c(Fe):H.isValidElement(c)?se=H.cloneElement(c,Fe):se=U1(Fe)),Ue.createElement(L,{isIn:S,done:N,position:b,preventExitTransition:t,nodeRef:s,playToast:a},Ue.createElement("div",{id:de,tabIndex:0,onClick:y,"data-in":S,className:Ye,...o,style:C,ref:s,...S&&{role:W,"aria-label":M}},yt!=null&&Ue.createElement("div",{className:xi("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!x})},yt),Hv(d,n,!e),se,!n.customProgressBar&&Ue.createElement(F1,{...U&&!At?{key:`p-${U}`}:{},rtl:oe,theme:D,delay:p,isRunning:e,isIn:S,closeToast:T,hide:E,type:v,className:q,controlledProgress:At,progress:X||0})))},hI=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),dI=j1(hI("bounce",!0)),fI={position:"top-right",transition:dI,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function pI(n){let e={...fI,...n},t=n.stacked,[s,o]=H.useState(!0),a=H.useRef(null),{getToastToRender:c,isToastActive:d,count:p}=eI(e),{className:y,style:v,rtl:E,containerId:T,hotKeys:L}=e;function b(C){let q=xi("Toastify__toast-container",`Toastify__toast-container--${C}`,{"Toastify__toast-container--rtl":E});return $r(y)?y({position:C,rtl:E,defaultClassName:q}):xi(q,jf(y))}function O(){t&&(o(!0),ke.play())}return nI(()=>{var C;if(t){let q=a.current.querySelectorAll('[data-in="true"]'),U=12,W=(C=e.position)==null?void 0:C.includes("top"),X=0,oe=0;Array.from(q).reverse().forEach((de,N)=>{let S=de;S.classList.add("Toastify__toast--stacked"),N>0&&(S.dataset.collapsed=`${s}`),S.dataset.pos||(S.dataset.pos=W?"top":"bot");let x=X*(s?.2:1)+(s?0:U*N);S.style.setProperty("--y",`${W?x:x*-1}px`),S.style.setProperty("--g",`${U}`),S.style.setProperty("--s",`${1-(s?oe:0)}`),X+=S.offsetHeight,oe+=.025})}},[s,p,t]),H.useEffect(()=>{function C(q){var U;let W=a.current;L(q)&&((U=W.querySelector('[tabIndex="0"]'))==null||U.focus(),o(!1),ke.pause()),q.key==="Escape"&&(document.activeElement===W||W!=null&&W.contains(document.activeElement))&&(o(!0),ke.play())}return document.addEventListener("keydown",C),()=>{document.removeEventListener("keydown",C)}},[L]),Ue.createElement("section",{ref:a,className:"Toastify",id:T,onMouseEnter:()=>{t&&(o(!1),ke.pause())},onMouseLeave:O,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},c((C,q)=>{let U=q.length?{...v}:{...v,pointerEvents:"none"};return Ue.createElement("div",{tabIndex:-1,className:b(C),"data-stacked":t,style:U,key:`c-${C}`},q.map(({content:W,props:X})=>Ue.createElement(cI,{...X,stacked:t,collapseAll:O,isIn:d(X.toastId,X.containerId),key:`t-${X.key}`},W)))}))}const mI=()=>{};var Uy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},gI=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[s++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],c=n[t++],d=n[t++],p=((o&7)<<18|(a&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const a=n[t++],c=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},Xv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const a=n[o],c=o+1<n.length,d=c?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,v=a>>2,E=(a&3)<<4|d>>4;let T=(d&15)<<2|y>>6,L=y&63;p||(L=64,c||(T=64)),s.push(t[v],t[E],t[T],t[L])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Gv(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):gI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||y==null||E==null)throw new yI;const T=a<<2|d>>4;if(s.push(T),y!==64){const L=d<<4&240|y>>2;if(s.push(L),E!==64){const b=y<<6&192|E;s.push(b)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class yI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AI=function(n){const e=Gv(n);return Xv.encodeByteArray(e,!0)},Dc=function(n){return AI(n).replace(/\./g,"")},Jv=function(n){try{return Xv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=()=>vI().__FIREBASE_DEFAULTS__,EI=()=>{if(typeof process>"u"||typeof Uy>"u")return;const n=Uy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},wI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Jv(n[1]);return e&&JSON.parse(e)},ch=()=>{try{return mI()||_I()||EI()||wI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Yv=n=>{var e,t;return(t=(e=ch())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},TI=n=>{const e=Yv(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Zv=()=>{var n;return(n=ch())==null?void 0:n.config},e_=n=>{var e;return(e=ch())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function t_(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Dc(JSON.stringify(t)),Dc(JSON.stringify(c)),""].join(".")}const cl={};function xI(){const n={prod:[],emulator:[]};for(const e of Object.keys(cl))cl[e]?n.emulator.push(e):n.prod.push(e);return n}function CI(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Fy=!1;function n_(n,e){if(typeof window>"u"||typeof document>"u"||!Zo(window.location.host)||cl[n]===e||cl[n]||Fy)return;cl[n]=e;function t(T){return`__firebase__banner__${T}`}const s="__firebase__banner",a=xI().prod.length>0;function c(){const T=document.getElementById(s);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,L){T.setAttribute("width","24"),T.setAttribute("id",L),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function y(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Fy=!0,c()},T}function v(T,L){T.setAttribute("id",L),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=CI(s),L=t("text"),b=document.getElementById(L)||document.createElement("span"),O=t("learnmore"),C=document.getElementById(O)||document.createElement("a"),q=t("preprendIcon"),U=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const W=T.element;d(W),v(C,O);const X=y();p(U,q),W.append(U,b,C,X),document.body.appendChild(W)}a?(b.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function PI(){var e;const n=(e=ch())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function bI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OI(){const n=$t();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function DI(){return!PI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LI(){try{return typeof indexedDB=="object"}catch{return!1}}function VI(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)==null?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="FirebaseError";class Zr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=MI,Object.setPrototypeOf(this,Zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ll.prototype.create)}}class Ll{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?jI(a,s):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Zr(o,d,s)}}function jI(n,e){return n.replace(UI,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const UI=/\{\$([^}]+)}/g;function FI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ki(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const a=n[o],c=e[o];if(By(a)&&By(c)){if(!ki(a,c))return!1}else if(a!==c)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function By(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function sl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,a]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function il(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function BI(n,e){const t=new zI(n,e);return t.subscribe.bind(t)}class zI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");HI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=mf),o.error===void 0&&(o.error=mf),o.complete===void 0&&(o.complete=mf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function mf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(n){return n&&n._delegate?n._delegate:n}class Ni{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new II;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QI(e))try{this.getOrInitializeService({instanceIdentifier:wi})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});s.resolve(a)}catch{}}}}clearInstance(e=wi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wi){return this.instances.has(e)}getOptions(e=wi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[a,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);s===d&&c.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const a=this.instances.get(s);return a&&e(a,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:qI(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=wi){return this.component?this.component.multipleInstances?e:wi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qI(n){return n===wi?void 0:n}function QI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new WI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ne||(Ne={}));const $I={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},GI=Ne.INFO,XI={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},JI=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=XI[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ep{constructor(e){this.name=e,this._logLevel=GI,this._logHandler=JI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$I[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const YI=(n,e)=>e.some(t=>n instanceof t);let zy,Hy;function ZI(){return zy||(zy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eS(){return Hy||(Hy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const r_=new WeakMap,zf=new WeakMap,s_=new WeakMap,gf=new WeakMap,wp=new WeakMap;function tS(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(Ds(n.result)),o()},c=()=>{s(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&r_.set(t,n)}).catch(()=>{}),wp.set(e,n),e}function nS(n){if(zf.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});zf.set(n,e)}let Hf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return zf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||s_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ds(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function rS(n){Hf=n(Hf)}function sS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(yf(this),e,...t);return s_.set(s,e.sort?e.sort():[e]),Ds(s)}:eS().includes(n)?function(...e){return n.apply(yf(this),e),Ds(r_.get(this))}:function(...e){return Ds(n.apply(yf(this),e))}}function iS(n){return typeof n=="function"?sS(n):(n instanceof IDBTransaction&&nS(n),YI(n,ZI())?new Proxy(n,Hf):n)}function Ds(n){if(n instanceof IDBRequest)return tS(n);if(gf.has(n))return gf.get(n);const e=iS(n);return e!==n&&(gf.set(n,e),wp.set(e,n)),e}const yf=n=>wp.get(n);function oS(n,e,{blocked:t,upgrade:s,blocking:o,terminated:a}={}){const c=indexedDB.open(n,e),d=Ds(c);return s&&c.addEventListener("upgradeneeded",p=>{s(Ds(c.result),p.oldVersion,p.newVersion,Ds(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{a&&p.addEventListener("close",()=>a()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const aS=["get","getKey","getAll","getAllKeys","count"],lS=["put","add","delete","clear"],Af=new Map;function Wy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Af.get(e))return Af.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=lS.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||aS.includes(t)))return;const a=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&p.done]))[0]};return Af.set(e,a),a}rS(n=>({...n,get:(e,t,s)=>Wy(e,t)||n.get(e,t,s),has:(e,t)=>!!Wy(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(cS(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function cS(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wf="@firebase/app",qy="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new Ep("@firebase/app"),hS="@firebase/app-compat",dS="@firebase/analytics-compat",fS="@firebase/analytics",pS="@firebase/app-check-compat",mS="@firebase/app-check",gS="@firebase/auth",yS="@firebase/auth-compat",AS="@firebase/database",vS="@firebase/data-connect",_S="@firebase/database-compat",ES="@firebase/functions",wS="@firebase/functions-compat",TS="@firebase/installations",IS="@firebase/installations-compat",SS="@firebase/messaging",xS="@firebase/messaging-compat",CS="@firebase/performance",RS="@firebase/performance-compat",PS="@firebase/remote-config",kS="@firebase/remote-config-compat",NS="@firebase/storage",bS="@firebase/storage-compat",OS="@firebase/firestore",DS="@firebase/ai",LS="@firebase/firestore-compat",VS="firebase",MS="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf="[DEFAULT]",jS={[Wf]:"fire-core",[hS]:"fire-core-compat",[fS]:"fire-analytics",[dS]:"fire-analytics-compat",[mS]:"fire-app-check",[pS]:"fire-app-check-compat",[gS]:"fire-auth",[yS]:"fire-auth-compat",[AS]:"fire-rtdb",[vS]:"fire-data-connect",[_S]:"fire-rtdb-compat",[ES]:"fire-fn",[wS]:"fire-fn-compat",[TS]:"fire-iid",[IS]:"fire-iid-compat",[SS]:"fire-fcm",[xS]:"fire-fcm-compat",[CS]:"fire-perf",[RS]:"fire-perf-compat",[PS]:"fire-rc",[kS]:"fire-rc-compat",[NS]:"fire-gcs",[bS]:"fire-gcs-compat",[OS]:"fire-fst",[LS]:"fire-fst-compat",[DS]:"fire-vertex","fire-js":"fire-js",[VS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=new Map,US=new Map,Qf=new Map;function Qy(n,e){try{n.container.addComponent(e)}catch(t){Gr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function qo(n){const e=n.name;if(Qf.has(e))return Gr.debug(`There were multiple attempts to register component ${e}.`),!1;Qf.set(e,n);for(const t of Lc.values())Qy(t,n);for(const t of US.values())Qy(t,n);return!0}function Tp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function hn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ls=new Ll("app","Firebase",FS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=MS;function i_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:qf,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Ls.create("bad-app-name",{appName:String(o)});if(t||(t=Zv()),!t)throw Ls.create("no-options");const a=Lc.get(o);if(a){if(ki(t,a.options)&&ki(s,a.config))return a;throw Ls.create("duplicate-app",{appName:o})}const c=new KI(o);for(const p of Qf.values())c.addComponent(p);const d=new BS(t,s,c);return Lc.set(o,d),d}function o_(n=qf){const e=Lc.get(n);if(!e&&n===qf&&Zv())return i_();if(!e)throw Ls.create("no-app",{appName:n});return e}function Vs(n,e,t){let s=jS[n]??n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gr.warn(c.join(" "));return}qo(new Ni(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="firebase-heartbeat-database",HS=1,vl="firebase-heartbeat-store";let vf=null;function a_(){return vf||(vf=oS(zS,HS,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(vl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ls.create("idb-open",{originalErrorMessage:n.message})})),vf}async function WS(n){try{const t=(await a_()).transaction(vl),s=await t.objectStore(vl).get(l_(n));return await t.done,s}catch(e){if(e instanceof Zr)Gr.warn(e.message);else{const t=Ls.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gr.warn(t.message)}}}async function Ky(n,e){try{const s=(await a_()).transaction(vl,"readwrite");await s.objectStore(vl).put(e,l_(n)),await s.done}catch(t){if(t instanceof Zr)Gr.warn(t.message);else{const s=Ls.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Gr.warn(s.message)}}}function l_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=1024,QS=30;class KS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new GS(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=$y();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>QS){const c=XS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Gr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$y(),{heartbeatsToSend:s,unsentEntries:o}=$S(this._heartbeatsCache.heartbeats),a=Dc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Gr.warn(t),""}}}function $y(){return new Date().toISOString().substring(0,10)}function $S(n,e=qS){const t=[];let s=n.slice();for(const o of n){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),Gy(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Gy(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class GS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LI()?VI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await WS(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Ky(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Ky(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Gy(n){return Dc(JSON.stringify({version:2,heartbeats:n})).length}function XS(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(n){qo(new Ni("platform-logger",e=>new uS(e),"PRIVATE")),qo(new Ni("heartbeat",e=>new KS(e),"PRIVATE")),Vs(Wf,qy,n),Vs(Wf,qy,"esm2020"),Vs("fire-js","")}JS("");var YS="firebase",ZS="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vs(YS,ZS,"app");function u_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ex=u_,c_=new Ll("auth","Firebase",u_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc=new Ep("@firebase/auth");function tx(n,...e){Vc.logLevel<=Ne.WARN&&Vc.warn(`Auth (${ea}): ${n}`,...e)}function Ac(n,...e){Vc.logLevel<=Ne.ERROR&&Vc.error(`Auth (${ea}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(n,...e){throw Sp(n,...e)}function tr(n,...e){return Sp(n,...e)}function Ip(n,e,t){const s={...ex(),[e]:t};return new Ll("auth","Firebase",s).create(e,{appName:n.name})}function yr(n){return Ip(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function h_(n,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ln(n,"argument-error"),Ip(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sp(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return c_.create(n,...e)}function Ee(n,e,...t){if(!n)throw Sp(e,...t)}function qr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ac(e),new Error(e)}function Xr(n,e){n||qr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function nx(){return Xy()==="http:"||Xy()==="https:"}function Xy(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nx()||NI()||"connection"in navigator)?navigator.onLine:!0}function sx(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,t){this.shortDelay=e,this.longDelay=t,Xr(t>e,"Short delay should be less than long delay!"),this.isMobile=RI()||bI()}get(){return rx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(n,e){Xr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ax=new Ml(3e4,6e4);function es(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ts(n,e,t,s,o={}){return f_(n,o,async()=>{let a={},c={};s&&(e==="GET"?c=s:a={body:JSON.stringify(s)});const d=Vl({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y={method:e,headers:p,...a};return kI()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Zo(n.emulatorConfig.host)&&(y.credentials="include"),d_.fetch()(await p_(n,n.config.apiHost,t,d),y)})}async function f_(n,e,t){n._canInitEmulator=!1;const s={...ix,...e};try{const o=new ux(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw dc(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const d=a.ok?c.errorMessage:c.error.message,[p,y]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw dc(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw dc(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw dc(n,"user-disabled",c);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Ip(n,v,y);Ln(n,v)}}catch(o){if(o instanceof Zr)throw o;Ln(n,"network-request-failed",{message:String(o)})}}async function jl(n,e,t,s,o={}){const a=await ts(n,e,t,s,o);return"mfaPendingCredential"in a&&Ln(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function p_(n,e,t,s){const o=`${e}${t}?${s}`,a=n,c=a.config.emulator?xp(n.config,o):`${n.config.apiScheme}://${o}`;return ox.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(c).toString():c}function lx(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ux{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(tr(this.auth,"network-request-failed")),ax.get())})}}function dc(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=tr(n,e,s);return o.customData._tokenResponse=t,o}function Jy(n){return n!==void 0&&n.enterprise!==void 0}class cx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return lx(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function hx(n,e){return ts(n,"GET","/v2/recaptchaConfig",es(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dx(n,e){return ts(n,"POST","/v1/accounts:delete",e)}async function Mc(n,e){return ts(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fx(n,e=!1){const t=pn(n),s=await t.getIdToken(e),o=Cp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:o,token:s,authTime:hl(_f(o.auth_time)),issuedAtTime:hl(_f(o.iat)),expirationTime:hl(_f(o.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function _f(n){return Number(n)*1e3}function Cp(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return Ac("JWT malformed, contained fewer than 3 sections"),null;try{const o=Jv(t);return o?JSON.parse(o):(Ac("Failed to decode base64 JWT payload"),null)}catch(o){return Ac("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Yy(n){const e=Cp(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Zr&&px(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function px({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hl(this.lastLoginAt),this.creationTime=hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jc(n){var E;const e=n.auth,t=await n.getIdToken(),s=await _l(n,Mc(e,{idToken:t}));Ee(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const a=(E=o.providerUserInfo)!=null&&E.length?m_(o.providerUserInfo):[],c=yx(n.providerData,a),d=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!(c!=null&&c.length),y=d?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new $f(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,v)}async function gx(n){const e=pn(n);await jc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yx(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function m_(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ax(n,e){const t=await f_(n,{},async()=>{const s=Vl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,c=await p_(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return n.emulatorConfig&&Zo(n.emulatorConfig.host)&&(p.credentials="include"),d_.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function vx(n,e){return ts(n,"POST","/v2/accounts:revokeToken",es(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Yy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=Yy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:a}=await Ax(e,t);this.updateTokensAndExpiration(s,o,Number(a))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:a}=t,c=new Uo;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(Ee(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uo,this.toJSON())}_performRefresh(){return qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Zn{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new mx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new $f(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await _l(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return fx(this,e)}reload(){return gx(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await jc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hn(this.auth.app))return Promise.reject(yr(this.auth));const e=await this.getIdToken();return await _l(this,dx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,a=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,y=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:E,emailVerified:T,isAnonymous:L,providerData:b,stsTokenManager:O}=t;Ee(E&&O,e,"internal-error");const C=Uo.fromJSON(this.name,O);Ee(typeof E=="string",e,"internal-error"),Cs(s,e.name),Cs(o,e.name),Ee(typeof T=="boolean",e,"internal-error"),Ee(typeof L=="boolean",e,"internal-error"),Cs(a,e.name),Cs(c,e.name),Cs(d,e.name),Cs(p,e.name),Cs(y,e.name),Cs(v,e.name);const q=new Zn({uid:E,auth:e,email:o,emailVerified:T,displayName:s,isAnonymous:L,photoURL:c,phoneNumber:a,tenantId:d,stsTokenManager:C,createdAt:y,lastLoginAt:v});return b&&Array.isArray(b)&&(q.providerData=b.map(U=>({...U}))),p&&(q._redirectEventId=p),q}static async _fromIdTokenResponse(e,t,s=!1){const o=new Uo;o.updateFromServerResponse(t);const a=new Zn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await jc(a),a}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?m_(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),d=new Uo;d.updateFromIdToken(s);const p=new Zn({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new $f(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=new Map;function Qr(n){Xr(n instanceof Function,"Expected a class definition");let e=Zy.get(n);return e?(Xr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Zy.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}g_.type="NONE";const eA=g_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(n,e,t){return`firebase:${n}:${e}:${t}`}class Fo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:a}=this.auth;this.fullUserKey=vc(this.userKey,o.apiKey,a),this.fullPersistenceKey=vc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Mc(this.auth,{idToken:e}).catch(()=>{});return t?Zn._fromGetAccountInfoResponse(this.auth,t,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Fo(Qr(eA),e,s);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let a=o[0]||Qr(eA);const c=vc(s,e.config.apiKey,e.name);let d=null;for(const y of t)try{const v=await y._get(c);if(v){let E;if(typeof v=="string"){const T=await Mc(e,{idToken:v}).catch(()=>{});if(!T)break;E=await Zn._fromGetAccountInfoResponse(e,T,v)}else E=Zn._fromJSON(e,v);y!==a&&(d=E),a=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new Fo(a,e,s):(a=p[0],d&&await a._set(c,d.toJSON()),await Promise.all(t.map(async y=>{if(y!==a)try{await y._remove(c)}catch{}})),new Fo(a,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(__(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(y_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(w_(e))return"Blackberry";if(T_(e))return"Webos";if(A_(e))return"Safari";if((e.includes("chrome/")||v_(e))&&!e.includes("edge/"))return"Chrome";if(E_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function y_(n=$t()){return/firefox\//i.test(n)}function A_(n=$t()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function v_(n=$t()){return/crios\//i.test(n)}function __(n=$t()){return/iemobile/i.test(n)}function E_(n=$t()){return/android/i.test(n)}function w_(n=$t()){return/blackberry/i.test(n)}function T_(n=$t()){return/webos/i.test(n)}function Rp(n=$t()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function _x(n=$t()){var e;return Rp(n)&&!!((e=window.navigator)!=null&&e.standalone)}function Ex(){return OI()&&document.documentMode===10}function I_(n=$t()){return Rp(n)||E_(n)||T_(n)||w_(n)||/windows phone/i.test(n)||__(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(n,e=[]){let t;switch(n){case"Browser":t=tA($t());break;case"Worker":t=`${tA($t())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ea}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=a=>new Promise((c,d)=>{try{const p=e(a);c(p)}catch(p){d(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tx(n,e={}){return ts(n,"GET","/v2/passwordPolicy",es(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=6;class Sx{constructor(e){var s;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Ix,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nA(this),this.idTokenSubscription=new nA(this),this.beforeStateQueue=new wx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Qr(t)),this._initializationPromise=this.queue(async()=>{var s,o,a;if(!this._deleted&&(this.persistenceManager=await Fo.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Mc(this,{idToken:e}),s=await Zn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(hn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(a=this.redirectUser)==null?void 0:a._redirectEventId,d=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await jc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hn(this.app))return Promise.reject(yr(this));const t=e?pn(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hn(this.app)?Promise.reject(yr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hn(this.app)?Promise.reject(yr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Tx(this),t=new Sx(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ll("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await vx(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Qr(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await Fo.create(this,[Qr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(d,this,"internal-error"),d.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=S_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var t;if(hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&tx(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Sr(n){return pn(n)}class nA{constructor(e){this.auth=e,this.observer=null,this.addObserver=BI(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Cx(n){hh=n}function x_(n){return hh.loadJS(n)}function Rx(){return hh.recaptchaEnterpriseScript}function Px(){return hh.gapiScript}function kx(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Nx{constructor(){this.enterprise=new bx}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class bx{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Ox="recaptcha-enterprise",C_="NO_RECAPTCHA";class Dx{constructor(e){this.type=Ox,this.auth=Sr(e)}async verify(e="verify",t=!1){async function s(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,d)=>{hx(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const y=new cx(p);return a.tenantId==null?a._agentRecaptchaConfig=y:a._tenantRecaptchaConfigs[a.tenantId]=y,c(y.siteKey)}}).catch(p=>{d(p)})})}function o(a,c,d){const p=window.grecaptcha;Jy(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:e}).then(y=>{c(y)}).catch(()=>{c(C_)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Nx().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{s(this.auth).then(d=>{if(!t&&Jy(window.grecaptcha))o(d,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Rx();p.length!==0&&(p+=d),x_(p).then(()=>{o(d,a,c)}).catch(y=>{c(y)})}}).catch(d=>{c(d)})})}}async function rA(n,e,t,s=!1,o=!1){const a=new Dx(n);let c;if(o)c=C_;else try{c=await a.verify(t)}catch{c=await a.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,y=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Uc(n,e,t,s,o){var a;if((a=n._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await rA(n,e,t,t==="getOobCode");return s(n,c)}else return s(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await rA(n,e,t,t==="getOobCode");return s(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(n,e){const t=Tp(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(ki(a,e??{}))return o;Ln(o,"already-initialized")}return t.initialize({options:e})}function Vx(n,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(Qr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function Mx(n,e,t){const s=Sr(n);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,a=R_(e),{host:c,port:d}=jx(e),p=d===null?"":`:${d}`,y={url:`${a}//${c}${p}/`},v=Object.freeze({host:c,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(ki(y,s.config.emulator)&&ki(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Zo(c)?(t_(`${a}//${c}${p}`),n_("Auth",!0)):Ux()}function R_(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function jx(n){const e=R_(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const a=o[1];return{host:a,port:sA(s.substr(a.length+1))}}else{const[a,c]=s.split(":");return{host:a,port:sA(c)}}}function sA(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Ux(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return qr("not implemented")}_getIdTokenResponse(e){return qr("not implemented")}_linkToIdToken(e,t){return qr("not implemented")}_getReauthenticationResolver(e){return qr("not implemented")}}async function Fx(n,e){return ts(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bx(n,e){return jl(n,"POST","/v1/accounts:signInWithPassword",es(n,e))}async function zx(n,e){return ts(n,"POST","/v1/accounts:sendOobCode",es(n,e))}async function Hx(n,e){return zx(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wx(n,e){return jl(n,"POST","/v1/accounts:signInWithEmailLink",es(n,e))}async function qx(n,e){return jl(n,"POST","/v1/accounts:signInWithEmailLink",es(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El extends Pp{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new El(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new El(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Uc(e,t,"signInWithPassword",Bx);case"emailLink":return Wx(e,{email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Uc(e,s,"signUpPassword",Fx);case"emailLink":return qx(e,{idToken:t,email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(n,e){return jl(n,"POST","/v1/accounts:signInWithIdp",es(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx="http://localhost";class bi extends Pp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new bi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ln("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...a}=t;if(!s||!o)return null;const c=new bi(s,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Bo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Bo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Bo(e,t)}buildRequest(){const e={requestUri:Qx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Vl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $x(n){const e=sl(il(n)).link,t=e?sl(il(e)).deep_link_id:null,s=sl(il(n)).deep_link_id;return(s?sl(il(s)).link:null)||s||t||e||n}class kp{constructor(e){const t=sl(il(e)),s=t.apiKey??null,o=t.oobCode??null,a=Kx(t.mode??null);Ee(s&&o&&a,"argument-error"),this.apiKey=s,this.operation=a,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=$x(e);try{return new kp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.providerId=ta.PROVIDER_ID}static credential(e,t){return El._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=kp.parseLink(t);return Ee(s,"argument-error"),El._fromEmailAndCode(e,s.code,s.tenantId)}}ta.PROVIDER_ID="password";ta.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ta.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends dh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends Ul{constructor(){super("facebook.com")}static credential(e){return bi._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rs.credential(e.oauthAccessToken)}catch{return null}}}Rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends Ul{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return bi._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Wr.credential(t,s)}catch{return null}}}Wr.GOOGLE_SIGN_IN_METHOD="google.com";Wr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Ul{constructor(){super("github.com")}static credential(e){return bi._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ps.credential(e.oauthAccessToken)}catch{return null}}}Ps.GITHUB_SIGN_IN_METHOD="github.com";Ps.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends Ul{constructor(){super("twitter.com")}static credential(e,t){return bi._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ks.credential(t,s)}catch{return null}}}ks.TWITTER_SIGN_IN_METHOD="twitter.com";ks.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gx(n,e){return jl(n,"POST","/v1/accounts:signUp",es(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const a=await Zn._fromIdTokenResponse(e,s,o),c=iA(s);return new Oi({user:a,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=iA(s);return new Oi({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function iA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc extends Zr{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Fc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Fc(e,t,s,o)}}function P_(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Fc._fromErrorAndOperation(n,a,e,s):a})}async function Xx(n,e,t=!1){const s=await _l(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Oi._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jx(n,e,t=!1){const{auth:s}=n;if(hn(s.app))return Promise.reject(yr(s));const o="reauthenticate";try{const a=await _l(n,P_(s,o,e,n),t);Ee(a.idToken,s,"internal-error");const c=Cp(a.idToken);Ee(c,s,"internal-error");const{sub:d}=c;return Ee(n.uid===d,s,"user-mismatch"),Oi._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Ln(s,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k_(n,e,t=!1){if(hn(n.app))return Promise.reject(yr(n));const s="signIn",o=await P_(n,s,e),a=await Oi._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(a.user),a}async function Yx(n,e){return k_(Sr(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N_(n){const e=Sr(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Zx(n,e,t){const s=Sr(n);await Uc(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Hx)}async function eC(n,e,t){if(hn(n.app))return Promise.reject(yr(n));const s=Sr(n),c=await Uc(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Gx).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&N_(n),p}),d=await Oi._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function tC(n,e,t){return hn(n.app)?Promise.reject(yr(n)):Yx(pn(n),ta.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&N_(n),s})}function nC(n,e,t,s){return pn(n).onIdTokenChanged(e,t,s)}function rC(n,e,t){return pn(n).beforeAuthStateChanged(e,t)}function sC(n,e,t,s){return pn(n).onAuthStateChanged(e,t,s)}function iC(n){return pn(n).signOut()}const Bc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Bc,"1"),this.storage.removeItem(Bc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=1e3,aC=10;class O_ extends b_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=I_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},a=this.storage.getItem(s);Ex()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,aC):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},oC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}O_.type="LOCAL";const lC=O_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_ extends b_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}D_.type="SESSION";const L_=D_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new fh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(c).map(async y=>y(t.origin,a)),p=await uC(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((d,p)=>{const y=Np("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(E){const T=E;if(T.data.eventId===y)switch(T.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(T.data.response);break;default:clearTimeout(v),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(){return window}function hC(n){Ar().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(){return typeof Ar().WorkerGlobalScope<"u"&&typeof Ar().importScripts=="function"}async function dC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fC(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function pC(){return V_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="firebaseLocalStorageDb",mC=1,zc="firebaseLocalStorage",j_="fbase_key";class Fl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ph(n,e){return n.transaction([zc],e?"readwrite":"readonly").objectStore(zc)}function gC(){const n=indexedDB.deleteDatabase(M_);return new Fl(n).toPromise()}function Gf(){const n=indexedDB.open(M_,mC);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(zc,{keyPath:j_})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(zc)?e(s):(s.close(),await gC(),e(await Gf()))})})}async function oA(n,e,t){const s=ph(n,!0).put({[j_]:e,value:t});return new Fl(s).toPromise()}async function yC(n,e){const t=ph(n,!1).get(e),s=await new Fl(t).toPromise();return s===void 0?null:s.value}function aA(n,e){const t=ph(n,!0).delete(e);return new Fl(t).toPromise()}const AC=800,vC=3;class U_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>vC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return V_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fh._getInstance(pC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,s;if(this.activeServiceWorker=await dC(),!this.activeServiceWorker)return;this.sender=new cC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gf();return await oA(e,Bc,"1"),await aA(e,Bc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>oA(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>yC(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>aA(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=ph(o,!1).getAll();return new Fl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}U_.type="LOCAL";const _C=U_;new Ml(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(n,e){return e?Qr(e):(Ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op extends Pp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Bo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function EC(n){return k_(n.auth,new Op(n),n.bypassAuthState)}function wC(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),Jx(t,new Op(n),n.bypassAuthState)}async function TC(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),Xx(t,new Op(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e,t,s,o,a=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:a,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return EC;case"linkViaPopup":case"linkViaRedirect":return TC;case"reauthViaPopup":case"reauthViaRedirect":return wC;default:Ln(this.auth,"internal-error")}}resolve(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=new Ml(2e3,1e4);async function SC(n,e,t){if(hn(n.app))return Promise.reject(tr(n,"operation-not-supported-in-this-environment"));const s=Sr(n);h_(n,e,dh);const o=bp(s,t);return new Ti(s,"signInViaPopup",e,o).executeNotNull()}class Ti extends F_{constructor(e,t,s,o,a){super(e,t,o,a),this.provider=s,this.authWindow=null,this.pollId=null,Ti.currentPopupAction&&Ti.currentPopupAction.cancel(),Ti.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Xr(this.filter.length===1,"Popup operations only handle one event");const e=Np();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ti.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if((s=(t=this.authWindow)==null?void 0:t.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,IC.get())};e()}}Ti.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="pendingRedirect",_c=new Map;class CC extends F_{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=_c.get(this.auth._key());if(!e){try{const s=await RC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}_c.set(this.auth._key(),e)}return this.bypassAuthState||_c.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RC(n,e){const t=z_(e),s=B_(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}async function PC(n,e){return B_(n)._set(z_(e),"true")}function kC(n,e){_c.set(n._key(),e)}function B_(n){return Qr(n._redirectPersistence)}function z_(n){return vc(xC,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(n,e,t){return bC(n,e,t)}async function bC(n,e,t){if(hn(n.app))return Promise.reject(yr(n));const s=Sr(n);h_(n,e,dh),await s._initializationPromise;const o=bp(s,t);return await PC(o,s),o._openRedirect(s,e,"signInViaRedirect")}async function OC(n,e,t=!1){if(hn(n.app))return Promise.reject(yr(n));const s=Sr(n),o=bp(s,e),c=await new CC(s,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=600*1e3;class LC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!H_(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";t.onError(tr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DC&&this.cachedEventUids.clear(),this.cachedEventUids.has(lA(e))}saveEventToCache(e){this.cachedEventUids.add(lA(e)),this.lastProcessedEventTime=Date.now()}}function lA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function H_({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function VC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return H_(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MC(n,e={}){return ts(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UC=/^https?/;async function FC(n){if(n.config.emulator)return;const{authorizedDomains:e}=await MC(n);for(const t of e)try{if(BC(t))return}catch{}Ln(n,"unauthorized-domain")}function BC(n){const e=Kf(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!UC.test(t))return!1;if(jC.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=new Ml(3e4,6e4);function uA(){const n=Ar().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function HC(n){return new Promise((e,t)=>{var o,a,c;function s(){uA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uA(),t(tr(n,"network-request-failed"))},timeout:zC.get()})}if((a=(o=Ar().gapi)==null?void 0:o.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((c=Ar().gapi)!=null&&c.load)s();else{const d=kx("iframefcb");return Ar()[d]=()=>{gapi.load?s():t(tr(n,"network-request-failed"))},x_(`${Px()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw Ec=null,e})}let Ec=null;function WC(n){return Ec=Ec||HC(n),Ec}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=new Ml(5e3,15e3),QC="__/auth/iframe",KC="emulator/auth/iframe",$C={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XC(n){const e=n.config;Ee(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?xp(e,KC):`https://${n.config.authDomain}/${QC}`,s={apiKey:e.apiKey,appName:n.name,v:ea},o=GC.get(n.config.apiHost);o&&(s.eid=o);const a=n._getFrameworks();return a.length&&(s.fw=a.join(",")),`${t}?${Vl(s).slice(1)}`}async function JC(n){const e=await WC(n),t=Ar().gapi;return Ee(t,n,"internal-error"),e.open({where:document.body,url:XC(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$C,dontclear:!0},s=>new Promise(async(o,a)=>{await s.restyle({setHideOnLeave:!1});const c=tr(n,"network-request-failed"),d=Ar().setTimeout(()=>{a(c)},qC.get());function p(){Ar().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZC=500,eR=600,tR="_blank",nR="http://localhost";class cA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rR(n,e,t,s=ZC,o=eR){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p={...YC,width:s.toString(),height:o.toString(),top:a,left:c},y=$t().toLowerCase();t&&(d=v_(y)?tR:t),y_(y)&&(e=e||nR,p.scrollbars="yes");const v=Object.entries(p).reduce((T,[L,b])=>`${T}${L}=${b},`,"");if(_x(y)&&d!=="_self")return sR(e||"",d),new cA(null);const E=window.open(e||"",d,v);Ee(E,n,"popup-blocked");try{E.focus()}catch{}return new cA(E)}function sR(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="__/auth/handler",oR="emulator/auth/handler",aR=encodeURIComponent("fac");async function hA(n,e,t,s,o,a){Ee(n.config.authDomain,n,"auth-domain-config-required"),Ee(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:ea,eventId:o};if(e instanceof dh){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",FI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))c[v]=E}if(e instanceof Ul){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await n._getAppCheckToken(),y=p?`#${aR}=${encodeURIComponent(p)}`:"";return`${lR(n)}?${Vl(d).slice(1)}${y}`}function lR({config:n}){return n.emulator?xp(n,oR):`https://${n.authDomain}/${iR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef="webStorageSupport";class uR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=L_,this._completeRedirectFn=OC,this._overrideRedirectResult=kC}async _openPopup(e,t,s,o){var c;Xr((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const a=await hA(e,t,s,Kf(),o);return rR(e,a,Np())}async _openRedirect(e,t,s,o){await this._originValidation(e);const a=await hA(e,t,s,Kf(),o);return hC(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(Xr(a,"If manager is not set, promise should be"),a)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await JC(e),s=new LC(e);return t.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ef,{type:Ef},o=>{var c;const a=(c=o==null?void 0:o[0])==null?void 0:c[Ef];a!==void 0&&t(!!a),Ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=FC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return I_()||A_()||Rp()}}const cR=uR;var dA="@firebase/auth",fA="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fR(n){qo(new Ni("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Ee(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:S_(n)},y=new xx(s,o,a,p);return Vx(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),qo(new Ni("auth-internal",e=>{const t=Sr(e.getProvider("auth").getImmediate());return(s=>new hR(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vs(dA,fA,dR(n)),Vs(dA,fA,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=300,mR=e_("authIdTokenMaxAge")||pR;let pA=null;const gR=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>mR)return;const o=t==null?void 0:t.token;pA!==o&&(pA=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function yR(n=o_()){const e=Tp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Lx(n,{popupRedirectResolver:cR,persistence:[_C,lC,L_]}),s=e_("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(s,location.origin);if(location.origin===a.origin){const c=gR(a.toString());rC(t,c,()=>c(t.currentUser)),nC(t,d=>c(d))}}const o=Yv("auth");return o&&Mx(t,`http://${o}`),t}function AR(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}Cx({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const a=tr("internal-error");a.customData=o,t(a)},s.type="text/javascript",s.charset="UTF-8",AR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fR("Browser");var mA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ms,W_;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function x(){}x.prototype=S.prototype,N.D=S.prototype,N.prototype=new x,N.prototype.constructor=N,N.C=function(k,D,M){for(var P=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)P[Ye-2]=arguments[Ye];return S.prototype[D].apply(k,P)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,x){x||(x=0);var k=Array(16);if(typeof S=="string")for(var D=0;16>D;++D)k[D]=S.charCodeAt(x++)|S.charCodeAt(x++)<<8|S.charCodeAt(x++)<<16|S.charCodeAt(x++)<<24;else for(D=0;16>D;++D)k[D]=S[x++]|S[x++]<<8|S[x++]<<16|S[x++]<<24;S=N.g[0],x=N.g[1],D=N.g[2];var M=N.g[3],P=S+(M^x&(D^M))+k[0]+3614090360&4294967295;S=x+(P<<7&4294967295|P>>>25),P=M+(D^S&(x^D))+k[1]+3905402710&4294967295,M=S+(P<<12&4294967295|P>>>20),P=D+(x^M&(S^x))+k[2]+606105819&4294967295,D=M+(P<<17&4294967295|P>>>15),P=x+(S^D&(M^S))+k[3]+3250441966&4294967295,x=D+(P<<22&4294967295|P>>>10),P=S+(M^x&(D^M))+k[4]+4118548399&4294967295,S=x+(P<<7&4294967295|P>>>25),P=M+(D^S&(x^D))+k[5]+1200080426&4294967295,M=S+(P<<12&4294967295|P>>>20),P=D+(x^M&(S^x))+k[6]+2821735955&4294967295,D=M+(P<<17&4294967295|P>>>15),P=x+(S^D&(M^S))+k[7]+4249261313&4294967295,x=D+(P<<22&4294967295|P>>>10),P=S+(M^x&(D^M))+k[8]+1770035416&4294967295,S=x+(P<<7&4294967295|P>>>25),P=M+(D^S&(x^D))+k[9]+2336552879&4294967295,M=S+(P<<12&4294967295|P>>>20),P=D+(x^M&(S^x))+k[10]+4294925233&4294967295,D=M+(P<<17&4294967295|P>>>15),P=x+(S^D&(M^S))+k[11]+2304563134&4294967295,x=D+(P<<22&4294967295|P>>>10),P=S+(M^x&(D^M))+k[12]+1804603682&4294967295,S=x+(P<<7&4294967295|P>>>25),P=M+(D^S&(x^D))+k[13]+4254626195&4294967295,M=S+(P<<12&4294967295|P>>>20),P=D+(x^M&(S^x))+k[14]+2792965006&4294967295,D=M+(P<<17&4294967295|P>>>15),P=x+(S^D&(M^S))+k[15]+1236535329&4294967295,x=D+(P<<22&4294967295|P>>>10),P=S+(D^M&(x^D))+k[1]+4129170786&4294967295,S=x+(P<<5&4294967295|P>>>27),P=M+(x^D&(S^x))+k[6]+3225465664&4294967295,M=S+(P<<9&4294967295|P>>>23),P=D+(S^x&(M^S))+k[11]+643717713&4294967295,D=M+(P<<14&4294967295|P>>>18),P=x+(M^S&(D^M))+k[0]+3921069994&4294967295,x=D+(P<<20&4294967295|P>>>12),P=S+(D^M&(x^D))+k[5]+3593408605&4294967295,S=x+(P<<5&4294967295|P>>>27),P=M+(x^D&(S^x))+k[10]+38016083&4294967295,M=S+(P<<9&4294967295|P>>>23),P=D+(S^x&(M^S))+k[15]+3634488961&4294967295,D=M+(P<<14&4294967295|P>>>18),P=x+(M^S&(D^M))+k[4]+3889429448&4294967295,x=D+(P<<20&4294967295|P>>>12),P=S+(D^M&(x^D))+k[9]+568446438&4294967295,S=x+(P<<5&4294967295|P>>>27),P=M+(x^D&(S^x))+k[14]+3275163606&4294967295,M=S+(P<<9&4294967295|P>>>23),P=D+(S^x&(M^S))+k[3]+4107603335&4294967295,D=M+(P<<14&4294967295|P>>>18),P=x+(M^S&(D^M))+k[8]+1163531501&4294967295,x=D+(P<<20&4294967295|P>>>12),P=S+(D^M&(x^D))+k[13]+2850285829&4294967295,S=x+(P<<5&4294967295|P>>>27),P=M+(x^D&(S^x))+k[2]+4243563512&4294967295,M=S+(P<<9&4294967295|P>>>23),P=D+(S^x&(M^S))+k[7]+1735328473&4294967295,D=M+(P<<14&4294967295|P>>>18),P=x+(M^S&(D^M))+k[12]+2368359562&4294967295,x=D+(P<<20&4294967295|P>>>12),P=S+(x^D^M)+k[5]+4294588738&4294967295,S=x+(P<<4&4294967295|P>>>28),P=M+(S^x^D)+k[8]+2272392833&4294967295,M=S+(P<<11&4294967295|P>>>21),P=D+(M^S^x)+k[11]+1839030562&4294967295,D=M+(P<<16&4294967295|P>>>16),P=x+(D^M^S)+k[14]+4259657740&4294967295,x=D+(P<<23&4294967295|P>>>9),P=S+(x^D^M)+k[1]+2763975236&4294967295,S=x+(P<<4&4294967295|P>>>28),P=M+(S^x^D)+k[4]+1272893353&4294967295,M=S+(P<<11&4294967295|P>>>21),P=D+(M^S^x)+k[7]+4139469664&4294967295,D=M+(P<<16&4294967295|P>>>16),P=x+(D^M^S)+k[10]+3200236656&4294967295,x=D+(P<<23&4294967295|P>>>9),P=S+(x^D^M)+k[13]+681279174&4294967295,S=x+(P<<4&4294967295|P>>>28),P=M+(S^x^D)+k[0]+3936430074&4294967295,M=S+(P<<11&4294967295|P>>>21),P=D+(M^S^x)+k[3]+3572445317&4294967295,D=M+(P<<16&4294967295|P>>>16),P=x+(D^M^S)+k[6]+76029189&4294967295,x=D+(P<<23&4294967295|P>>>9),P=S+(x^D^M)+k[9]+3654602809&4294967295,S=x+(P<<4&4294967295|P>>>28),P=M+(S^x^D)+k[12]+3873151461&4294967295,M=S+(P<<11&4294967295|P>>>21),P=D+(M^S^x)+k[15]+530742520&4294967295,D=M+(P<<16&4294967295|P>>>16),P=x+(D^M^S)+k[2]+3299628645&4294967295,x=D+(P<<23&4294967295|P>>>9),P=S+(D^(x|~M))+k[0]+4096336452&4294967295,S=x+(P<<6&4294967295|P>>>26),P=M+(x^(S|~D))+k[7]+1126891415&4294967295,M=S+(P<<10&4294967295|P>>>22),P=D+(S^(M|~x))+k[14]+2878612391&4294967295,D=M+(P<<15&4294967295|P>>>17),P=x+(M^(D|~S))+k[5]+4237533241&4294967295,x=D+(P<<21&4294967295|P>>>11),P=S+(D^(x|~M))+k[12]+1700485571&4294967295,S=x+(P<<6&4294967295|P>>>26),P=M+(x^(S|~D))+k[3]+2399980690&4294967295,M=S+(P<<10&4294967295|P>>>22),P=D+(S^(M|~x))+k[10]+4293915773&4294967295,D=M+(P<<15&4294967295|P>>>17),P=x+(M^(D|~S))+k[1]+2240044497&4294967295,x=D+(P<<21&4294967295|P>>>11),P=S+(D^(x|~M))+k[8]+1873313359&4294967295,S=x+(P<<6&4294967295|P>>>26),P=M+(x^(S|~D))+k[15]+4264355552&4294967295,M=S+(P<<10&4294967295|P>>>22),P=D+(S^(M|~x))+k[6]+2734768916&4294967295,D=M+(P<<15&4294967295|P>>>17),P=x+(M^(D|~S))+k[13]+1309151649&4294967295,x=D+(P<<21&4294967295|P>>>11),P=S+(D^(x|~M))+k[4]+4149444226&4294967295,S=x+(P<<6&4294967295|P>>>26),P=M+(x^(S|~D))+k[11]+3174756917&4294967295,M=S+(P<<10&4294967295|P>>>22),P=D+(S^(M|~x))+k[2]+718787259&4294967295,D=M+(P<<15&4294967295|P>>>17),P=x+(M^(D|~S))+k[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(D+(P<<21&4294967295|P>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+M&4294967295}s.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var x=S-this.blockSize,k=this.B,D=this.h,M=0;M<S;){if(D==0)for(;M<=x;)o(this,N,M),M+=this.blockSize;if(typeof N=="string"){for(;M<S;)if(k[D++]=N.charCodeAt(M++),D==this.blockSize){o(this,k),D=0;break}}else for(;M<S;)if(k[D++]=N[M++],D==this.blockSize){o(this,k),D=0;break}}this.h=D,this.o+=S},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var x=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=x&255,x/=256;for(this.u(N),N=Array(16),S=x=0;4>S;++S)for(var k=0;32>k;k+=8)N[x++]=this.g[S]>>>k&255;return N};function a(N,S){var x=d;return Object.prototype.hasOwnProperty.call(x,N)?x[N]:x[N]=S(N)}function c(N,S){this.h=S;for(var x=[],k=!0,D=N.length-1;0<=D;D--){var M=N[D]|0;k&&M==S||(x[D]=M,k=!1)}this.g=x}var d={};function p(N){return-128<=N&&128>N?a(N,function(S){return new c([S|0],0>S?-1:0)}):new c([N|0],0>N?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return E;if(0>N)return C(y(-N));for(var S=[],x=1,k=0;N>=x;k++)S[k]=N/x|0,x*=4294967296;return new c(S,0)}function v(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return C(v(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=y(Math.pow(S,8)),k=E,D=0;D<N.length;D+=8){var M=Math.min(8,N.length-D),P=parseInt(N.substring(D,D+M),S);8>M?(M=y(Math.pow(S,M)),k=k.j(M).add(y(P))):(k=k.j(x),k=k.add(y(P)))}return k}var E=p(0),T=p(1),L=p(16777216);n=c.prototype,n.m=function(){if(O(this))return-C(this).m();for(var N=0,S=1,x=0;x<this.g.length;x++){var k=this.i(x);N+=(0<=k?k:4294967296+k)*S,S*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(b(this))return"0";if(O(this))return"-"+C(this).toString(N);for(var S=y(Math.pow(N,6)),x=this,k="";;){var D=X(x,S).g;x=q(x,D.j(S));var M=((0<x.g.length?x.g[0]:x.h)>>>0).toString(N);if(x=D,b(x))return M+k;for(;6>M.length;)M="0"+M;k=M+k}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function b(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function O(N){return N.h==-1}n.l=function(N){return N=q(this,N),O(N)?-1:b(N)?0:1};function C(N){for(var S=N.g.length,x=[],k=0;k<S;k++)x[k]=~N.g[k];return new c(x,~N.h).add(T)}n.abs=function(){return O(this)?C(this):this},n.add=function(N){for(var S=Math.max(this.g.length,N.g.length),x=[],k=0,D=0;D<=S;D++){var M=k+(this.i(D)&65535)+(N.i(D)&65535),P=(M>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);k=P>>>16,M&=65535,P&=65535,x[D]=P<<16|M}return new c(x,x[x.length-1]&-2147483648?-1:0)};function q(N,S){return N.add(C(S))}n.j=function(N){if(b(this)||b(N))return E;if(O(this))return O(N)?C(this).j(C(N)):C(C(this).j(N));if(O(N))return C(this.j(C(N)));if(0>this.l(L)&&0>N.l(L))return y(this.m()*N.m());for(var S=this.g.length+N.g.length,x=[],k=0;k<2*S;k++)x[k]=0;for(k=0;k<this.g.length;k++)for(var D=0;D<N.g.length;D++){var M=this.i(k)>>>16,P=this.i(k)&65535,Ye=N.i(D)>>>16,yt=N.i(D)&65535;x[2*k+2*D]+=P*yt,U(x,2*k+2*D),x[2*k+2*D+1]+=M*yt,U(x,2*k+2*D+1),x[2*k+2*D+1]+=P*Ye,U(x,2*k+2*D+1),x[2*k+2*D+2]+=M*Ye,U(x,2*k+2*D+2)}for(k=0;k<S;k++)x[k]=x[2*k+1]<<16|x[2*k];for(k=S;k<2*S;k++)x[k]=0;return new c(x,0)};function U(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function W(N,S){this.g=N,this.h=S}function X(N,S){if(b(S))throw Error("division by zero");if(b(N))return new W(E,E);if(O(N))return S=X(C(N),S),new W(C(S.g),C(S.h));if(O(S))return S=X(N,C(S)),new W(C(S.g),S.h);if(30<N.g.length){if(O(N)||O(S))throw Error("slowDivide_ only works with positive integers.");for(var x=T,k=S;0>=k.l(N);)x=oe(x),k=oe(k);var D=de(x,1),M=de(k,1);for(k=de(k,2),x=de(x,2);!b(k);){var P=M.add(k);0>=P.l(N)&&(D=D.add(x),M=P),k=de(k,1),x=de(x,1)}return S=q(N,D.j(S)),new W(D,S)}for(D=E;0<=N.l(S);){for(x=Math.max(1,Math.floor(N.m()/S.m())),k=Math.ceil(Math.log(x)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),M=y(x),P=M.j(S);O(P)||0<P.l(N);)x-=k,M=y(x),P=M.j(S);b(M)&&(M=T),D=D.add(M),N=q(N,P)}return new W(D,N)}n.A=function(N){return X(this,N).h},n.and=function(N){for(var S=Math.max(this.g.length,N.g.length),x=[],k=0;k<S;k++)x[k]=this.i(k)&N.i(k);return new c(x,this.h&N.h)},n.or=function(N){for(var S=Math.max(this.g.length,N.g.length),x=[],k=0;k<S;k++)x[k]=this.i(k)|N.i(k);return new c(x,this.h|N.h)},n.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),x=[],k=0;k<S;k++)x[k]=this.i(k)^N.i(k);return new c(x,this.h^N.h)};function oe(N){for(var S=N.g.length+1,x=[],k=0;k<S;k++)x[k]=N.i(k)<<1|N.i(k-1)>>>31;return new c(x,N.h)}function de(N,S){var x=S>>5;S%=32;for(var k=N.g.length-x,D=[],M=0;M<k;M++)D[M]=0<S?N.i(M+x)>>>S|N.i(M+x+1)<<32-S:N.i(M+x);return new c(D,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,W_=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=v,Ms=c}).apply(typeof mA<"u"?mA:typeof self<"u"?self:typeof window<"u"?window:{});var fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var q_,ol,Q_,wc,Xf,K_,$_,G_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,A){return u==Array.prototype||u==Object.prototype||(u[m]=A.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof fc=="object"&&fc];for(var m=0;m<u.length;++m){var A=u[m];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var s=t(this);function o(u,m){if(m)e:{var A=s;u=u.split(".");for(var I=0;I<u.length-1;I++){var B=u[I];if(!(B in A))break e;A=A[B]}u=u[u.length-1],I=A[u],m=m(I),m!=I&&m!=null&&e(A,u,{configurable:!0,writable:!0,value:m})}}function a(u,m){u instanceof String&&(u+="");var A=0,I=!1,B={next:function(){if(!I&&A<u.length){var $=A++;return{value:m($,u[$]),done:!1}}return I=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(u){return u||function(){return a(this,function(m,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,A){return u.call.apply(u.bind,arguments)}function E(u,m,A){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,I),u.apply(m,B)}}return function(){return u.apply(m,arguments)}}function T(u,m,A){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,T.apply(null,arguments)}function L(u,m){var A=Array.prototype.slice.call(arguments,1);return function(){var I=A.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function b(u,m){function A(){}A.prototype=m.prototype,u.aa=m.prototype,u.prototype=new A,u.prototype.constructor=u,u.Qb=function(I,B,$){for(var ie=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)ie[qe-2]=arguments[qe];return m.prototype[B].apply(I,ie)}}function O(u){const m=u.length;if(0<m){const A=Array(m);for(let I=0;I<m;I++)A[I]=u[I];return A}return[]}function C(u,m){for(let A=1;A<arguments.length;A++){const I=arguments[A];if(p(I)){const B=u.length||0,$=I.length||0;u.length=B+$;for(let ie=0;ie<$;ie++)u[B+ie]=I[ie]}else u.push(I)}}class q{constructor(m,A){this.i=m,this.j=A,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function U(u){return/^[\s\xa0]*$/.test(u)}function W(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function X(u){return X[" "](u),u}X[" "]=function(){};var oe=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function de(u,m,A){for(const I in u)m.call(A,u[I],I,u)}function N(u,m){for(const A in u)m.call(void 0,u[A],A,u)}function S(u){const m={};for(const A in u)m[A]=u[A];return m}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(u,m){let A,I;for(let B=1;B<arguments.length;B++){I=arguments[B];for(A in I)u[A]=I[A];for(let $=0;$<x.length;$++)A=x[$],Object.prototype.hasOwnProperty.call(I,A)&&(u[A]=I[A])}}function D(u){var m=1;u=u.split(":");const A=[];for(;0<m&&u.length;)A.push(u.shift()),m--;return u.length&&A.push(u.join(":")),A}function M(u){d.setTimeout(()=>{throw u},0)}function P(){var u=ye;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ye{constructor(){this.h=this.g=null}add(m,A){const I=yt.get();I.set(m,A),this.h?this.h.next=I:this.g=I,this.h=I}}var yt=new q(()=>new At,u=>u.reset());class At{constructor(){this.next=this.g=this.h=null}set(m,A){this.h=m,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let Fe,se=!1,ye=new Ye,le=()=>{const u=d.Promise.resolve(void 0);Fe=()=>{u.then(F)}};var F=()=>{for(var u;u=P();){try{u.h.call(u.g)}catch(A){M(A)}var m=yt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}se=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Ce=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const A=()=>{};d.addEventListener("test",A,m),d.removeEventListener("test",A,m)}catch{}return u})();function Re(u,m){if(ge.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var A=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(oe){e:{try{X(m.nodeName);var B=!0;break e}catch{}B=!1}B||(m=null)}}else A=="mouseover"?m=u.fromElement:A=="mouseout"&&(m=u.toElement);this.relatedTarget=m,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Le[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Re.aa.h.call(this)}}b(Re,ge);var Le={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ze="closure_listenable_"+(1e6*Math.random()|0),He=0;function $e(u,m,A,I,B){this.listener=u,this.proxy=null,this.src=m,this.type=A,this.capture=!!I,this.ha=B,this.key=++He,this.da=this.fa=!1}function Ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function xr(u){this.src=u,this.g={},this.h=0}xr.prototype.add=function(u,m,A,I,B){var $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);var ie=ns(u,m,I,B);return-1<ie?(m=u[ie],A||(m.fa=!1)):(m=new $e(m,this.src,$,!!I,B),m.fa=A,u.push(m)),m};function zi(u,m){var A=m.type;if(A in u.g){var I=u.g[A],B=Array.prototype.indexOf.call(I,m,void 0),$;($=0<=B)&&Array.prototype.splice.call(I,B,1),$&&(Ct(m),u.g[A].length==0&&(delete u.g[A],u.h--))}}function ns(u,m,A,I){for(var B=0;B<u.length;++B){var $=u[B];if(!$.da&&$.listener==m&&$.capture==!!A&&$.ha==I)return B}return-1}var $s="closure_lm_"+(1e6*Math.random()|0),Hi={};function la(u,m,A,I,B){if(Array.isArray(m)){for(var $=0;$<m.length;$++)la(u,m[$],A,I,B);return null}return A=ha(A),u&&u[ze]?u.K(m,A,y(I)?!!I.capture:!1,B):ua(u,m,A,!1,I,B)}function ua(u,m,A,I,B,$){if(!m)throw Error("Invalid event type");var ie=y(B)?!!B.capture:!!B,qe=qi(u);if(qe||(u[$s]=qe=new xr(u)),A=qe.add(m,A,I,ie,$),A.proxy)return A;if(I=Xl(),A.proxy=I,I.src=u,I.listener=A,u.addEventListener)Ce||(B=ie),B===void 0&&(B=!1),u.addEventListener(m.toString(),I,B);else if(u.attachEvent)u.attachEvent(Rr(m.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Xl(){function u(A){return m.call(u.src,u.listener,A)}const m=ca;return u}function Wi(u,m,A,I,B){if(Array.isArray(m))for(var $=0;$<m.length;$++)Wi(u,m[$],A,I,B);else I=y(I)?!!I.capture:!!I,A=ha(A),u&&u[ze]?(u=u.i,m=String(m).toString(),m in u.g&&($=u.g[m],A=ns($,A,I,B),-1<A&&(Ct($[A]),Array.prototype.splice.call($,A,1),$.length==0&&(delete u.g[m],u.h--)))):u&&(u=qi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ns(m,A,I,B)),(A=-1<u?m[u]:null)&&Cr(A))}function Cr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ze])zi(m.i,u);else{var A=u.type,I=u.proxy;m.removeEventListener?m.removeEventListener(A,I,u.capture):m.detachEvent?m.detachEvent(Rr(A),I):m.addListener&&m.removeListener&&m.removeListener(I),(A=qi(m))?(zi(A,u),A.h==0&&(A.src=null,m[$s]=null)):Ct(u)}}}function Rr(u){return u in Hi?Hi[u]:Hi[u]="on"+u}function ca(u,m){if(u.da)u=!0;else{m=new Re(m,this);var A=u.listener,I=u.ha||u.src;u.fa&&Cr(u),u=A.call(I,m)}return u}function qi(u){return u=u[$s],u instanceof xr?u:null}var Qi="__closure_events_fn_"+(1e9*Math.random()>>>0);function ha(u){return typeof u=="function"?u:(u[Qi]||(u[Qi]=function(m){return u.handleEvent(m)}),u[Qi])}function vt(){Y.call(this),this.i=new xr(this),this.M=this,this.F=null}b(vt,Y),vt.prototype[ze]=!0,vt.prototype.removeEventListener=function(u,m,A,I){Wi(this,u,m,A,I)};function _t(u,m){var A,I=u.F;if(I)for(A=[];I;I=I.F)A.push(I);if(u=u.M,I=m.type||m,typeof m=="string")m=new ge(m,u);else if(m instanceof ge)m.target=m.target||u;else{var B=m;m=new ge(I,u),k(m,B)}if(B=!0,A)for(var $=A.length-1;0<=$;$--){var ie=m.g=A[$];B=Pr(ie,I,!0,m)&&B}if(ie=m.g=u,B=Pr(ie,I,!0,m)&&B,B=Pr(ie,I,!1,m)&&B,A)for($=0;$<A.length;$++)ie=m.g=A[$],B=Pr(ie,I,!1,m)&&B}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var A=u.g[m],I=0;I<A.length;I++)Ct(A[I]);delete u.g[m],u.h--}}this.F=null},vt.prototype.K=function(u,m,A,I){return this.i.add(String(u),m,!1,A,I)},vt.prototype.L=function(u,m,A,I){return this.i.add(String(u),m,!0,A,I)};function Pr(u,m,A,I){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var B=!0,$=0;$<m.length;++$){var ie=m[$];if(ie&&!ie.da&&ie.capture==A){var qe=ie.listener,Et=ie.ha||ie.src;ie.fa&&zi(u.i,ie),B=qe.call(Et,I)!==!1&&B}}return B&&!I.defaultPrevented}function da(u,m,A){if(typeof u=="function")A&&(u=T(u,A));else if(u&&typeof u.handleEvent=="function")u=T(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(u,m||0)}function rs(u){u.g=da(()=>{u.g=null,u.i&&(u.i=!1,rs(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Gs extends Y{constructor(m,A){super(),this.m=m,this.l=A,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:rs(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xs(u){Y.call(this),this.h=u,this.g={}}b(Xs,Y);var fa=[];function pa(u){de(u.g,function(m,A){this.g.hasOwnProperty(A)&&Cr(m)},u),u.g={}}Xs.prototype.N=function(){Xs.aa.N.call(this),pa(this)},Xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ma=d.JSON.stringify,ga=d.JSON.parse,ya=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Js(){}Js.prototype.h=null;function Ki(u){return u.h||(u.h=u.i())}function $i(){}var Tn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rr(){ge.call(this,"d")}b(rr,ge);function Gi(){ge.call(this,"c")}b(Gi,ge);var sr={},Aa=null;function Ys(){return Aa=Aa||new vt}sr.La="serverreachability";function va(u){ge.call(this,sr.La,u)}b(va,ge);function kr(u){const m=Ys();_t(m,new va(m))}sr.STAT_EVENT="statevent";function _a(u,m){ge.call(this,sr.STAT_EVENT,u),this.stat=m}b(_a,ge);function ct(u){const m=Ys();_t(m,new _a(m,u))}sr.Ma="timingevent";function Xi(u,m){ge.call(this,sr.Ma,u),this.size=m}b(Xi,ge);function Mn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Zs(){this.g=!0}Zs.prototype.xa=function(){this.g=!1};function ei(u,m,A,I,B,$){u.info(function(){if(u.g)if($)for(var ie="",qe=$.split("&"),Et=0;Et<qe.length;Et++){var Ve=qe[Et].split("=");if(1<Ve.length){var Rt=Ve[0];Ve=Ve[1];var ft=Rt.split("_");ie=2<=ft.length&&ft[1]=="type"?ie+(Rt+"="+Ve+"&"):ie+(Rt+"=redacted&")}}else ie=null;else ie=$;return"XMLHTTP REQ ("+I+") [attempt "+B+"]: "+m+`
`+A+`
`+ie})}function Ji(u,m,A,I,B,$,ie){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+B+"]: "+m+`
`+A+`
`+$+" "+ie})}function jn(u,m,A,I){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vh(u,A)+(I?" "+I:"")})}function Ea(u,m){u.info(function(){return"TIMEOUT: "+m})}Zs.prototype.info=function(){};function Vh(u,m){if(!u.g)return m;if(!m)return null;try{var A=JSON.parse(m);if(A){for(u=0;u<A.length;u++)if(Array.isArray(A[u])){var I=A[u];if(!(2>I.length)){var B=I[1];if(Array.isArray(B)&&!(1>B.length)){var $=B[0];if($!="noop"&&$!="stop"&&$!="close")for(var ie=1;ie<B.length;ie++)B[ie]=""}}}}return ma(A)}catch{return m}}var Yi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Jl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Un;function ti(){}b(ti,Js),ti.prototype.g=function(){return new XMLHttpRequest},ti.prototype.i=function(){return{}},Un=new ti;function Fn(u,m,A,I){this.j=u,this.i=m,this.l=A,this.R=I||1,this.U=new Xs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yl}function Yl(){this.i=null,this.g="",this.h=!1}var wa={},Zi={};function eo(u,m,A){u.L=1,u.v=ls(gn(m)),u.m=A,u.P=!0,Ta(u,null)}function Ta(u,m){u.F=Date.now(),Ge(u),u.A=gn(u.v);var A=u.A,I=u.R;Array.isArray(I)||(I=[String(I)]),cs(A.i,"t",I),u.C=0,A=u.j.J,u.h=new Yl,u.g=gu(u.j,A?m:null,!u.m),0<u.O&&(u.M=new Gs(T(u.Y,u,u.g),u.O)),m=u.U,A=u.g,I=u.ca;var B="readystatechange";Array.isArray(B)||(B&&(fa[0]=B.toString()),B=fa);for(var $=0;$<B.length;$++){var ie=la(A,B[$],I||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),kr(),ei(u.i,u.u,u.A,u.l,u.R,u.m)}Fn.prototype.ca=function(u){u=u.target;const m=this.M;m&&nn(u)==3?m.j():this.Y(u)},Fn.prototype.Y=function(u){try{if(u==this.g)e:{const ft=nn(this.g);var m=this.g.Ba();const xn=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||Pa(this.g)))){this.J||ft!=4||m==7||(m==8||0>=xn?kr(3):kr(2)),ni(this);var A=this.g.Z();this.X=A;t:if(Zl(this)){var I=Pa(this.g);u="";var B=I.length,$=nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){In(this),ss(this);var ie="";break t}this.h.i=new d.TextDecoder}for(m=0;m<B;m++)this.h.h=!0,u+=this.h.i.decode(I[m],{stream:!($&&m==B-1)});I.length=0,this.h.g+=u,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=A==200,Ji(this.i,this.u,this.A,this.l,this.R,ft,A),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,Et=this.g;if((qe=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(qe)){var Ve=qe;break t}}Ve=null}if(A=Ve)jn(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ia(this,A);else{this.o=!1,this.s=3,ct(12),In(this),ss(this);break e}}if(this.P){A=!0;let An;for(;!this.J&&this.C<ie.length;)if(An=Mh(this,ie),An==Zi){ft==4&&(this.s=4,ct(14),A=!1),jn(this.i,this.l,null,"[Incomplete Response]");break}else if(An==wa){this.s=4,ct(15),jn(this.i,this.l,ie,"[Invalid Chunk]"),A=!1;break}else jn(this.i,this.l,An,null),Ia(this,An);if(Zl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||ie.length!=0||this.h.h||(this.s=1,ct(16),A=!1),this.o=this.o&&A,!A)jn(this.i,this.l,ie,"[Invalid Chunked Response]"),In(this),ss(this);else if(0<ie.length&&!this.W){this.W=!0;var Rt=this.j;Rt.g==this&&Rt.ba&&!Rt.M&&(Rt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Na(Rt),Rt.M=!0,ct(11))}}else jn(this.i,this.l,ie,null),Ia(this,ie);ft==4&&In(this),this.o&&!this.J&&(ft==4?ho(this.j,this):(this.o=!1,Ge(this)))}else oo(this.g),A==400&&0<ie.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),In(this),ss(this)}}}catch{}finally{}};function Zl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Mh(u,m){var A=u.C,I=m.indexOf(`
`,A);return I==-1?Zi:(A=Number(m.substring(A,I)),isNaN(A)?wa:(I+=1,I+A>m.length?Zi:(m=m.slice(I,I+A),u.C=I+A,m)))}Fn.prototype.cancel=function(){this.J=!0,In(this)};function Ge(u){u.S=Date.now()+u.I,eu(u,u.I)}function eu(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Mn(T(u.ba,u),m)}function ni(u){u.B&&(d.clearTimeout(u.B),u.B=null)}Fn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ea(this.i,this.A),this.L!=2&&(kr(),ct(17)),In(this),this.s=2,ss(this)):eu(this,this.S-u)};function ss(u){u.j.G==0||u.J||ho(u.j,u)}function In(u){ni(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,pa(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Ia(u,m){try{var A=u.j;if(A.G!=0&&(A.g==u||Gt(A.h,u))){if(!u.K&&Gt(A.h,u)&&A.G==3){try{var I=A.Da.g.parse(m)}catch{I=null}if(Array.isArray(I)&&I.length==3){var B=I;if(B[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<u.F)co(A),qn(A);else break e;uo(A),ct(18)}}else A.za=B[1],0<A.za-A.T&&37500>B[2]&&A.F&&A.v==0&&!A.C&&(A.C=Mn(T(A.Za,A),6e3));if(1>=nu(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else Lr(A,11)}else if((u.K||A.g==u)&&co(A),!U(m))for(B=A.Da.g.parse(m),m=0;m<B.length;m++){let Ve=B[m];if(A.T=Ve[0],Ve=Ve[1],A.G==2)if(Ve[0]=="c"){A.K=Ve[1],A.ia=Ve[2];const Rt=Ve[3];Rt!=null&&(A.la=Rt,A.j.info("VER="+A.la));const ft=Ve[4];ft!=null&&(A.Aa=ft,A.j.info("SVER="+A.Aa));const xn=Ve[5];xn!=null&&typeof xn=="number"&&0<xn&&(I=1.5*xn,A.L=I,A.j.info("backChannelRequestTimeoutMs_="+I)),I=A;const An=u.g;if(An){const ui=An.g?An.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ui){var $=I.h;$.g||ui.indexOf("spdy")==-1&&ui.indexOf("quic")==-1&&ui.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Sa($,$.h),$.h=null))}if(I.D){const po=An.g?An.g.getResponseHeader("X-HTTP-Session-Id"):null;po&&(I.ya=po,Qe(I.I,I.D,po))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-u.F,A.j.info("Handshake RTT: "+A.R+"ms")),I=A;var ie=u;if(I.qa=mu(I,I.J?I.ia:null,I.W),ie.K){ru(I.h,ie);var qe=ie,Et=I.L;Et&&(qe.I=Et),qe.B&&(ni(qe),Ge(qe)),I.g=ie}else li(I);0<A.i.length&&lr(A)}else Ve[0]!="stop"&&Ve[0]!="close"||Lr(A,7);else A.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Lr(A,7):Dt(A):Ve[0]!="noop"&&A.l&&A.l.ta(Ve),A.v=0)}}kr(4)}catch{}}var tu=class{constructor(u,m){this.g=u,this.map=m}};function ri(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function nu(u){return u.h?1:u.g?u.g.size:0}function Gt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Sa(u,m){u.g?u.g.add(m):u.h=m}function ru(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ri.prototype.cancel=function(){if(this.i=su(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function su(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const A of u.g.values())m=m.concat(A.D);return m}return O(u.i)}function to(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],A=u.length,I=0;I<A;I++)m.push(u[I]);return m}m=[],A=0;for(I in u)m[A++]=u[I];return m}function no(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var A=0;A<u;A++)m.push(A);return m}m=[],A=0;for(const I in u)m[A++]=I;return m}}}function is(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var A=no(u),I=to(u),B=I.length,$=0;$<B;$++)m.call(void 0,I[$],A&&A[$],u)}var si=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jh(u,m){if(u){u=u.split("&");for(var A=0;A<u.length;A++){var I=u[A].indexOf("="),B=null;if(0<=I){var $=u[A].substring(0,I);B=u[A].substring(I+1)}else $=u[A];m($,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Nr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Nr){this.h=u.h,ii(this,u.j),this.o=u.o,this.g=u.g,os(this,u.s),this.l=u.l;var m=u.i,A=new ir;A.i=m.i,m.g&&(A.g=new Map(m.g),A.h=m.h),as(this,A),this.m=u.m}else u&&(m=String(u).match(si))?(this.h=!1,ii(this,m[1]||"",!0),this.o=De(m[2]||""),this.g=De(m[3]||"",!0),os(this,m[4]),this.l=De(m[5]||"",!0),as(this,m[6]||"",!0),this.m=De(m[7]||"")):(this.h=!1,this.i=new ir(null,this.h))}Nr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(us(m,ro,!0),":");var A=this.g;return(A||m=="file")&&(u.push("//"),(m=this.o)&&u.push(us(m,ro,!0),"@"),u.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&u.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&u.push("/"),u.push(us(A,A.charAt(0)=="/"?au:ou,!0))),(A=this.i.toString())&&u.push("?",A),(A=this.m)&&u.push("#",us(A,xa)),u.join("")};function gn(u){return new Nr(u)}function ii(u,m,A){u.j=A?De(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function os(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function as(u,m,A){m instanceof ir?(u.i=m,or(u.i,u.h)):(A||(m=us(m,lu)),u.i=new ir(m,u.h))}function Qe(u,m,A){u.i.set(m,A)}function ls(u){return Qe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function De(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function us(u,m,A){return typeof u=="string"?(u=encodeURI(u).replace(m,iu),A&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function iu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ro=/[#\/\?@]/g,ou=/[#\?:]/g,au=/[#\?]/g,lu=/[#\?@]/g,xa=/#/g;function ir(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Ot(u){u.g||(u.g=new Map,u.h=0,u.i&&jh(u.i,function(m,A){u.add(decodeURIComponent(m.replace(/\+/g," ")),A)}))}n=ir.prototype,n.add=function(u,m){Ot(this),this.i=null,u=Sn(this,u);var A=this.g.get(u);return A||this.g.set(u,A=[]),A.push(m),this.h+=1,this};function Bn(u,m){Ot(u),m=Sn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function zn(u,m){return Ot(u),m=Sn(u,m),u.g.has(m)}n.forEach=function(u,m){Ot(this),this.g.forEach(function(A,I){A.forEach(function(B){u.call(m,B,I,this)},this)},this)},n.na=function(){Ot(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),A=[];for(let I=0;I<m.length;I++){const B=u[I];for(let $=0;$<B.length;$++)A.push(m[I])}return A},n.V=function(u){Ot(this);let m=[];if(typeof u=="string")zn(this,u)&&(m=m.concat(this.g.get(Sn(this,u))));else{u=Array.from(this.g.values());for(let A=0;A<u.length;A++)m=m.concat(u[A])}return m},n.set=function(u,m){return Ot(this),this.i=null,u=Sn(this,u),zn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function cs(u,m,A){Bn(u,m),0<A.length&&(u.i=null,u.g.set(Sn(u,m),O(A)),u.h+=A.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var A=0;A<m.length;A++){var I=m[A];const $=encodeURIComponent(String(I)),ie=this.V(I);for(I=0;I<ie.length;I++){var B=$;ie[I]!==""&&(B+="="+encodeURIComponent(String(ie[I]))),u.push(B)}}return this.i=u.join("&")};function Sn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function or(u,m){m&&!u.j&&(Ot(u),u.i=null,u.g.forEach(function(A,I){var B=I.toLowerCase();I!=B&&(Bn(this,I),cs(this,B,A))},u)),u.j=m}function Uh(u,m){const A=new Zs;if(d.Image){const I=new Image;I.onload=L(tn,A,"TestLoadImage: loaded",!0,m,I),I.onerror=L(tn,A,"TestLoadImage: error",!1,m,I),I.onabort=L(tn,A,"TestLoadImage: abort",!1,m,I),I.ontimeout=L(tn,A,"TestLoadImage: timeout",!1,m,I),d.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else m(!1)}function uu(u,m){const A=new Zs,I=new AbortController,B=setTimeout(()=>{I.abort(),tn(A,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:I.signal}).then($=>{clearTimeout(B),$.ok?tn(A,"TestPingServer: ok",!0,m):tn(A,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(B),tn(A,"TestPingServer: error",!1,m)})}function tn(u,m,A,I,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),I(A)}catch{}}function Fh(){this.g=new ya}function cu(u,m,A){const I=A||"";try{is(u,function(B,$){let ie=B;y(B)&&(ie=ma(B)),m.push(I+$+"="+encodeURIComponent(ie))})}catch(B){throw m.push(I+"type="+encodeURIComponent("_badmap")),B}}function br(u){this.l=u.Ub||null,this.j=u.eb||!1}b(br,Js),br.prototype.g=function(){return new oi(this.l,this.j)},br.prototype.i=(function(u){return function(){return u}})({});function oi(u,m){vt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(oi,vt),n=oi.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Wn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hu(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function hu(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Hn(this):Wn(this),this.readyState==3&&hu(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Hn(this))},n.Qa=function(u){this.g&&(this.response=u,Hn(this))},n.ga=function(){this.g&&Hn(this)};function Hn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Wn(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var A=m.next();!A.done;)A=A.value,u.push(A[0]+": "+A[1]),A=m.next();return u.join(`\r
`)};function Wn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Or(u){let m="";return de(u,function(A,I){m+=I,m+=":",m+=A,m+=`\r
`}),m}function hs(u,m,A){e:{for(I in A){var I=!1;break e}I=!0}I||(A=Or(A),typeof u=="string"?A!=null&&encodeURIComponent(String(A)):Qe(u,m,A))}function nt(u){vt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(nt,vt);var Bh=/^https?$/i,Ca=["POST","PUT"];n=nt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,A,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Un.g(),this.v=this.o?Ki(this.o):Ki(Un),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch($){ai(this,$);return}if(u=A||"",A=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var B in I)A.set(B,I[B]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const $ of I.keys())A.set($,I.get($));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(A.keys()).find($=>$.toLowerCase()=="content-type"),B=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ca,m,void 0))||I||B||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ie]of A)this.g.setRequestHeader($,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{io(this),this.u=!0,this.g.send(u),this.u=!1}catch($){ai(this,$)}};function ai(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,so(u),yn(u)}function so(u){u.A||(u.A=!0,_t(u,"complete"),_t(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,_t(this,"complete"),_t(this,"abort"),yn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yn(this,!0)),nt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ra(this):this.bb())},n.bb=function(){Ra(this)};function Ra(u){if(u.h&&typeof c<"u"&&(!u.v[1]||nn(u)!=4||u.Z()!=2)){if(u.u&&nn(u)==4)da(u.Ea,0,u);else if(_t(u,"readystatechange"),nn(u)==4){u.h=!1;try{const ie=u.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var A;if(!(A=m)){var I;if(I=ie===0){var B=String(u.D).match(si)[1]||null;!B&&d.self&&d.self.location&&(B=d.self.location.protocol.slice(0,-1)),I=!Bh.test(B?B.toLowerCase():"")}A=I}if(A)_t(u,"complete"),_t(u,"success");else{u.m=6;try{var $=2<nn(u)?u.g.statusText:""}catch{$=""}u.l=$+" ["+u.Z()+"]",so(u)}}finally{yn(u)}}}}function yn(u,m){if(u.g){io(u);const A=u.g,I=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||_t(u,"ready");try{A.onreadystatechange=I}catch{}}}function io(u){u.I&&(d.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function nn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<nn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ga(m)}};function Pa(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function oo(u){const m={};u=(u.g&&2<=nn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(U(u[I]))continue;var A=D(u[I]);const B=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const $=m[B]||[];m[B]=$,$.push(A)}N(m,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ar(u,m,A){return A&&A.internalChannelParams&&A.internalChannelParams[u]||m}function ka(u){this.Aa=0,this.i=[],this.j=new Zs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ar("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ar("baseRetryDelayMs",5e3,u),this.cb=ar("retryDelaySeedMs",1e4,u),this.Wa=ar("forwardChannelMaxRetries",2,u),this.wa=ar("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ri(u&&u.concurrentRequestLimit),this.Da=new Fh,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ka.prototype,n.la=8,n.G=1,n.connect=function(u,m,A,I){ct(0),this.W=u,this.H=m||{},A&&I!==void 0&&(this.H.OSID=A,this.H.OAID=I),this.F=this.X,this.I=mu(this,null,this.W),lr(this)};function Dt(u){if(ao(u),u.G==3){var m=u.U++,A=gn(u.I);if(Qe(A,"SID",u.K),Qe(A,"RID",m),Qe(A,"TYPE","terminate"),Dr(u,A),m=new Fn(u,u.j,m),m.L=2,m.v=ls(gn(A)),A=!1,d.navigator&&d.navigator.sendBeacon)try{A=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!A&&d.Image&&(new Image().src=m.v,A=!0),A||(m.g=gu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ge(m)}pu(u)}function qn(u){u.g&&(Na(u),u.g.cancel(),u.g=null)}function ao(u){qn(u),u.u&&(d.clearTimeout(u.u),u.u=null),co(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function lr(u){if(!mn(u.h)&&!u.s){u.s=!0;var m=u.Ga;Fe||le(),se||(Fe(),se=!0),ye.add(m,u),u.B=0}}function zh(u,m){return nu(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Mn(T(u.Ga,u,m),fu(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const B=new Fn(this,this.j,u);let $=this.o;if(this.S&&($?($=S($),k($,this.S)):$=this.S),this.m!==null||this.O||(B.H=$,$=null),this.P)e:{for(var m=0,A=0;A<this.i.length;A++){t:{var I=this.i[A];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(m+=I,4096<m){m=A;break e}if(m===4096||A===this.i.length-1){m=A+1;break e}}m=1e3}else m=1e3;m=ds(this,B,m),A=gn(this.I),Qe(A,"RID",u),Qe(A,"CVER",22),this.D&&Qe(A,"X-HTTP-Session-Id",this.D),Dr(this,A),$&&(this.O?m="headers="+encodeURIComponent(String(Or($)))+"&"+m:this.m&&hs(A,this.m,$)),Sa(this.h,B),this.Ua&&Qe(A,"TYPE","init"),this.P?(Qe(A,"$req",m),Qe(A,"SID","null"),B.T=!0,eo(B,A,null)):eo(B,A,m),this.G=2}}else this.G==3&&(u?lo(this,u):this.i.length==0||mn(this.h)||lo(this))};function lo(u,m){var A;m?A=m.l:A=u.U++;const I=gn(u.I);Qe(I,"SID",u.K),Qe(I,"RID",A),Qe(I,"AID",u.T),Dr(u,I),u.m&&u.o&&hs(I,u.m,u.o),A=new Fn(u,u.j,A,u.B+1),u.m===null&&(A.H=u.o),m&&(u.i=m.D.concat(u.i)),m=ds(u,A,1e3),A.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Sa(u.h,A),eo(A,I,m)}function Dr(u,m){u.H&&de(u.H,function(A,I){Qe(m,I,A)}),u.l&&is({},function(A,I){Qe(m,I,A)})}function ds(u,m,A){A=Math.min(u.i.length,A);var I=u.l?T(u.l.Na,u.l,u):null;e:{var B=u.i;let $=-1;for(;;){const ie=["count="+A];$==-1?0<A?($=B[0].g,ie.push("ofs="+$)):$=0:ie.push("ofs="+$);let qe=!0;for(let Et=0;Et<A;Et++){let Ve=B[Et].g;const Rt=B[Et].map;if(Ve-=$,0>Ve)$=Math.max(0,B[Et].g-100),qe=!1;else try{cu(Rt,ie,"req"+Ve+"_")}catch{I&&I(Rt)}}if(qe){I=ie.join("&");break e}}}return u=u.i.splice(0,A),m.D=u,I}function li(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Fe||le(),se||(Fe(),se=!0),ye.add(m,u),u.v=0}}function uo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Mn(T(u.Fa,u),fu(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,du(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Mn(T(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),qn(this),du(this))};function Na(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function du(u){u.g=new Fn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=gn(u.qa);Qe(m,"RID","rpc"),Qe(m,"SID",u.K),Qe(m,"AID",u.T),Qe(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qe(m,"TO",u.ja),Qe(m,"TYPE","xmlhttp"),Dr(u,m),u.m&&u.o&&hs(m,u.m,u.o),u.L&&(u.g.I=u.L);var A=u.g;u=u.ia,A.L=1,A.v=ls(gn(m)),A.m=null,A.P=!0,Ta(A,u)}n.Za=function(){this.C!=null&&(this.C=null,qn(this),uo(this),ct(19))};function co(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function ho(u,m){var A=null;if(u.g==m){co(u),Na(u),u.g=null;var I=2}else if(Gt(u.h,m))A=m.D,ru(u.h,m),I=1;else return;if(u.G!=0){if(m.o)if(I==1){A=m.m?m.m.length:0,m=Date.now()-m.F;var B=u.B;I=Ys(),_t(I,new Xi(I,A)),lr(u)}else li(u);else if(B=m.s,B==3||B==0&&0<m.X||!(I==1&&zh(u,m)||I==2&&uo(u)))switch(A&&0<A.length&&(m=u.h,m.i=m.i.concat(A)),B){case 1:Lr(u,5);break;case 4:Lr(u,10);break;case 3:Lr(u,6);break;default:Lr(u,2)}}}function fu(u,m){let A=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(A*=2),A*m}function Lr(u,m){if(u.j.info("Error code "+m),m==2){var A=T(u.fb,u),I=u.Xa;const B=!I;I=new Nr(I||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ii(I,"https"),ls(I),B?Uh(I.toString(),A):uu(I.toString(),A)}else ct(2);u.G=0,u.l&&u.l.sa(m),pu(u),ao(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function pu(u){if(u.G=0,u.ka=[],u.l){const m=su(u.h);(m.length!=0||u.i.length!=0)&&(C(u.ka,m),C(u.ka,u.i),u.h.i.length=0,O(u.i),u.i.length=0),u.l.ra()}}function mu(u,m,A){var I=A instanceof Nr?gn(A):new Nr(A);if(I.g!="")m&&(I.g=m+"."+I.g),os(I,I.s);else{var B=d.location;I=B.protocol,m=m?m+"."+B.hostname:B.hostname,B=+B.port;var $=new Nr(null);I&&ii($,I),m&&($.g=m),B&&os($,B),A&&($.l=A),I=$}return A=u.D,m=u.ya,A&&m&&Qe(I,A,m),Qe(I,"VER",u.la),Dr(u,I),I}function gu(u,m,A){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new nt(new br({eb:A})):new nt(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ba(){}n=ba.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function fo(){}fo.prototype.g=function(u,m){return new Xt(u,m)};function Xt(u,m){vt.call(this),this.g=new ka(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!U(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!U(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ur(this)}b(Xt,vt),Xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){Dt(this.g)},Xt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var A={};A.__data__=u,u=A}else this.u&&(A={},A.__data__=ma(u),u=A);m.i.push(new tu(m.Ya++,u)),m.G==3&&lr(m)},Xt.prototype.N=function(){this.g.l=null,delete this.j,Dt(this.g),delete this.g,Xt.aa.N.call(this)};function yu(u){rr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const A in m){u=A;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(yu,rr);function Au(){Gi.call(this),this.status=1}b(Au,Gi);function ur(u){this.g=u}b(ur,ba),ur.prototype.ua=function(){_t(this.g,"a")},ur.prototype.ta=function(u){_t(this.g,new yu(u))},ur.prototype.sa=function(u){_t(this.g,new Au)},ur.prototype.ra=function(){_t(this.g,"b")},fo.prototype.createWebChannel=fo.prototype.g,Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,G_=function(){return new fo},$_=function(){return Ys()},K_=sr,Xf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yi.NO_ERROR=0,Yi.TIMEOUT=8,Yi.HTTP_ERROR=6,wc=Yi,Jl.COMPLETE="complete",Q_=Jl,$i.EventType=Tn,Tn.OPEN="a",Tn.CLOSE="b",Tn.ERROR="c",Tn.MESSAGE="d",vt.prototype.listen=vt.prototype.K,ol=$i,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,q_=nt}).apply(typeof fc<"u"?fc:typeof self<"u"?self:typeof window<"u"?window:{});const gA="@firebase/firestore",yA="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let na="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new Ep("@firebase/firestore");function Lo(){return Di.logLevel}function ue(n,...e){if(Di.logLevel<=Ne.DEBUG){const t=e.map(Dp);Di.debug(`Firestore (${na}): ${n}`,...t)}}function Jr(n,...e){if(Di.logLevel<=Ne.ERROR){const t=e.map(Dp);Di.error(`Firestore (${na}): ${n}`,...t)}}function Qo(n,...e){if(Di.logLevel<=Ne.WARN){const t=e.map(Dp);Di.warn(`Firestore (${na}): ${n}`,...t)}}function Dp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,X_(n,s,t)}function X_(n,e,t){let s=`FIRESTORE (${na}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Jr(s),new Error(s)}function We(n,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,n||X_(e,o,s)}function Se(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Zr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(qt.UNAUTHENTICATED)))}shutdown(){}}class _R{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class ER{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let a=new js;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new js,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=a;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},d=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new js)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(We(typeof s.accessToken=="string",31837,{l:s}),new J_(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new qt(e)}}class wR{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class TR{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new wR(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(qt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class AA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IR{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){We(this.o===void 0,3512);const s=a=>{a.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.m;return this.m=a.token,ue("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>s(a)))};const o=a=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new AA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(We(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new AA(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=SR(40);for(let a=0;a<o.length;++a)s.length<20&&o[a]<t&&(s+=e.charAt(o[a]%62))}return s}}function be(n,e){return n<e?-1:n>e?1:0}function Jf(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const o=n.charAt(s),a=e.charAt(s);if(o!==a)return wf(o)===wf(a)?be(o,a):wf(o)?1:-1}return be(n.length,e.length)}const xR=55296,CR=57343;function wf(n){const e=n.charCodeAt(0);return e>=xR&&e<=CR}function Ko(n,e,t){return n.length===e.length&&n.every(((s,o)=>t(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="__name__";class gr{constructor(e,t,s){t===void 0?t=0:t>e.length&&we(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&we(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return gr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gr?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const a=gr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return be(e.length,t.length)}static compareSegments(e,t){const s=gr.isNumericId(e),o=gr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?gr.extractNumericId(e).compare(gr.extractNumericId(t)):Jf(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ms.fromString(e.substring(4,e.length-2))}}class ot extends gr{construct(e,t,s){return new ot(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new ot(t)}static emptyPath(){return new ot([])}}const RR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends gr{construct(e,t,s){return new jt(e,t,s)}static isValidIdentifier(e){return RR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vA}static keyField(){return new jt([vA])}static fromServerFormat(e){const t=[];let s="",o=0;const a=()=>{if(s.length===0)throw new me(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new me(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new me(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(s+=d,o++):(a(),o++)}if(a(),c)throw new me(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(t)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ot.fromString(e))}static fromName(e){return new _e(ot.fromString(e).popFirst(5))}static empty(){return new _e(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ot(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(n,e,t){if(!t)throw new me(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function kR(n,e,t,s){if(e===!0&&s===!0)throw new me(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function _A(n){if(!_e.isDocumentKey(n))throw new me(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Y_(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Vp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":we(12329,{type:typeof n})}function Us(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Vp(n);throw new me(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Bl(n,e){if(!Y_(n))throw new me(ee.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,a="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const c=n[s];if(o&&typeof c!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(a!==void 0&&c!==a.value){t=`Expected '${s}' field to equal '${a.value}'`;break}}if(t)throw new me(ee.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=-62135596800,wA=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*wA);return new tt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<EA)throw new me(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wA}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Bl(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-EA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:gt("string",tt._jsonSchemaVersion),seconds:gt("number"),nanoseconds:gt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new tt(0,0))}static max(){return new Ie(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=-1;function NR(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(s===1e9?new tt(t+1,0):new tt(t,s));return new Fs(o,_e.empty(),e)}function bR(n){return new Fs(n.readTime,n.key,wl)}class Fs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Fs(Ie.min(),_e.empty(),wl)}static max(){return new Fs(Ie.max(),_e.empty(),wl)}}function OR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:be(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ra(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==DR)throw n;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J(((s,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(s,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):J.reject(t)}static resolve(e){return new J(((t,s)=>{t(e)}))}static reject(e){return new J(((t,s)=>{s(e)}))}static waitFor(e){return new J(((t,s)=>{let o=0,a=0,c=!1;e.forEach((d=>{++o,d.next((()=>{++a,c&&a===o&&t()}),(p=>s(p)))})),c=!0,a===o&&t()}))}static or(e){let t=J.resolve(!1);for(const s of e)t=t.next((o=>o?J.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,a)=>{s.push(t.call(this,o,a))})),this.waitFor(s)}static mapArray(e,t){return new J(((s,o)=>{const a=e.length,c=new Array(a);let d=0;for(let p=0;p<a;p++){const y=p;t(e[y]).next((v=>{c[y]=v,++d,d===a&&s(c)}),(v=>o(v)))}}))}static doWhile(e,t){return new J(((s,o)=>{const a=()=>{e()===!0?t().next((()=>{a()}),o):s()};a()}))}}function VR(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function sa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp=-1;function gh(n){return n==null}function Hc(n){return n===0&&1/n==-1/0}function MR(n){return typeof n=="number"&&Number.isInteger(n)&&!Hc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="";function jR(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=TA(e)),e=UR(n.get(t),e);return TA(e)}function UR(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case Z_:t+="";break;default:t+=a}}return t}function TA(n){return n+Z_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ji(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function e0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,t){this.comparator=e,this.root=t||Mt.EMPTY}insert(e,t){return new at(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Mt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pc(this.root,e,this.comparator,!1)}getReverseIterator(){return new pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pc(this.root,e,this.comparator,!0)}}class pc{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?s(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mt{constructor(e,t,s,o,a){this.key=e,this.value=t,this.color=s??Mt.RED,this.left=o??Mt.EMPTY,this.right=a??Mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,a){return new Mt(e??this.key,t??this.value,s??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const a=s(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,s),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Mt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}Mt.EMPTY=null,Mt.RED=!0,Mt.BLACK=!1;Mt.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,t,s,o,a){return this}insert(e,t,s){return new Mt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new SA(this.data.getIterator())}getIteratorFrom(e){return new SA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=s.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new xt(this.comparator);return t.data=e,t}}class SA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new er([])}unionWith(e){let t=new xt(jt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new er(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ko(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new t0("Invalid base64 string: "+a):a}})(e);return new Ut(t)}static fromUint8Array(e){const t=(function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a})(e);return new Ut(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ut.EMPTY_BYTE_STRING=new Ut("");const FR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bs(n){if(We(!!n,39018),typeof n=="string"){let e=0;const t=FR.exec(n);if(We(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:dt(n.seconds),nanos:dt(n.nanos)}}function dt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function zs(n){return typeof n=="string"?Ut.fromBase64String(n):Ut.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="server_timestamp",r0="__type__",s0="__previous_value__",i0="__local_write_time__";function jp(n){var t,s;return((s=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[r0])==null?void 0:s.stringValue)===n0}function yh(n){const e=n.mapValue.fields[s0];return jp(e)?yh(e):e}function Tl(n){const e=Bs(n.mapValue.fields[i0].timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,t,s,o,a,c,d,p,y,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=v}}const Wc="(default)";class Il{constructor(e,t){this.projectId=e,this.database=t||Wc}static empty(){return new Il("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(e){return e instanceof Il&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="__type__",zR="__max__",mc={mapValue:{}},a0="__vector__",qc="value";function Hs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?jp(n)?4:WR(n)?9007199254740991:HR(n)?10:11:we(28295,{value:n})}function Tr(n,e){if(n===e)return!0;const t=Hs(n);if(t!==Hs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Tl(n).isEqual(Tl(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=Bs(o.timestampValue),d=Bs(a.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,a){return zs(o.bytesValue).isEqual(zs(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,a){return dt(o.geoPointValue.latitude)===dt(a.geoPointValue.latitude)&&dt(o.geoPointValue.longitude)===dt(a.geoPointValue.longitude)})(n,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return dt(o.integerValue)===dt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=dt(o.doubleValue),d=dt(a.doubleValue);return c===d?Hc(c)===Hc(d):isNaN(c)&&isNaN(d)}return!1})(n,e);case 9:return Ko(n.arrayValue.values||[],e.arrayValue.values||[],Tr);case 10:case 11:return(function(o,a){const c=o.mapValue.fields||{},d=a.mapValue.fields||{};if(IA(c)!==IA(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Tr(c[p],d[p])))return!1;return!0})(n,e);default:return we(52216,{left:n})}}function Sl(n,e){return(n.values||[]).find((t=>Tr(t,e)))!==void 0}function $o(n,e){if(n===e)return 0;const t=Hs(n),s=Hs(e);if(t!==s)return be(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return be(n.booleanValue,e.booleanValue);case 2:return(function(a,c){const d=dt(a.integerValue||a.doubleValue),p=dt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(n,e);case 3:return xA(n.timestampValue,e.timestampValue);case 4:return xA(Tl(n),Tl(e));case 5:return Jf(n.stringValue,e.stringValue);case 6:return(function(a,c){const d=zs(a),p=zs(c);return d.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(a,c){const d=a.split("/"),p=c.split("/");for(let y=0;y<d.length&&y<p.length;y++){const v=be(d[y],p[y]);if(v!==0)return v}return be(d.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,c){const d=be(dt(a.latitude),dt(c.latitude));return d!==0?d:be(dt(a.longitude),dt(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return CA(n.arrayValue,e.arrayValue);case 10:return(function(a,c){var T,L,b,O;const d=a.fields||{},p=c.fields||{},y=(T=d[qc])==null?void 0:T.arrayValue,v=(L=p[qc])==null?void 0:L.arrayValue,E=be(((b=y==null?void 0:y.values)==null?void 0:b.length)||0,((O=v==null?void 0:v.values)==null?void 0:O.length)||0);return E!==0?E:CA(y,v)})(n.mapValue,e.mapValue);case 11:return(function(a,c){if(a===mc.mapValue&&c===mc.mapValue)return 0;if(a===mc.mapValue)return 1;if(c===mc.mapValue)return-1;const d=a.fields||{},p=Object.keys(d),y=c.fields||{},v=Object.keys(y);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const T=Jf(p[E],v[E]);if(T!==0)return T;const L=$o(d[p[E]],y[v[E]]);if(L!==0)return L}return be(p.length,v.length)})(n.mapValue,e.mapValue);default:throw we(23264,{he:t})}}function xA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return be(n,e);const t=Bs(n),s=Bs(e),o=be(t.seconds,s.seconds);return o!==0?o:be(t.nanos,s.nanos)}function CA(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const a=$o(t[o],s[o]);if(a)return a}return be(t.length,s.length)}function Go(n){return Yf(n)}function Yf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=Bs(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return zs(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return _e.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",o=!0;for(const a of t.values||[])o?o=!1:s+=",",s+=Yf(a);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of s)a?a=!1:o+=",",o+=`${c}:${Yf(t.fields[c])}`;return o+"}"})(n.mapValue):we(61005,{value:n})}function Tc(n){switch(Hs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yh(n);return e?16+Tc(e):16;case 5:return 2*n.stringValue.length;case 6:return zs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,a)=>o+Tc(a)),0)})(n.arrayValue);case 10:case 11:return(function(s){let o=0;return ji(s.fields,((a,c)=>{o+=a.length+Tc(c)})),o})(n.mapValue);default:throw we(13486,{value:n})}}function Zf(n){return!!n&&"integerValue"in n}function Up(n){return!!n&&"arrayValue"in n}function RA(n){return!!n&&"nullValue"in n}function PA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ic(n){return!!n&&"mapValue"in n}function HR(n){var t,s;return((s=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[o0])==null?void 0:s.stringValue)===a0}function dl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ji(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=dl(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=dl(n.arrayValue.values[t]);return e}return{...n}}function WR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===zR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Ic(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=dl(t)}setAll(e){let t=jt.emptyPath(),s={},o=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=d.popLast()}c?s[d.lastSegment()]=dl(c):o.push(d.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,s,o)}delete(e){const t=this.field(e.popLast());Ic(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Tr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Ic(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ji(t,((o,a)=>e[o]=a));for(const o of s)delete e[o]}clone(){return new On(dl(this.value))}}function l0(n){const e=[];return ji(n.fields,((t,s)=>{const o=new jt([t]);if(Ic(s)){const a=l0(s.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)})),new er(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,t,s,o,a,c,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=a,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Qt(e,0,Ie.min(),Ie.min(),Ie.min(),On.empty(),0)}static newFoundDocument(e,t,s,o){return new Qt(e,1,t,Ie.min(),s,o,0)}static newNoDocument(e,t){return new Qt(e,2,t,Ie.min(),Ie.min(),On.empty(),0)}static newUnknownDocument(e,t){return new Qt(e,3,t,Ie.min(),Ie.min(),On.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,t){this.position=e,this.inclusive=t}}function kA(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const a=e[o],c=n.position[o];if(a.field.isKeyField()?s=_e.comparator(_e.fromName(c.referenceValue),t.key):s=$o(c,t.data.field(a.field)),a.dir==="desc"&&(s*=-1),s!==0)break}return s}function NA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Tr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,t="asc"){this.field=e,this.dir=t}}function qR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{}class It extends u0{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new KR(e,t,s):t==="array-contains"?new XR(e,s):t==="in"?new JR(e,s):t==="not-in"?new YR(e,s):t==="array-contains-any"?new ZR(e,s):new It(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new $R(e,s):new GR(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison($o(t,this.value)):t!==null&&Hs(this.value)===Hs(t)&&this.matchesComparison($o(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ir extends u0{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ir(e,t)}matches(e){return c0(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function c0(n){return n.op==="and"}function h0(n){return QR(n)&&c0(n)}function QR(n){for(const e of n.filters)if(e instanceof Ir)return!1;return!0}function ep(n){if(n instanceof It)return n.field.canonicalString()+n.op.toString()+Go(n.value);if(h0(n))return n.filters.map((e=>ep(e))).join(",");{const e=n.filters.map((t=>ep(t))).join(",");return`${n.op}(${e})`}}function d0(n,e){return n instanceof It?(function(s,o){return o instanceof It&&s.op===o.op&&s.field.isEqual(o.field)&&Tr(s.value,o.value)})(n,e):n instanceof Ir?(function(s,o){return o instanceof Ir&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((a,c,d)=>a&&d0(c,o.filters[d])),!0):!1})(n,e):void we(19439)}function f0(n){return n instanceof It?(function(t){return`${t.field.canonicalString()} ${t.op} ${Go(t.value)}`})(n):n instanceof Ir?(function(t){return t.op.toString()+" {"+t.getFilters().map(f0).join(" ,")+"}"})(n):"Filter"}class KR extends It{constructor(e,t,s){super(e,t,s),this.key=_e.fromName(s.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class $R extends It{constructor(e,t){super(e,"in",t),this.keys=p0("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class GR extends It{constructor(e,t){super(e,"not-in",t),this.keys=p0("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function p0(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((s=>_e.fromName(s.referenceValue)))}class XR extends It{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Up(t)&&Sl(t.arrayValue,this.value)}}class JR extends It{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Sl(this.value.arrayValue,t)}}class YR extends It{constructor(e,t){super(e,"not-in",t)}matches(e){if(Sl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Sl(this.value.arrayValue,t)}}class ZR extends It{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Up(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Sl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,t=null,s=[],o=[],a=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=a,this.startAt=c,this.endAt=d,this.Te=null}}function bA(n,e=null,t=[],s=[],o=null,a=null,c=null){return new eP(n,e,t,s,o,a,c)}function Fp(n){const e=Se(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>ep(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(a){return a.field.canonicalString()+a.dir})(s))).join(","),gh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Go(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Go(s))).join(",")),e.Te=t}return e.Te}function Bp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!qR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!d0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!NA(n.startAt,e.startAt)&&NA(n.endAt,e.endAt)}function tp(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,t=null,s=[],o=[],a=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=a,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function tP(n,e,t,s,o,a,c,d){return new Ah(n,e,t,s,o,a,c,d)}function vh(n){return new Ah(n)}function OA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function nP(n){return n.collectionGroup!==null}function fl(n){const e=Se(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new xt(jt.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(d=d.add(y.field))}))})),d})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Kc(a,s))})),t.has(jt.keyField().canonicalString())||e.Ie.push(new Kc(jt.keyField(),s))}return e.Ie}function vr(n){const e=Se(n);return e.Ee||(e.Ee=rP(e,fl(n))),e.Ee}function rP(n,e){if(n.limitType==="F")return bA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new Kc(o.field,a)}));const t=n.endAt?new Qc(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Qc(n.startAt.position,n.startAt.inclusive):null;return bA(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function np(n,e,t){return new Ah(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function _h(n,e){return Bp(vr(n),vr(e))&&n.limitType===e.limitType}function m0(n){return`${Fp(vr(n))}|lt:${n.limitType}`}function Vo(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>f0(o))).join(", ")}]`),gh(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>Go(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>Go(o))).join(",")),`Target(${s})`})(vr(n))}; limitType=${n.limitType})`}function Eh(n,e){return e.isFoundDocument()&&(function(s,o){const a=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(a):_e.isDocumentKey(s.path)?s.path.isEqual(a):s.path.isImmediateParentOf(a)})(n,e)&&(function(s,o){for(const a of fl(s))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(s,o){for(const a of s.filters)if(!a.matches(o))return!1;return!0})(n,e)&&(function(s,o){return!(s.startAt&&!(function(c,d,p){const y=kA(c,d,p);return c.inclusive?y<=0:y<0})(s.startAt,fl(s),o)||s.endAt&&!(function(c,d,p){const y=kA(c,d,p);return c.inclusive?y>=0:y>0})(s.endAt,fl(s),o))})(n,e)}function sP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function g0(n){return(e,t)=>{let s=!1;for(const o of fl(n)){const a=iP(o,e,t);if(a!==0)return a;s=s||o.field.isKeyField()}return 0}}function iP(n,e,t){const s=n.field.isKeyField()?_e.comparator(e.key,t.key):(function(a,c,d){const p=c.data.field(a),y=d.data.field(a);return p!==null&&y!==null?$o(p,y):we(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return we(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,a]of s)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ji(this.inner,((t,s)=>{for(const[o,a]of s)e(o,a)}))}isEmpty(){return e0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=new at(_e.comparator);function Yr(){return oP}const y0=new at(_e.comparator);function al(...n){let e=y0;for(const t of n)e=e.insert(t.key,t);return e}function A0(n){let e=y0;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Ii(){return pl()}function v0(){return pl()}function pl(){return new Ui((n=>n.toString()),((n,e)=>n.isEqual(e)))}const aP=new at(_e.comparator),lP=new xt(_e.comparator);function Oe(...n){let e=lP;for(const t of n)e=e.add(t);return e}const uP=new xt(be);function cP(){return uP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hc(e)?"-0":e}}function _0(n){return{integerValue:""+n}}function hP(n,e){return MR(e)?_0(e):zp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(){this._=void 0}}function dP(n,e,t){return n instanceof xl?(function(o,a){const c={fields:{[r0]:{stringValue:n0},[i0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&jp(a)&&(a=yh(a)),a&&(c.fields[s0]=a),{mapValue:c}})(t,e):n instanceof Cl?w0(n,e):n instanceof Rl?T0(n,e):(function(o,a){const c=E0(o,a),d=DA(c)+DA(o.Ae);return Zf(c)&&Zf(o.Ae)?_0(d):zp(o.serializer,d)})(n,e)}function fP(n,e,t){return n instanceof Cl?w0(n,e):n instanceof Rl?T0(n,e):t}function E0(n,e){return n instanceof $c?(function(s){return Zf(s)||(function(a){return!!a&&"doubleValue"in a})(s)})(e)?e:{integerValue:0}:null}class xl extends wh{}class Cl extends wh{constructor(e){super(),this.elements=e}}function w0(n,e){const t=I0(e);for(const s of n.elements)t.some((o=>Tr(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Rl extends wh{constructor(e){super(),this.elements=e}}function T0(n,e){let t=I0(e);for(const s of n.elements)t=t.filter((o=>!Tr(o,s)));return{arrayValue:{values:t}}}class $c extends wh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function DA(n){return dt(n.integerValue||n.doubleValue)}function I0(n){return Up(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,t){this.field=e,this.transform=t}}function mP(n,e){return n.field.isEqual(e.field)&&(function(s,o){return s instanceof Cl&&o instanceof Cl||s instanceof Rl&&o instanceof Rl?Ko(s.elements,o.elements,Tr):s instanceof $c&&o instanceof $c?Tr(s.Ae,o.Ae):s instanceof xl&&o instanceof xl})(n.transform,e.transform)}class gP{constructor(e,t){this.version=e,this.transformResults=t}}class Kr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Kr}static exists(e){return new Kr(void 0,e)}static updateTime(e){return new Kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Th{}function S0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new C0(n.key,Kr.none()):new zl(n.key,n.data,Kr.none());{const t=n.data,s=On.empty();let o=new xt(jt.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?s.delete(a):s.set(a,c),o=o.add(a)}return new Fi(n.key,s,new er(o.toArray()),Kr.none())}}function yP(n,e,t){n instanceof zl?(function(o,a,c){const d=o.value.clone(),p=VA(o.fieldTransforms,a,c.transformResults);d.setAll(p),a.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,e,t):n instanceof Fi?(function(o,a,c){if(!Sc(o.precondition,a))return void a.convertToUnknownDocument(c.version);const d=VA(o.fieldTransforms,a,c.transformResults),p=a.data;p.setAll(x0(o)),p.setAll(d),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,e,t):(function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function ml(n,e,t,s){return n instanceof zl?(function(a,c,d,p){if(!Sc(a.precondition,c))return d;const y=a.value.clone(),v=MA(a.fieldTransforms,p,c);return y.setAll(v),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null})(n,e,t,s):n instanceof Fi?(function(a,c,d,p){if(!Sc(a.precondition,c))return d;const y=MA(a.fieldTransforms,p,c),v=c.data;return v.setAll(x0(a)),v.setAll(y),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((E=>E.field)))})(n,e,t,s):(function(a,c,d){return Sc(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(n,e,t)}function AP(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),a=E0(s.transform,o||null);a!=null&&(t===null&&(t=On.empty()),t.set(s.field,a))}return t||null}function LA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ko(s,o,((a,c)=>mP(a,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class zl extends Th{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Fi extends Th{constructor(e,t,s,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function x0(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function VA(n,e,t){const s=new Map;We(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const a=n[o],c=a.transform,d=e.data.field(a.field);s.set(a.field,fP(c,d,t[o]))}return s}function MA(n,e,t){const s=new Map;for(const o of n){const a=o.transform,c=t.data.field(o.field);s.set(o.field,dP(a,c,e))}return s}class C0 extends Th{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vP extends Th{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&yP(a,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=ml(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=ml(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=v0();return this.mutations.forEach((o=>{const a=e.get(o.key),c=a.overlayedDocument;let d=this.applyToLocalView(c,a.mutatedFields);d=t.has(o.key)?null:d;const p=S0(c,d);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Ie.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Oe())}isEqual(e){return this.batchId===e.batchId&&Ko(this.mutations,e.mutations,((t,s)=>LA(t,s)))&&Ko(this.baseMutations,e.baseMutations,((t,s)=>LA(t,s)))}}class Hp{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){We(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return aP})();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,s[c].version);return new Hp(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt,Me;function TP(n){switch(n){case ee.OK:return we(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return we(15467,{code:n})}}function R0(n){if(n===void 0)return Jr("GRPC error has no .code"),ee.UNKNOWN;switch(n){case mt.OK:return ee.OK;case mt.CANCELLED:return ee.CANCELLED;case mt.UNKNOWN:return ee.UNKNOWN;case mt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case mt.INTERNAL:return ee.INTERNAL;case mt.UNAVAILABLE:return ee.UNAVAILABLE;case mt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case mt.NOT_FOUND:return ee.NOT_FOUND;case mt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case mt.ABORTED:return ee.ABORTED;case mt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case mt.DATA_LOSS:return ee.DATA_LOSS;default:return we(39323,{code:n})}}(Me=mt||(mt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=new Ms([4294967295,4294967295],0);function jA(n){const e=IP().encode(n),t=new W_;return t.update(e),new Uint8Array(t.digest())}function UA(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ms([t,s],0),new Ms([o,a],0)]}class Wp{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new ll(`Invalid padding: ${t}`);if(s<0)throw new ll(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ll(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new ll(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ms.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(Ms.fromNumber(s)));return o.compare(SP)===1&&(o=new Ms([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=jA(e),[s,o]=UA(t);for(let a=0;a<this.hashCount;a++){const c=this.ye(s,o,a);if(!this.we(c))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new Wp(a,o,t);return s.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=jA(e),[s,o]=UA(t);for(let a=0;a<this.hashCount;a++){const c=this.ye(s,o,a);this.Se(c)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,t,s,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Hl.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Ih(Ie.min(),o,new at(be),Yr(),Oe())}}class Hl{constructor(e,t,s,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Hl(s,t,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class P0{constructor(e,t){this.targetId=e,this.Ce=t}}class k0{constructor(e,t,s=Ut.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class FA{constructor(){this.ve=0,this.Fe=BA(),this.Me=Ut.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Oe(),t=Oe(),s=Oe();return this.Fe.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:we(38017,{changeType:a})}})),new Hl(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=BA()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class xP{constructor(e){this.Ge=e,this.ze=new Map,this.je=Yr(),this.Je=gc(),this.He=gc(),this.Ye=new at(be)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const a=o.target;if(tp(a))if(s===0){const c=new _e(a.path);this.et(t,c,Qt.newNoDocument(c,Ie.min()))}else We(s===1,20013,{expectedCount:s});else{const c=this._t(t);if(c!==s){const d=this.ut(e),p=d?this.ct(d,e,c):1;if(p!==0){this.it(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,y)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=t;let c,d;try{c=zs(s).toUint8Array()}catch(p){if(p instanceof t0)return Qo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Wp(c,o,a)}catch(p){return Qo(p instanceof ll?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((a=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(t,a,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((a,c)=>{const d=this.ot(c);if(d){if(a.current&&tp(d.target)){const p=new _e(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,Qt.newNoDocument(p,e))}a.Be&&(t.set(c,a.ke()),a.qe())}}));let s=Oe();this.He.forEach(((a,c)=>{let d=!0;c.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(a))})),this.je.forEach(((a,c)=>c.setReadTime(e)));const o=new Ih(e,t,this.Ye,this.je,s);return this.je=Yr(),this.Je=gc(),this.He=gc(),this.Ye=new at(be),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new FA,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new xt(be),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new xt(be),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new FA),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function gc(){return new at(_e.comparator)}function BA(){return new at(_e.comparator)}const CP={asc:"ASCENDING",desc:"DESCENDING"},RP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PP={and:"AND",or:"OR"};class kP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function rp(n,e){return n.useProto3Json||gh(e)?e:{value:e}}function Gc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function N0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function NP(n,e){return Gc(n,e.toTimestamp())}function _r(n){return We(!!n,49232),Ie.fromTimestamp((function(t){const s=Bs(t);return new tt(s.seconds,s.nanos)})(n))}function qp(n,e){return sp(n,e).canonicalString()}function sp(n,e){const t=(function(o){return new ot(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function b0(n){const e=ot.fromString(n);return We(M0(e),10190,{key:e.toString()}),e}function ip(n,e){return qp(n.databaseId,e.path)}function Tf(n,e){const t=b0(e);if(t.get(1)!==n.databaseId.projectId)throw new me(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new me(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(D0(t))}function O0(n,e){return qp(n.databaseId,e)}function bP(n){const e=b0(n);return e.length===4?ot.emptyPath():D0(e)}function op(n){return new ot(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function D0(n){return We(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function zA(n,e,t){return{name:ip(n,e),fields:t.value.mapValue.fields}}function OP(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:we(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(y,v){return y.useProto3Json?(We(v===void 0||typeof v=="string",58123),Ut.fromBase64String(v||"")):(We(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Ut.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(y){const v=y.code===void 0?ee.UNKNOWN:R0(y.code);return new me(v,y.message||"")})(c);t=new k0(s,o,a,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Tf(n,s.document.name),a=_r(s.document.updateTime),c=s.document.createTime?_r(s.document.createTime):Ie.min(),d=new On({mapValue:{fields:s.document.fields}}),p=Qt.newFoundDocument(o,a,c,d),y=s.targetIds||[],v=s.removedTargetIds||[];t=new xc(y,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Tf(n,s.document),a=s.readTime?_r(s.readTime):Ie.min(),c=Qt.newNoDocument(o,a),d=s.removedTargetIds||[];t=new xc([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Tf(n,s.document),a=s.removedTargetIds||[];t=new xc([],a,o,null)}else{if(!("filter"in e))return we(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:a}=s,c=new wP(o,a),d=s.targetId;t=new P0(d,c)}}return t}function DP(n,e){let t;if(e instanceof zl)t={update:zA(n,e.key,e.value)};else if(e instanceof C0)t={delete:ip(n,e.key)};else if(e instanceof Fi)t={update:zA(n,e.key,e.data),updateMask:HP(e.fieldMask)};else{if(!(e instanceof vP))return we(16599,{Vt:e.type});t={verify:ip(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(a,c){const d=c.transform;if(d instanceof xl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Cl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Rl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof $c)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw we(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:NP(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:we(27497)})(n,e.precondition)),t}function LP(n,e){return n&&n.length>0?(We(e!==void 0,14353),n.map((t=>(function(o,a){let c=o.updateTime?_r(o.updateTime):_r(a);return c.isEqual(Ie.min())&&(c=_r(a)),new gP(c,o.transformResults||[])})(t,e)))):[]}function VP(n,e){return{documents:[O0(n,e.path)]}}function MP(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=O0(n,o);const a=(function(y){if(y.length!==0)return V0(Ir.create(y,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const c=(function(y){if(y.length!==0)return y.map((v=>(function(T){return{field:Mo(T.field),direction:FP(T.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=rp(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:t,parent:o}}function jP(n){let e=bP(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){We(s===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=(function(E){const T=L0(E);return T instanceof Ir&&h0(T)?T.getFilters():[T]})(t.where));let c=[];t.orderBy&&(c=(function(E){return E.map((T=>(function(b){return new Kc(jo(b.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(b.direction))})(T)))})(t.orderBy));let d=null;t.limit&&(d=(function(E){let T;return T=typeof E=="object"?E.value:E,gh(T)?null:T})(t.limit));let p=null;t.startAt&&(p=(function(E){const T=!!E.before,L=E.values||[];return new Qc(L,T)})(t.startAt));let y=null;return t.endAt&&(y=(function(E){const T=!E.before,L=E.values||[];return new Qc(L,T)})(t.endAt)),tP(e,o,c,a,d,"F",p,y)}function UP(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function L0(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=jo(t.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=jo(t.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=jo(t.unaryFilter.field);return It.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=jo(t.unaryFilter.field);return It.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(n):n.fieldFilter!==void 0?(function(t){return It.create(jo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Ir.create(t.compositeFilter.filters.map((s=>L0(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(t.compositeFilter.op))})(n):we(30097,{filter:n})}function FP(n){return CP[n]}function BP(n){return RP[n]}function zP(n){return PP[n]}function Mo(n){return{fieldPath:n.canonicalString()}}function jo(n){return jt.fromServerFormat(n.fieldPath)}function V0(n){return n instanceof It?(function(t){if(t.op==="=="){if(PA(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NAN"}};if(RA(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(PA(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NOT_NAN"}};if(RA(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mo(t.field),op:BP(t.op),value:t.value}}})(n):n instanceof Ir?(function(t){const s=t.getFilters().map((o=>V0(o)));return s.length===1?s[0]:{compositeFilter:{op:zP(t.op),filters:s}}})(n):we(54877,{filter:n})}function HP(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function M0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,t,s,o,a=Ie.min(),c=Ie.min(),d=Ut.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e){this.yt=e}}function qP(n){const e=jP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?np(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(){this.Cn=new KP}addToCollectionParentIndex(e,t){return this.Cn.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(Fs.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(Fs.min())}updateCollectionGroup(e,t,s){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class KP{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new xt(ot.comparator),a=!o.has(s);return this.index[t]=o.add(s),a}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new xt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},j0=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(j0,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Xo(0)}static cr(){return new Xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="LruGarbageCollector",$P=1048576;function qA([n,e],[t,s]){const o=be(n,t);return o===0?be(e,s):o}class GP{constructor(e){this.Ir=e,this.buffer=new xt(qA),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();qA(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class XP{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(WA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){sa(t)?ue(WA,"Ignoring IndexedDB error during garbage collection: ",t):await ra(t)}await this.Vr(3e5)}))}}class JP{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return J.resolve(mh.ce);const s=new GP(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(HA)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),HA):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,a,c,d,p,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(s=E,d=Date.now(),this.removeTargets(e,s,t)))).next((E=>(a=E,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((E=>(y=Date.now(),Lo()<=Ne.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${a} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(y-p)+`ms
Total Duration: ${y-v}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:E}))))}}function YP(n,e){return new JP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(){this.changes=new Ui((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?J.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&ml(s.mutation,o,er.empty(),tt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Oe()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Oe()){const o=Ii();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((a=>{let c=al();return a.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const s=Ii();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Oe())))}populateOverlays(e,t,s){const o=[];return s.forEach((a=>{t.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,s,o){let a=Yr();const c=pl(),d=(function(){return pl()})();return t.forEach(((p,y)=>{const v=s.get(y.key);o.has(y.key)&&(v===void 0||v.mutation instanceof Fi)?a=a.insert(y.key,y):v!==void 0?(c.set(y.key,v.mutation.getFieldMask()),ml(v.mutation,y,v.mutation.getFieldMask(),tt.now())):c.set(y.key,er.empty())})),this.recalculateAndSaveOverlays(e,a).next((p=>(p.forEach(((y,v)=>c.set(y,v))),t.forEach(((y,v)=>d.set(y,new ek(v,c.get(y)??null)))),d)))}recalculateAndSaveOverlays(e,t){const s=pl();let o=new at(((c,d)=>c-d)),a=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((p=>{const y=t.get(p);if(y===null)return;let v=s.get(p)||er.empty();v=d.applyToLocalView(y,v),s.set(p,v);const E=(o.get(d.batchId)||Oe()).add(p);o=o.insert(d.batchId,E)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),y=p.key,v=p.value,E=v0();v.forEach((T=>{if(!a.has(T)){const L=S0(t.get(T),s.get(T));L!==null&&E.set(T,L),a=a.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(e,y,E))}return J.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(c){return _e.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):nP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-a.size):J.resolve(Ii());let d=wl,p=a;return c.next((y=>J.forEach(y,((v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),a.get(v)?J.resolve():this.remoteDocumentCache.getEntry(e,v).next((T=>{p=p.insert(v,T)}))))).next((()=>this.populateOverlays(e,y,a))).next((()=>this.computeViews(e,p,y,Oe()))).next((v=>({batchId:d,changes:A0(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next((s=>{let o=al();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const a=t.collectionGroup;let c=al();return this.indexManager.getCollectionParents(e,a).next((d=>J.forEach(d,(p=>{const y=(function(E,T){return new Ah(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((v=>{v.forEach(((E,T)=>{c=c.insert(E,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a,o)))).next((c=>{a.forEach(((p,y)=>{const v=y.getKey();c.get(v)===null&&(c=c.insert(v,Qt.newInvalidDocument(v)))}));let d=al();return c.forEach(((p,y)=>{const v=a.get(p);v!==void 0&&ml(v.mutation,y,er.empty(),tt.now()),Eh(t,y)&&(d=d.insert(p,y))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return J.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:_r(o.createTime)}})(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:qP(o.bundledQuery),readTime:_r(o.readTime)}})(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(){this.overlays=new at(_e.comparator),this.qr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Ii();return J.forEach(t,(o=>this.getOverlay(e,o).next((a=>{a!==null&&s.set(o,a)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,a)=>{this.St(e,t,a)})),J.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(s)),J.resolve()}getOverlaysForCollection(e,t,s){const o=Ii(),a=t.length+1,c=new _e(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===a&&p.largestBatchId>s&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let a=new at(((y,v)=>y-v));const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let v=a.get(y.largestBatchId);v===null&&(v=Ii(),a=a.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const d=Ii(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,v)=>d.set(y,v))),!(d.size()>=o)););return J.resolve(d)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new EP(t,s));let a=this.qr.get(t);a===void 0&&(a=Oe(),this.qr.set(t,a)),this.qr.set(t,a.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(){this.sessionToken=Ut.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(){this.Qr=new xt(bt.$r),this.Ur=new xt(bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new bt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new bt(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new _e(new ot([])),s=new bt(t,e),o=new bt(t,e+1),a=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),a.push(c.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new _e(new ot([])),s=new bt(t,e),o=new bt(t,e+1);let a=Oe();return this.Ur.forEachInRange([s,o],(c=>{a=a.add(c.key)})),a}containsKey(e){const t=new bt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class bt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return _e.comparator(e.key,t.key)||be(e.Yr,t.Yr)}static Kr(e,t){return be(e.Yr,t.Yr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new xt(bt.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new _P(a,t,s,o);this.mutationQueue.push(c);for(const d of o)this.Zr=this.Zr.add(new bt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return J.resolve(c)}lookupMutationBatch(e,t){return J.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),a=o<0?0:o;return J.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Mp:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new bt(t,0),o=new bt(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([s,o],(c=>{const d=this.Xr(c.Yr);a.push(d)})),J.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new xt(be);return t.forEach((o=>{const a=new bt(o,0),c=new bt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,c],(d=>{s=s.add(d.Yr)}))})),J.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let a=s;_e.isDocumentKey(a)||(a=a.child(""));const c=new bt(new _e(a),0);let d=new xt(be);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(d=d.add(p.Yr)),!0)}),c),J.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){We(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return J.forEach(t.mutations,(o=>{const a=new bt(o.key,t.batchId);return s=s.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new bt(t,0),o=this.Zr.firstAfterOrEqual(s);return J.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e){this.ri=e,this.docs=(function(){return new at(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),a=o?o.size:0,c=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return J.resolve(s?s.document.mutableCopy():Qt.newInvalidDocument(t))}getEntries(e,t){let s=Yr();return t.forEach((o=>{const a=this.docs.get(o);s=s.insert(o,a?a.document.mutableCopy():Qt.newInvalidDocument(o))})),J.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let a=Yr();const c=t.path,d=new _e(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:y,value:{document:v}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||OR(bR(v),s)<=0||(o.has(v.key)||Eh(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return J.resolve(a)}getAllFromCollectionGroup(e,t,s,o){we(9500)}ii(e,t){return J.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new ak(this)}getSize(e){return J.resolve(this.size)}}class ak extends ZP{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),J.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e){this.persistence=e,this.si=new Ui((t=>Fp(t)),Bp),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new Qp,this.targetCount=0,this.ai=Xo.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),J.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Xo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.Pr(t),J.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,s){let o=0;const a=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.si.delete(c),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),J.waitFor(a).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return J.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),J.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach((c=>{a.push(o.markPotentiallyOrphaned(e,c))})),J.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),J.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return J.resolve(s)}containsKey(e,t){return J.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,t){this.ui={},this.overlays={},this.ci=new mh(0),this.li=!1,this.li=!0,this.hi=new sk,this.referenceDelegate=e(this),this.Pi=new lk(this),this.indexManager=new QP,this.remoteDocumentCache=(function(o){return new ok(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new WP(t),this.Ii=new nk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new rk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new ik(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){ue("MemoryPersistence","Starting transaction:",e);const o=new uk(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((a=>this.referenceDelegate.di(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ai(e,t){return J.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class uk extends LR{constructor(e){super(),this.currentSequenceNumber=e}}class Kp{constructor(e){this.persistence=e,this.Ri=new Qp,this.Vi=null}static mi(e){return new Kp(e)}get fi(){if(this.Vi)return this.Vi;throw we(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),J.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),J.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((a=>this.fi.add(a.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(s=>{const o=_e.fromPath(s);return this.gi(e,o).next((a=>{a||t.removeEntry(o,Ie.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return J.or([()=>J.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Xc{constructor(e,t){this.persistence=e,this.pi=new Ui((s=>jR(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=YP(this,t)}static mi(e,t){return new Xc(e,t)}Ei(){}di(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return J.forEach(this.pi,((s,o)=>this.br(e,s,o).next((a=>a?J.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,t).next((d=>{d||(s++,a.removeEntry(c,Ie.min()))})))).next((()=>a.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),J.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Tc(e.data.value)),t}br(e,t,s){return J.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=Oe(),o=Oe();for(const a of t.docChanges)switch(a.type){case 0:s=s.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new $p(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return DI()?8:VR($t())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const a={result:null};return this.ys(e,t).next((c=>{a.result=c})).next((()=>{if(!a.result)return this.ws(e,t,o,s).next((c=>{a.result=c}))})).next((()=>{if(a.result)return;const c=new ck;return this.Ss(e,t,c).next((d=>{if(a.result=d,this.Vs)return this.bs(e,t,c,d.size)}))})).next((()=>a.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?(Lo()<=Ne.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Vo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Lo()<=Ne.DEBUG&&ue("QueryEngine","Query:",Vo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Lo()<=Ne.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Vo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(t))):J.resolve())}ys(e,t){if(OA(t))return J.resolve(null);let s=vr(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=np(t,null,"F"),s=vr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((a=>{const c=Oe(...a);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.Ds(t,d);return this.Cs(t,y,c,p.readTime)?this.ys(e,np(t,null,"F")):this.vs(e,y,t,p)}))))})))))}ws(e,t,s,o){return OA(t)||o.isEqual(Ie.min())?J.resolve(null):this.ps.getDocuments(e,s).next((a=>{const c=this.Ds(t,a);return this.Cs(t,c,s,o)?J.resolve(null):(Lo()<=Ne.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Vo(t)),this.vs(e,c,t,NR(o,wl)).next((d=>d)))}))}Ds(e,t){let s=new xt(g0(e));return t.forEach(((o,a)=>{Eh(e,a)&&(s=s.add(a))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,t,s){return Lo()<=Ne.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Vo(t)),this.ps.getDocumentsMatchingQuery(e,t,Fs.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((a=>(t.forEach((c=>{a=a.insert(c.key,c)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp="LocalStore",dk=3e8;class fk{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new at(be),this.xs=new Ui((a=>Fp(a)),Bp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function pk(n,e,t,s){return new fk(n,e,t,s)}async function F0(n,e){const t=Se(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((a=>(o=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((a=>{const c=[],d=[];let p=Oe();for(const y of o){c.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}for(const y of a){d.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(s,p).next((y=>({Ls:y,removedBatchIds:c,addedBatchIds:d})))}))}))}function mk(n,e){const t=Se(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,y,v){const E=y.batch,T=E.keys();let L=J.resolve();return T.forEach((b=>{L=L.next((()=>v.getEntry(p,b))).next((O=>{const C=y.docVersions.get(b);We(C!==null,48541),O.version.compareTo(C)<0&&(E.applyToRemoteDocument(O,y),O.isValidDocument()&&(O.setReadTime(y.commitVersion),v.addEntry(O)))}))})),L.next((()=>d.mutationQueue.removeMutationBatch(p,E)))})(t,s,e,a).next((()=>a.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let p=Oe();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(p=p.add(d.batch.mutations[y].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function B0(n){const e=Se(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function gk(n,e){const t=Se(n),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const d=[];e.targetChanges.forEach(((v,E)=>{const T=o.get(E);if(!T)return;d.push(t.Pi.removeMatchingKeys(a,v.removedDocuments,E).next((()=>t.Pi.addMatchingKeys(a,v.addedDocuments,E))));let L=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?L=L.withResumeToken(Ut.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):v.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(v.resumeToken,s)),o=o.insert(E,L),(function(O,C,q){return O.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=dk?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0})(T,L,v)&&d.push(t.Pi.updateTargetData(a,L))}));let p=Yr(),y=Oe();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))})),d.push(yk(a,c,e.documentUpdates).next((v=>{p=v.ks,y=v.qs}))),!s.isEqual(Ie.min())){const v=t.Pi.getLastRemoteSnapshotVersion(a).next((E=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,s)));d.push(v)}return J.waitFor(d).next((()=>c.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,p,y))).next((()=>p))})).then((a=>(t.Ms=o,a)))}function yk(n,e,t){let s=Oe(),o=Oe();return t.forEach((a=>s=s.add(a))),e.getEntries(n,s).next((a=>{let c=Yr();return t.forEach(((d,p)=>{const y=a.get(d);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Ie.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):ue(Gp,"Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function Ak(n,e){const t=Se(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Mp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function vk(n,e){const t=Se(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((a=>a?(o=a,J.resolve(o)):t.Pi.allocateTargetId(s).next((c=>(o=new bs(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function ap(n,e,t){const s=Se(n),o=s.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",a,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!sa(c))throw c;ue(Gp,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function QA(n,e,t){const s=Se(n);let o=Ie.min(),a=Oe();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,y,v){const E=Se(p),T=E.xs.get(v);return T!==void 0?J.resolve(E.Ms.get(T)):E.Pi.getTargetData(y,v)})(s,c,vr(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((p=>{a=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,t?o:Ie.min(),t?a:Oe()))).next((d=>(_k(s,sP(e),d),{documents:d,Qs:a})))))}function _k(n,e,t){let s=n.Os.get(e)||Ie.min();t.forEach(((o,a)=>{a.readTime.compareTo(s)>0&&(s=a.readTime)})),n.Os.set(e,s)}class KA{constructor(){this.activeTargetIds=cP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ek{constructor(){this.Mo=new KA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new KA,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="ConnectivityMonitor";class GA{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue($A,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue($A,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yc=null;function lp(){return yc===null?yc=(function(){return 268435456+Math.round(2147483648*Math.random())})():yc++,"0x"+yc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If="RestConnection",Tk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ik{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Wc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,a){const c=lp(),d=this.zo(e,t.toUriEncodedString());ue(If,`Sending RPC '${e}' ${c}:`,d,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,a);const{host:y}=new URL(d),v=Zo(y);return this.Jo(e,d,p,s,v).then((E=>(ue(If,`Received RPC '${e}' ${c}: `,E),E)),(E=>{throw Qo(If,`RPC '${e}' ${c} failed with error: `,E,"url: ",d,"request:",s),E}))}Ho(e,t,s,o,a,c){return this.Go(e,t,s,o,a)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+na})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,a)=>e[a]=o)),s&&s.headers.forEach(((o,a)=>e[a]=o))}zo(e,t){const s=Tk[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class xk extends Ik{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,a){const c=lp();return new Promise(((d,p)=>{const y=new q_;y.setWithCredentials(!0),y.listenOnce(Q_.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case wc.NO_ERROR:const E=y.getResponseJson();ue(Wt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),d(E);break;case wc.TIMEOUT:ue(Wt,`RPC '${e}' ${c} timed out`),p(new me(ee.DEADLINE_EXCEEDED,"Request time out"));break;case wc.HTTP_ERROR:const T=y.getStatus();if(ue(Wt,`RPC '${e}' ${c} failed with status:`,T,"response text:",y.getResponseText()),T>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const b=L==null?void 0:L.error;if(b&&b.status&&b.message){const O=(function(q){const U=q.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(U)>=0?U:ee.UNKNOWN})(b.status);p(new me(O,b.message))}else p(new me(ee.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new me(ee.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:c,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ue(Wt,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(o);ue(Wt,`RPC '${e}' ${c} sending request:`,o),y.send(t,"POST",v,s,15)}))}T_(e,t,s){const o=lp(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=G_(),d=$_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const v=a.join("");ue(Wt,`Creating RPC '${e}' stream ${o}: ${v}`,p);const E=c.createWebChannel(v,p);this.I_(E);let T=!1,L=!1;const b=new Sk({Yo:C=>{L?ue(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,C):(T||(ue(Wt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),T=!0),ue(Wt,`RPC '${e}' stream ${o} sending:`,C),E.send(C))},Zo:()=>E.close()}),O=(C,q,U)=>{C.listen(q,(W=>{try{U(W)}catch(X){setTimeout((()=>{throw X}),0)}}))};return O(E,ol.EventType.OPEN,(()=>{L||(ue(Wt,`RPC '${e}' stream ${o} transport opened.`),b.o_())})),O(E,ol.EventType.CLOSE,(()=>{L||(L=!0,ue(Wt,`RPC '${e}' stream ${o} transport closed`),b.a_(),this.E_(E))})),O(E,ol.EventType.ERROR,(C=>{L||(L=!0,Qo(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,C.name,"Message:",C.message),b.a_(new me(ee.UNAVAILABLE,"The operation could not be completed")))})),O(E,ol.EventType.MESSAGE,(C=>{var q;if(!L){const U=C.data[0];We(!!U,16349);const W=U,X=(W==null?void 0:W.error)||((q=W[0])==null?void 0:q.error);if(X){ue(Wt,`RPC '${e}' stream ${o} received error:`,X);const oe=X.status;let de=(function(x){const k=mt[x];if(k!==void 0)return R0(k)})(oe),N=X.message;de===void 0&&(de=ee.INTERNAL,N="Unknown error status: "+oe+" with message "+X.message),L=!0,b.a_(new me(de,N)),E.close()}else ue(Wt,`RPC '${e}' stream ${o} received:`,U),b.u_(U)}})),O(d,K_.STAT_EVENT,(C=>{C.stat===Xf.PROXY?ue(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):C.stat===Xf.NOPROXY&&ue(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{b.__()}),0),b}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Sf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(n){return new kP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,t,s=1e3,o=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="PersistentStream";class H0{constructor(e,t,s,o,a,c,d,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new z0(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(Jr(t.toString()),Jr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new me(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(XA,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ue(XA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Ck extends H0{constructor(e,t,s,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,c),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=OP(this.serializer,e),s=(function(a){if(!("targetChange"in a))return Ie.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Ie.min():c.readTime?_r(c.readTime):Ie.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=op(this.serializer),t.addTarget=(function(a,c){let d;const p=c.target;if(d=tp(p)?{documents:VP(a,p)}:{query:MP(a,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=N0(a,c.resumeToken);const y=rp(a,c.expectedCount);y!==null&&(d.expectedCount=y)}else if(c.snapshotVersion.compareTo(Ie.min())>0){d.readTime=Gc(a,c.snapshotVersion.toTimestamp());const y=rp(a,c.expectedCount);y!==null&&(d.expectedCount=y)}return d})(this.serializer,e);const s=UP(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=op(this.serializer),t.removeTarget=e,this.q_(t)}}class Rk extends H0{constructor(e,t,s,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,c),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=LP(e.writeResults,e.commitTime),s=_r(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=op(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>DP(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{}class kk extends Pk{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new me(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Go(e,sp(t,s),o,a,c))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new me(ee.UNKNOWN,a.toString())}))}Ho(e,t,s,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,sp(t,s),o,c,d,a))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(ee.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Nk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Jr(t),this.aa=!1):ue("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="RemoteStore";class bk{constructor(e,t,s,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Bi(this)&&(ue(Li,"Restarting streams for network reachability change."),await(async function(p){const y=Se(p);y.Ea.add(4),await Wl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await xh(y)})(this))}))})),this.Ra=new Nk(s,o)}}async function xh(n){if(Bi(n))for(const e of n.da)await e(!0)}async function Wl(n){for(const e of n.da)await e(!1)}function W0(n,e){const t=Se(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Zp(t)?Yp(t):ia(t).O_()&&Jp(t,e))}function Xp(n,e){const t=Se(n),s=ia(t);t.Ia.delete(e),s.O_()&&q0(t,e),t.Ia.size===0&&(s.O_()?s.L_():Bi(t)&&t.Ra.set("Unknown"))}function Jp(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ia(n).Y_(e)}function q0(n,e){n.Va.Ue(e),ia(n).Z_(e)}function Yp(n){n.Va=new xP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),ia(n).start(),n.Ra.ua()}function Zp(n){return Bi(n)&&!ia(n).x_()&&n.Ia.size>0}function Bi(n){return Se(n).Ea.size===0}function Q0(n){n.Va=void 0}async function Ok(n){n.Ra.set("Online")}async function Dk(n){n.Ia.forEach(((e,t)=>{Jp(n,e)}))}async function Lk(n,e){Q0(n),Zp(n)?(n.Ra.ha(e),Yp(n)):n.Ra.set("Unknown")}async function Vk(n,e,t){if(n.Ra.set("Online"),e instanceof k0&&e.state===2&&e.cause)try{await(async function(o,a){const c=a.cause;for(const d of a.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.Va.removeTarget(d))})(n,e)}catch(s){ue(Li,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Jc(n,s)}else if(e instanceof xc?n.Va.Ze(e):e instanceof P0?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ie.min()))try{const s=await B0(n.localStore);t.compareTo(s)>=0&&await(function(a,c){const d=a.Va.Tt(c);return d.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const v=a.Ia.get(y);v&&a.Ia.set(y,v.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,y)=>{const v=a.Ia.get(p);if(!v)return;a.Ia.set(p,v.withResumeToken(Ut.EMPTY_BYTE_STRING,v.snapshotVersion)),q0(a,p);const E=new bs(v.target,p,y,v.sequenceNumber);Jp(a,E)})),a.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(s){ue(Li,"Failed to raise snapshot:",s),await Jc(n,s)}}async function Jc(n,e,t){if(!sa(e))throw e;n.Ea.add(1),await Wl(n),n.Ra.set("Offline"),t||(t=()=>B0(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ue(Li,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await xh(n)}))}function K0(n,e){return e().catch((t=>Jc(n,t,e)))}async function Ch(n){const e=Se(n),t=Ws(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Mp;for(;Mk(e);)try{const o=await Ak(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,jk(e,o)}catch(o){await Jc(e,o)}$0(e)&&G0(e)}function Mk(n){return Bi(n)&&n.Ta.length<10}function jk(n,e){n.Ta.push(e);const t=Ws(n);t.O_()&&t.X_&&t.ea(e.mutations)}function $0(n){return Bi(n)&&!Ws(n).x_()&&n.Ta.length>0}function G0(n){Ws(n).start()}async function Uk(n){Ws(n).ra()}async function Fk(n){const e=Ws(n);for(const t of n.Ta)e.ea(t.mutations)}async function Bk(n,e,t){const s=n.Ta.shift(),o=Hp.from(s,e,t);await K0(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Ch(n)}async function zk(n,e){e&&Ws(n).X_&&await(async function(s,o){if((function(c){return TP(c)&&c!==ee.ABORTED})(o.code)){const a=s.Ta.shift();Ws(s).B_(),await K0(s,(()=>s.remoteSyncer.rejectFailedWrite(a.batchId,o))),await Ch(s)}})(n,e),$0(n)&&G0(n)}async function JA(n,e){const t=Se(n);t.asyncQueue.verifyOperationInProgress(),ue(Li,"RemoteStore received new credentials");const s=Bi(t);t.Ea.add(3),await Wl(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await xh(t)}async function Hk(n,e){const t=Se(n);e?(t.Ea.delete(2),await xh(t)):e||(t.Ea.add(2),await Wl(t),t.Ra.set("Unknown"))}function ia(n){return n.ma||(n.ma=(function(t,s,o){const a=Se(t);return a.sa(),new Ck(s,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Xo:Ok.bind(null,n),t_:Dk.bind(null,n),r_:Lk.bind(null,n),H_:Vk.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Zp(n)?Yp(n):n.Ra.set("Unknown")):(await n.ma.stop(),Q0(n))}))),n.ma}function Ws(n){return n.fa||(n.fa=(function(t,s,o){const a=Se(t);return a.sa(),new Rk(s,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:Uk.bind(null,n),r_:zk.bind(null,n),ta:Fk.bind(null,n),na:Bk.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Ch(n)):(await n.fa.stop(),n.Ta.length>0&&(ue(Li,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,t,s,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=a,this.deferred=new js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,a){const c=Date.now()+s,d=new em(e,t,c,o,a);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tm(n,e){if(Jr("AsyncQueue",`${e}: ${n}`),sa(n))return new me(ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{static emptySet(e){return new zo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||_e.comparator(t.key,s.key):(t,s)=>_e.comparator(t.key,s.key),this.keyedMap=al(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof zo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=s.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new zo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(){this.ga=new at(_e.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):we(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Jo{constructor(e,t,s,o,a,c,d,p,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,o,a){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new Jo(e,t,zo.emptySet(t),c,s,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class qk{constructor(){this.queries=ZA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Se(t),a=o.queries;o.queries=ZA(),a.forEach(((c,d)=>{for(const p of d.Sa)p.onError(s)}))})(this,new me(ee.ABORTED,"Firestore shutting down"))}}function ZA(){return new Ui((n=>m0(n)),_h)}async function X0(n,e){const t=Se(n);let s=3;const o=e.query;let a=t.queries.get(o);a?!a.ba()&&e.Da()&&(s=2):(a=new Wk,s=e.Da()?0:1);try{switch(s){case 0:a.wa=await t.onListen(o,!0);break;case 1:a.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=tm(c,`Initialization of query '${Vo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&nm(t)}async function J0(n,e){const t=Se(n),s=e.query;let o=3;const a=t.queries.get(s);if(a){const c=a.Sa.indexOf(e);c>=0&&(a.Sa.splice(c,1),a.Sa.length===0?o=e.Da()?0:1:!a.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function Qk(n,e){const t=Se(n);let s=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const d of c.Sa)d.Fa(o)&&(s=!0);c.wa=o}}s&&nm(t)}function Kk(n,e,t){const s=Se(n),o=s.queries.get(e);if(o)for(const a of o.Sa)a.onError(t);s.queries.delete(e)}function nm(n){n.Ca.forEach((e=>{e.next()}))}var up,ev;(ev=up||(up={})).Ma="default",ev.Cache="cache";class Y0{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Jo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==up.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e){this.key=e}}class eE{constructor(e){this.key=e}}class $k{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Oe(),this.mutatedKeys=Oe(),this.eu=g0(e),this.tu=new zo(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new YA,o=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,E)=>{const T=o.get(v),L=Eh(this.query,E)?E:null,b=!!T&&this.mutatedKeys.has(T.key),O=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let C=!1;T&&L?T.data.isEqual(L.data)?b!==O&&(s.track({type:3,doc:L}),C=!0):this.su(T,L)||(s.track({type:2,doc:L}),C=!0,(p&&this.eu(L,p)>0||y&&this.eu(L,y)<0)&&(d=!0)):!T&&L?(s.track({type:0,doc:L}),C=!0):T&&!L&&(s.track({type:1,doc:T}),C=!0,(p||y)&&(d=!0)),C&&(L?(c=c.add(L),a=O?a.add(v):a.delete(v)):(c=c.delete(v),a=a.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),a=a.delete(v.key),s.track({type:1,doc:v})}return{tu:c,iu:s,Cs:d,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,E)=>(function(L,b){const O=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Rt:C})}};return O(L)-O(b)})(v.type,E.type)||this.eu(v.doc,E.doc))),this.ou(s),o=o??!1;const d=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,c.length!==0||y?{snapshot:new Jo(this.query,e.tu,a,c,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new YA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Oe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new eE(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new Z0(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=Oe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Jo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const rm="SyncEngine";class Gk{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Xk{constructor(e){this.key=e,this.hu=!1}}class Jk{constructor(e,t,s,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ui((d=>m0(d)),_h),this.Iu=new Map,this.Eu=new Set,this.du=new at(_e.comparator),this.Au=new Map,this.Ru=new Qp,this.Vu={},this.mu=new Map,this.fu=Xo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Yk(n,e,t=!0){const s=oE(n);let o;const a=s.Tu.get(e);return a?(s.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await tE(s,e,t,!0),o}async function Zk(n,e){const t=oE(n);await tE(t,e,!0,!1)}async function tE(n,e,t,s){const o=await vk(n.localStore,vr(e)),a=o.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let d;return s&&(d=await eN(n,e,a,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&W0(n.remoteStore,o),d}async function eN(n,e,t,s,o){n.pu=(E,T,L)=>(async function(O,C,q,U){let W=C.view.ru(q);W.Cs&&(W=await QA(O.localStore,C.query,!1).then((({documents:N})=>C.view.ru(N,W))));const X=U&&U.targetChanges.get(C.targetId),oe=U&&U.targetMismatches.get(C.targetId)!=null,de=C.view.applyChanges(W,O.isPrimaryClient,X,oe);return nv(O,C.targetId,de.au),de.snapshot})(n,E,T,L);const a=await QA(n.localStore,e,!0),c=new $k(e,a.Qs),d=c.ru(a.documents),p=Hl.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),y=c.applyChanges(d,n.isPrimaryClient,p);nv(n,t,y.au);const v=new Gk(e,t,c);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),y.snapshot}async function tN(n,e,t){const s=Se(n),o=s.Tu.get(e),a=s.Iu.get(o.targetId);if(a.length>1)return s.Iu.set(o.targetId,a.filter((c=>!_h(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ap(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Xp(s.remoteStore,o.targetId),cp(s,o.targetId)})).catch(ra)):(cp(s,o.targetId),await ap(s.localStore,o.targetId,!0))}async function nN(n,e){const t=Se(n),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Xp(t.remoteStore,s.targetId))}async function rN(n,e,t){const s=cN(n);try{const o=await(function(c,d){const p=Se(c),y=tt.now(),v=d.reduce(((L,b)=>L.add(b.key)),Oe());let E,T;return p.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let b=Yr(),O=Oe();return p.Ns.getEntries(L,v).next((C=>{b=C,b.forEach(((q,U)=>{U.isValidDocument()||(O=O.add(q))}))})).next((()=>p.localDocuments.getOverlayedDocuments(L,b))).next((C=>{E=C;const q=[];for(const U of d){const W=AP(U,E.get(U.key).overlayedDocument);W!=null&&q.push(new Fi(U.key,W,l0(W.value.mapValue),Kr.exists(!0)))}return p.mutationQueue.addMutationBatch(L,y,q,d)})).next((C=>{T=C;const q=C.applyToLocalDocumentSet(E,O);return p.documentOverlayCache.saveOverlays(L,C.batchId,q)}))})).then((()=>({batchId:T.batchId,changes:A0(E)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(c,d,p){let y=c.Vu[c.currentUser.toKey()];y||(y=new at(be)),y=y.insert(d,p),c.Vu[c.currentUser.toKey()]=y})(s,o.batchId,t),await ql(s,o.changes),await Ch(s.remoteStore)}catch(o){const a=tm(o,"Failed to persist write");t.reject(a)}}async function nE(n,e){const t=Se(n);try{const s=await gk(t.localStore,e);e.targetChanges.forEach(((o,a)=>{const c=t.Au.get(a);c&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?We(c.hu,14607):o.removedDocuments.size>0&&(We(c.hu,42227),c.hu=!1))})),await ql(t,s,e)}catch(s){await ra(s)}}function tv(n,e,t){const s=Se(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((a,c)=>{const d=c.view.va(e);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const p=Se(c);p.onlineState=d;let y=!1;p.queries.forEach(((v,E)=>{for(const T of E.Sa)T.va(d)&&(y=!0)})),y&&nm(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function sN(n,e,t){const s=Se(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),a=o&&o.key;if(a){let c=new at(_e.comparator);c=c.insert(a,Qt.newNoDocument(a,Ie.min()));const d=Oe().add(a),p=new Ih(Ie.min(),new Map,new at(be),c,d);await nE(s,p),s.du=s.du.remove(a),s.Au.delete(e),sm(s)}else await ap(s.localStore,e,!1).then((()=>cp(s,e,t))).catch(ra)}async function iN(n,e){const t=Se(n),s=e.batch.batchId;try{const o=await mk(t.localStore,e);sE(t,s,null),rE(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await ql(t,o)}catch(o){await ra(o)}}async function oN(n,e,t){const s=Se(n);try{const o=await(function(c,d){const p=Se(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let v;return p.mutationQueue.lookupMutationBatch(y,d).next((E=>(We(E!==null,37113),v=E.keys(),p.mutationQueue.removeMutationBatch(y,E)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,v,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v))).next((()=>p.localDocuments.getDocuments(y,v)))}))})(s.localStore,e);sE(s,e,t),rE(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await ql(s,o)}catch(o){await ra(o)}}function rE(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function sE(n,e,t){const s=Se(n);let o=s.Vu[s.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function cp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((s=>{n.Ru.containsKey(s)||iE(n,s)}))}function iE(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Xp(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),sm(n))}function nv(n,e,t){for(const s of t)s instanceof Z0?(n.Ru.addReference(s.key,e),aN(n,s)):s instanceof eE?(ue(rm,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,e),n.Ru.containsKey(s.key)||iE(n,s.key)):we(19791,{wu:s})}function aN(n,e){const t=e.key,s=t.path.canonicalString();n.du.get(t)||n.Eu.has(s)||(ue(rm,"New document in limbo: "+t),n.Eu.add(s),sm(n))}function sm(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new _e(ot.fromString(e)),s=n.fu.next();n.Au.set(s,new Xk(t)),n.du=n.du.insert(t,s),W0(n.remoteStore,new bs(vr(vh(t.path)),s,"TargetPurposeLimboResolution",mh.ce))}}async function ql(n,e,t){const s=Se(n),o=[],a=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,p)=>{c.push(s.pu(p,e,t).then((y=>{var v;if((y||t)&&s.isPrimaryClient){const E=y?!y.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))==null?void 0:v.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=$p.As(p.targetId,y);a.push(E)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(p,y){const v=Se(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>J.forEach(y,(T=>J.forEach(T.Es,(L=>v.persistence.referenceDelegate.addReference(E,T.targetId,L))).next((()=>J.forEach(T.ds,(L=>v.persistence.referenceDelegate.removeReference(E,T.targetId,L)))))))))}catch(E){if(!sa(E))throw E;ue(Gp,"Failed to update sequence numbers: "+E)}for(const E of y){const T=E.targetId;if(!E.fromCache){const L=v.Ms.get(T),b=L.snapshotVersion,O=L.withLastLimboFreeSnapshotVersion(b);v.Ms=v.Ms.insert(T,O)}}})(s.localStore,a))}async function lN(n,e){const t=Se(n);if(!t.currentUser.isEqual(e)){ue(rm,"User change. New user:",e.toKey());const s=await F0(t.localStore,e);t.currentUser=e,(function(a,c){a.mu.forEach((d=>{d.forEach((p=>{p.reject(new me(ee.CANCELLED,c))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ql(t,s.Ls)}}function uN(n,e){const t=Se(n),s=t.Au.get(e);if(s&&s.hu)return Oe().add(s.key);{let o=Oe();const a=t.Iu.get(e);if(!a)return o;for(const c of a){const d=t.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function oE(n){const e=Se(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=nE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sN.bind(null,e),e.Pu.H_=Qk.bind(null,e.eventManager),e.Pu.yu=Kk.bind(null,e.eventManager),e}function cN(n){const e=Se(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oN.bind(null,e),e}class Yc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return pk(this.persistence,new hk,e.initialUser,this.serializer)}Cu(e){return new U0(Kp.mi,this.serializer)}Du(e){return new Ek}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yc.provider={build:()=>new Yc};class hN extends Yc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){We(this.persistence.referenceDelegate instanceof Xc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new XP(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new U0((s=>Xc.mi(s,t)),this.serializer)}}class hp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>tv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=lN.bind(null,this.syncEngine),await Hk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new qk})()}createDatastore(e){const t=Sh(e.databaseInfo.databaseId),s=(function(a){return new xk(a)})(e.databaseInfo);return(function(a,c,d,p){return new kk(a,c,d,p)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,a,c,d){return new bk(s,o,a,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>tv(this.syncEngine,t,0)),(function(){return GA.v()?new GA:new wk})())}createSyncEngine(e,t){return(function(o,a,c,d,p,y,v){const E=new Jk(o,a,c,d,p,y);return v&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const a=Se(o);ue(Li,"RemoteStore shutting down."),a.Ea.add(5),await Wl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}hp.provider={build:()=>new hp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Jr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="FirestoreClient";class dN{constructor(e,t,s,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=qt.UNAUTHENTICATED,this.clientId=Lp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(s,(async c=>{ue(qs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ue(qs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=tm(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function xf(n,e){n.asyncQueue.verifyOperationInProgress(),ue(qs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async o=>{s.isEqual(o)||(await F0(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function rv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await fN(n);ue(qs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>JA(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,o)=>JA(e.remoteStore,o))),n._onlineComponents=e}async function fN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue(qs,"Using user provided OfflineComponentProvider");try{await xf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Qo("Error using user provided cache. Falling back to memory cache: "+t),await xf(n,new Yc)}}else ue(qs,"Using default OfflineComponentProvider"),await xf(n,new hN(void 0));return n._offlineComponents}async function lE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue(qs,"Using user provided OnlineComponentProvider"),await rv(n,n._uninitializedComponentsProvider._online)):(ue(qs,"Using default OnlineComponentProvider"),await rv(n,new hp))),n._onlineComponents}function pN(n){return lE(n).then((e=>e.syncEngine))}async function dp(n){const e=await lE(n),t=e.eventManager;return t.onListen=Yk.bind(null,e.syncEngine),t.onUnlisten=tN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Zk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=nN.bind(null,e.syncEngine),t}function mN(n,e,t={}){const s=new js;return n.asyncQueue.enqueueAndForget((async()=>(function(a,c,d,p,y){const v=new aE({next:T=>{v.Nu(),c.enqueueAndForget((()=>J0(a,E)));const L=T.docs.has(d);!L&&T.fromCache?y.reject(new me(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&T.fromCache&&p&&p.source==="server"?y.reject(new me(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(T)},error:T=>y.reject(T)}),E=new Y0(vh(d.path),v,{includeMetadataChanges:!0,qa:!0});return X0(a,E)})(await dp(n),n.asyncQueue,e,t,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="firestore.googleapis.com",iv=!0;class ov{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cE,this.ssl=iv}else this.host=e.host,this.ssl=e.ssl??iv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=j0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$P)throw new me(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uE(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class im{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ov({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ov(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new vR;switch(s.type){case"firstParty":return new TR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=sv.get(t);s&&(ue("ComponentProvider","Removing Datastore"),sv.delete(t),s.terminate())})(this),Promise.resolve()}}function gN(n,e,t,s={}){var y;n=Us(n,im);const o=Zo(e),a=n._getSettings(),c={...a,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;o&&(t_(`https://${d}`),n_("Firestore",!0)),a.host!==cE&&a.host!==d&&Qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...a,host:d,ssl:o,emulatorOptions:s};if(!ki(p,c)&&(n._setSettings(p),s.mockUserToken)){let v,E;if(typeof s.mockUserToken=="string")v=s.mockUserToken,E=qt.MOCK_USER;else{v=SI(s.mockUserToken,(y=n._app)==null?void 0:y.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new me(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new qt(T)}n._authCredentials=new _R(new J_(v,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Rh(this.firestore,e,this._query)}}class St{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new St(this.firestore,e,this._key)}toJSON(){return{type:St._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Bl(t,St._jsonSchema))return new St(e,s||null,new _e(ot.fromString(t.referencePath)))}}St._jsonSchemaVersion="firestore/documentReference/1.0",St._jsonSchema={type:gt("string",St._jsonSchemaVersion),referencePath:gt("string")};class Pl extends Rh{constructor(e,t,s){super(e,t,vh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new _e(e))}withConverter(e){return new Pl(this.firestore,e,this._path)}}function Cf(n,e,...t){if(n=pn(n),arguments.length===1&&(e=Lp.newId()),PR("doc","path",e),n instanceof im){const s=ot.fromString(e,...t);return _A(s),new St(n,null,new _e(s))}{if(!(n instanceof St||n instanceof Pl))throw new me(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ot.fromString(e,...t));return _A(s),new St(n.firestore,n instanceof Pl?n.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="AsyncQueue";class lv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new z0(this,"async_queue_retry"),this._c=()=>{const s=Sf();s&&ue(av,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Sf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Sf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new js;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!sa(e))throw e;ue(av,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Jr("INTERNAL UNHANDLED ERROR: ",uv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=em.createAndSchedule(this,e,t,s,(a=>this.hc(a)));return this.tc.push(o),o}uc(){this.nc&&we(47125,{Pc:uv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function uv(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(n){return(function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const a of s)if(a in o&&typeof o[a]=="function")return!0;return!1})(n,["next","error","complete"])}class kl extends im{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new lv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lv(e),this._firestoreClient=void 0,await e}}}function yN(n,e){const t=typeof n=="object"?n:o_(),s=typeof n=="string"?n:Wc,o=Tp(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const a=TI("firestore");a&&gN(o,...a)}return o}function om(n){if(n._terminated)throw new me(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||AN(n),n._firestoreClient}function AN(n){var s,o,a;const e=n._freezeSettings(),t=(function(d,p,y,v){return new BR(d,p,y,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,uE(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(n._databaseId,((s=n._app)==null?void 0:s.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new dN(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dn(Ut.fromBase64String(e))}catch(t){throw new me(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Dn(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Bl(e,Dn._jsonSchema))return Dn.fromBase64String(e.bytes)}}Dn._jsonSchemaVersion="firestore/bytes/1.0",Dn._jsonSchema={type:gt("string",Dn._jsonSchemaVersion),bytes:gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Er._jsonSchemaVersion}}static fromJSON(e){if(Bl(e,Er._jsonSchema))return new Er(e.latitude,e.longitude)}}Er._jsonSchemaVersion="firestore/geoPoint/1.0",Er._jsonSchema={type:gt("string",Er._jsonSchemaVersion),latitude:gt("number"),longitude:gt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let a=0;a<s.length;++a)if(s[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:wr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Bl(e,wr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new wr(e.vectorValues);throw new me(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wr._jsonSchemaVersion="firestore/vectorValue/1.0",wr._jsonSchema={type:gt("string",wr._jsonSchemaVersion),vectorValues:gt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=/^__.*__$/;class _N{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Fi(e,this.data,this.fieldMask,t,this.fieldTransforms):new zl(e,this.data,t,this.fieldTransforms)}}function hE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ac:n})}}class um{constructor(e,t,s,o,a,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new um({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Zc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(hE(this.Ac)&&vN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class EN{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Sh(e)}Cc(e,t,s,o=!1){return new um({Ac:e,methodName:t,Dc:s,path:jt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wN(n){const e=n._freezeSettings(),t=Sh(n._databaseId);return new EN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function TN(n,e,t,s,o,a={}){const c=n.Cc(a.merge||a.mergeFields?2:0,e,t,o);mE("Data must be an object, but it was:",c,s);const d=fE(s,c);let p,y;if(a.merge)p=new er(c.fieldMask),y=c.fieldTransforms;else if(a.mergeFields){const v=[];for(const E of a.mergeFields){const T=IN(e,E,t);if(!c.contains(T))throw new me(ee.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);xN(v,T)||v.push(T)}p=new er(v),y=c.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,y=c.fieldTransforms;return new _N(new On(d),p,y)}class cm extends lm{_toFieldTransform(e){return new pP(e.path,new xl)}isEqual(e){return e instanceof cm}}function dE(n,e){if(pE(n=pn(n)))return mE("Unsupported field value:",e,n),fE(n,e);if(n instanceof lm)return(function(s,o){if(!hE(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const a=s._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const a=[];let c=0;for(const d of s){let p=dE(d,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),c++}return{arrayValue:{values:a}}})(n,e)}return(function(s,o){if((s=pn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return hP(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const a=tt.fromDate(s);return{timestampValue:Gc(o.serializer,a)}}if(s instanceof tt){const a=new tt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Gc(o.serializer,a)}}if(s instanceof Er)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Dn)return{bytesValue:N0(o.serializer,s._byteString)};if(s instanceof St){const a=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(a))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:qp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof wr)return(function(c,d){return{mapValue:{fields:{[o0]:{stringValue:a0},[qc]:{arrayValue:{values:c.toArray().map((y=>{if(typeof y!="number")throw d.Sc("VectorValues must only contain numeric values.");return zp(d.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Vp(s)}`)})(n,e)}function fE(n,e){const t={};return e0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ji(n,((s,o)=>{const a=dE(o,e.mc(s));a!=null&&(t[s]=a)})),{mapValue:{fields:t}}}function pE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof tt||n instanceof Er||n instanceof Dn||n instanceof St||n instanceof lm||n instanceof wr)}function mE(n,e,t){if(!pE(t)||!Y_(t)){const s=Vp(t);throw s==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+s)}}function IN(n,e,t){if((e=pn(e))instanceof am)return e._internalPath;if(typeof e=="string")return gE(n,e);throw Zc("Field path arguments must be of type string or ",n,!1,void 0,t)}const SN=new RegExp("[~\\*/\\[\\]]");function gE(n,e,t){if(e.search(SN)>=0)throw Zc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new am(...e.split("."))._internalPath}catch{throw Zc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Zc(n,e,t,s,o){const a=s&&!s.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(a||c)&&(p+=" (found",a&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new me(ee.INVALID_ARGUMENT,d+n+p)}function xN(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,t,s,o,a){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(AE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class CN extends yE{data(){return super.data()}}function AE(n,e){return typeof e=="string"?gE(n,e):e instanceof am?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new me(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class PN{convertValue(e,t="none"){switch(Hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ji(e,((o,a)=>{s[o]=this.convertValue(a,t)})),s}convertVectorValue(e){var s,o,a;const t=(a=(o=(s=e.fields)==null?void 0:s[qc].arrayValue)==null?void 0:o.values)==null?void 0:a.map((c=>dt(c.doubleValue)));return new wr(t)}convertGeoPoint(e){return new Er(dt(e.latitude),dt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=yh(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Tl(e));default:return null}}convertTimestamp(e){const t=Bs(e);return new tt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ot.fromString(e);We(M0(s),9688,{name:e});const o=new Il(s.get(1),s.get(3)),a=new _e(s.popFirst(5));return o.isEqual(t)||Jr(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class ul{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ci extends yE{constructor(e,t,s,o,a,c){super(e,t,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Cc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(AE("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ci._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ci._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ci._jsonSchema={type:gt("string",Ci._jsonSchemaVersion),bundleSource:gt("string","DocumentSnapshot"),bundleName:gt("string"),bundle:gt("string")};class Cc extends Ci{data(e={}){return super.data(e)}}class Ho{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ul(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Cc(this._firestore,this._userDataWriter,s.key,s,new ul(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const p=new Cc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new ul(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const p=new Cc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new ul(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,v=-1;return d.type!==0&&(y=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:NN(d.type),doc:p,oldIndex:y,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ho._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),s.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function NN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(n){n=Us(n,St);const e=Us(n.firestore,kl);return mN(om(e),n._key).then((t=>_E(e,n,t)))}Ho._jsonSchemaVersion="firestore/querySnapshot/1.0",Ho._jsonSchema={type:gt("string",Ho._jsonSchemaVersion),bundleSource:gt("string","QuerySnapshot"),bundleName:gt("string"),bundle:gt("string")};class vE extends PN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,t)}}function ON(n,e,t){n=Us(n,St);const s=Us(n.firestore,kl),o=kN(n.converter,e,t);return LN(s,[TN(wN(s),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Kr.none())])}function DN(n,...e){var p,y,v;n=pn(n);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||cv(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(cv(e[s])){const E=e[s];e[s]=(p=E.next)==null?void 0:p.bind(E),e[s+1]=(y=E.error)==null?void 0:y.bind(E),e[s+2]=(v=E.complete)==null?void 0:v.bind(E)}let a,c,d;if(n instanceof St)c=Us(n.firestore,kl),d=vh(n._key.path),a={next:E=>{e[s]&&e[s](_E(c,n,E))},error:e[s+1],complete:e[s+2]};else{const E=Us(n,Rh);c=Us(E.firestore,kl),d=E._query;const T=new vE(c);a={next:L=>{e[s]&&e[s](new Ho(c,T,E,L))},error:e[s+1],complete:e[s+2]},RN(n._query)}return(function(T,L,b,O){const C=new aE(O),q=new Y0(L,C,b);return T.asyncQueue.enqueueAndForget((async()=>X0(await dp(T),q))),()=>{C.Nu(),T.asyncQueue.enqueueAndForget((async()=>J0(await dp(T),q)))}})(om(c),d,o,a)}function LN(n,e){return(function(s,o){const a=new js;return s.asyncQueue.enqueueAndForget((async()=>rN(await pN(s),o,a))),a.promise})(om(n),e)}function _E(n,e,t){const s=t.docs.get(e._key),o=new vE(n);return new Ci(n,o,e._key,s,new ul(t.hasPendingWrites,t.fromCache),e.converter)}function VN(){return new cm("serverTimestamp")}(function(e,t=!0){(function(o){na=o})(ea),qo(new Ni("firestore",((s,{instanceIdentifier:o,options:a})=>{const c=s.getProvider("app").getImmediate(),d=new kl(new ER(s.getProvider("auth-internal")),new IR(c,s.getProvider("app-check-internal")),(function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new me(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Il(y.options.projectId,v)})(c,o),c);return a={useFetchStreams:t,...a},d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),Vs(gA,yA,e),Vs(gA,yA,"esm2020")})();const MN={apiKey:"AIzaSyCr1UnmM14gQE1TfcuQSsv37TrLPg7OECI",authDomain:"lets-v-9ee3f.firebaseapp.com",projectId:"lets-v-9ee3f",storageBucket:"lets-v-9ee3f.firebasestorage.app",messagingSenderId:"532091645528",appId:"1:532091645528:web:2f18c12362e81e9619a42d",measurementId:"G-DQVLJJXBPP"},EE=i_(MN),wn=yR(EE),Rf=yN(EE),en=H.createContext(),Pf="guest_cart_v1",jN=n=>{const e="Rs. ",[s,o]=H.useState(""),[a,c]=H.useState(!1),[d,p]=H.useState({}),[y,v]=H.useState([]),[E,T]=H.useState(!0),L=_p(),b=()=>{try{return JSON.parse(localStorage.getItem(Pf)||"{}")}catch{return{}}},O=x=>{localStorage.setItem(Pf,JSON.stringify(x))},C=async x=>{const k=wn.currentUser;if(k)try{await ON(Cf(Rf,"carts",k.uid),{items:x,updatedAt:VN()},{merge:!0})}catch(D){console.error(D),ke.error("Error saving cart")}},q=async(x,k)=>{if(!k){ke.error("Select Product Size");return}const D=`${x}_${k}`,M=structuredClone(d);M[D]=(M[D]||0)+1,p(M),wn.currentUser?C(M):O(M)},U=async(x,k,D)=>{const M=`${x}_${k}`,P=structuredClone(d);D>0?P[M]=D:delete P[M],p(P),wn.currentUser?C(P):O(P)},W=async(x,k)=>{const D=`${x}_${k}`,M=structuredClone(d);delete M[D],p(M),wn.currentUser?C(M):O(M)},X=()=>{let x=0;for(const k in d){const[D]=k.split("_");y.some(P=>P._id===D)&&(x+=d[k])}return x},oe=()=>{let x=0;for(const k in d){const[D]=k.split("_"),M=y.find(P=>P._id===D);M&&(x+=M.price*d[k])}return x},de=async()=>{try{const k=await(await fetch("http://localhost:4000/api/product/list")).json();k.success?v(k.products.reverse()):ke.error(k.message)}catch(x){console.error(x),ke.error(x.message)}},N=async x=>{const k=b();if(Object.keys(k).length===0)return;const D=Cf(Rf,"carts",x);try{const M=await bN(D),Ye={...M.exists()?M.data().items:{},...k};await C(Ye),localStorage.removeItem(Pf)}catch(M){console.error(M)}};H.useEffect(()=>{de();const x=wn.onAuthStateChanged(async k=>{if(k){await N(k.uid);const D=Cf(Rf,"carts",k.uid),M=DN(D,P=>{P.exists()?p(P.data().items||{}):p({}),T(!1)});return()=>M()}else p(b()),T(!1)});return()=>x()},[]);const S={products:y,currency:e,delivery_fee:10,search:s,setSearch:o,showSearch:a,setShowSearch:c,cartItems:d,addToCart:q,setCartItems:p,getCartCount:X,updateQuantity:U,getCartAmount:oe,removeFromCart:W,navigate:L,loadingCart:E,clearCart:()=>p({})};return _.jsx(en.Provider,{value:S,children:n.children})},Vn=({text1:n,text2:e})=>_.jsxs("div",{className:"inline-flex gap-2 items-center mb-3",children:[_.jsxs("p",{className:"text-gray-500",children:[n," ",_.jsx("span",{className:"text-gray-700 font-medium",children:e})]}),_.jsx("p",{className:"w-8 sm:w-12 h-[1px] sm:h-[2px] bg-gray-700"})]}),Ph=({id:n,image:e,name:t,price:s})=>{const{currency:o}=H.useContext(en);return _.jsxs(Oc,{onClick:()=>scrollTo(0,0),className:"block bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300 cursor-pointer",to:`/product/${n}`,children:[_.jsx("div",{className:"overflow-hidden",children:_.jsx("img",{className:"w-full object-contain hover:scale-105 transition-transform duration-300 ease-in-out",src:e[0],alt:t})}),_.jsxs("div",{className:"p-4",children:[_.jsx("p",{className:"text-gray-800 font-semibold text-sm sm:text-base truncate",children:t}),_.jsxs("p",{className:"text-gray-600 text-sm sm:text-base font-medium mt-2",children:[o,s]})]})]})},UN=()=>{const{products:n}=H.useContext(en),[e,t]=H.useState([]);return H.useEffect(()=>{t(n.slice(0,10))},[n]),_.jsxs("div",{className:"my-10",children:[_.jsxs("div",{className:"text-center py-8 text-3xl",children:[_.jsx(Vn,{text1:"LATEST",text2:"COLLECTIONS"}),_.jsx("p",{className:"w-3/4 m-auto text-xs sm:text-sm md:text-base text-gray-600",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the."})]}),_.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 gap-y-6",children:e.map((s,o)=>_.jsx(Ph,{id:s._id,image:s.image,name:s.name,price:s.price},o))})]})},FN=()=>{const{products:n}=H.useContext(en),[e,t]=H.useState([]);return H.useEffect(()=>{const s=n.filter(o=>o.bestseller);t(s.slice(0,5))},[n]),_.jsxs("div",{className:"my-10",children:[_.jsxs("div",{className:"text-center text-3xl py-8",children:[_.jsx(Vn,{text1:"BEST",text2:"SELLERS"}),_.jsx("p",{className:"w-3/4 m-auto text-xs sm:text-sm md:text-base text-gray-600",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the."})]}),_.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 gap-y-6",children:e.map((s,o)=>_.jsx(Ph,{id:s._id,name:s.name,image:s.image,price:s.price},o))})]})},BN=()=>_.jsxs("div",{className:"flex flex-col sm:flex-row justify-around gap-12 sm:gap-2 text-center py-20 text-xs sm:text-sm md:text-base text-gray-700",children:[_.jsxs("div",{children:[_.jsx("img",{src:Ke.exchange_icon,className:"w-12 m-auto mb-5",alt:""}),_.jsx("p",{className:" font-semibold",children:"Easy Exchange Policy"}),_.jsx("p",{className:" text-gray-400",children:"We offer hassle free  exchange policy"})]}),_.jsxs("div",{children:[_.jsx("img",{src:Ke.quality_icon,className:"w-12 m-auto mb-5",alt:""}),_.jsx("p",{className:" font-semibold",children:"7 Days Return Policy"}),_.jsx("p",{className:" text-gray-400",children:"We provide 7 days free return policy"})]}),_.jsxs("div",{children:[_.jsx("img",{src:Ke.support_img,className:"w-12 m-auto mb-5",alt:""}),_.jsx("p",{className:" font-semibold",children:"Best customer support"}),_.jsx("p",{className:" text-gray-400",children:"we provide 24/7 customer support"})]})]}),hm=()=>{const n=e=>{e.preventDefault()};return _.jsxs("div",{className:" text-center",children:[_.jsx("p",{className:"text-2xl font-medium text-gray-800",children:"Subscribe now & get 20% off"}),_.jsx("p",{className:"text-gray-400 mt-3",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry."}),_.jsxs("form",{onSubmit:n,className:"w-full sm:w-1/2 flex items-center gap-3 mx-auto my-6 border pl-3",children:[_.jsx("input",{className:"w-full sm:flex-1 outline-none",type:"email",placeholder:"Enter your email",required:!0}),_.jsx("button",{type:"submit",className:"bg-black text-white text-xs px-10 py-4",children:"SUBSCRIBE"})]})]})},zN=()=>_.jsxs("div",{children:[_.jsx(O1,{}),_.jsx(UN,{}),_.jsx(FN,{}),_.jsx(BN,{}),_.jsx(hm,{})]}),HN=()=>{const{products:n,search:e,showSearch:t}=H.useContext(en),[s,o]=H.useState(!1),[a,c]=H.useState([]),[d,p]=H.useState([]),[y,v]=H.useState([]),[E,T]=H.useState("relavent"),L=q=>{d.includes(q.target.value)?p(U=>U.filter(W=>W!==q.target.value)):p(U=>[...U,q.target.value])},b=q=>{y.includes(q.target.value)?v(U=>U.filter(W=>W!==q.target.value)):v(U=>[...U,q.target.value])},O=()=>{let q=n.slice();t&&e&&(q=q.filter(U=>U.name.toLowerCase().includes(e.toLowerCase()))),d.length>0&&(q=q.filter(U=>d.includes(U.category))),y.length>0&&(q=q.filter(U=>y.includes(U.subCategory))),c(q)},C=()=>{let q=a.slice();switch(E){case"low-high":c(q.sort((U,W)=>U.price-W.price));break;case"high-low":c(q.sort((U,W)=>W.price-U.price));break;default:O();break}};return H.useEffect(()=>{O()},[d,y,e,t,n]),H.useEffect(()=>{C()},[E]),_.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 sm:gap-10 pt-10 border-t",children:[_.jsxs("div",{className:"min-w-60",children:[_.jsxs("p",{onClick:()=>o(!s),className:"my-2 text-xl flex items-center cursor-pointer gap-2",children:["FILTERS",_.jsx("img",{className:`h-3 sm:hidden ${s?"rotate-90":""}`,src:Ke.dropdown_icon,alt:""})]}),_.jsxs("div",{className:`border border-gray-300 pl-5 py-3 mt-6 ${s?"":"hidden"} sm:block`,children:[_.jsx("p",{className:"mb-3 text-sm font-medium",children:"CATEGORIES"}),_.jsxs("div",{className:"flex flex-col gap-2 text-sm font-light text-gray-700",children:[_.jsxs("p",{className:"flex gap-2",children:[_.jsx("input",{className:"w-3",type:"checkbox",value:"Men",onChange:L})," Men"]}),_.jsxs("p",{className:"flex gap-2",children:[_.jsx("input",{className:"w-3",type:"checkbox",value:"Women",onChange:L})," Women"]}),_.jsxs("p",{className:"flex gap-2",children:[_.jsx("input",{className:"w-3",type:"checkbox",value:"Kids",onChange:L})," kids"]})]})]}),_.jsxs("div",{className:`border border-gray-300 pl-5 py-3 my-5 ${s?"":"hidden"} sm:block`,children:[_.jsx("p",{className:"mb-3 text-sm font-medium",children:"TYPE"}),_.jsxs("div",{className:"flex flex-col gap-2 text-sm font-light text-gray-700",children:[_.jsxs("p",{className:"flex gap-2",children:[_.jsx("input",{className:"w-3",type:"checkbox",value:"Topwear",onChange:b})," Topwear"]}),_.jsxs("p",{className:"flex gap-2",children:[_.jsx("input",{className:"w-3",type:"checkbox",value:"Bottomwear",onChange:b})," Bottomwear"]}),_.jsxs("p",{className:"flex gap-2",children:[_.jsx("input",{className:"w-3",type:"checkbox",value:"Winterwear",onChange:b})," Winterwear"]})]})]})]}),_.jsxs("div",{className:"flex-1",children:[_.jsxs("div",{className:"flex justify-between text-base sm:text-2xl mb-4",children:[_.jsx(Vn,{text1:"ALL",text2:"COLLECTIONS"}),_.jsxs("select",{onChange:q=>T(q.target.value),className:"border-2 border-gray-300 text-sm px-2",children:[_.jsx("option",{value:"relavent",children:"Sort by: Relavent"}),_.jsx("option",{value:"low-high",children:"Sort by: Low to High"}),_.jsx("option",{value:"high-low",children:"Sort by: High to Low"})]})]}),_.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 gap-y-6",children:a.map((q,U)=>_.jsx(Ph,{name:q.name,id:q._id,price:q.price,image:q.image},U))})]})]})},WN=()=>_.jsxs("div",{children:[_.jsx("div",{className:"text-2xl text-center pt-8 border-t",children:_.jsx(Vn,{text1:"ABOUT",text2:"US"})}),_.jsxs("div",{className:"my-10 flex flex-col md:flex-row gap-16",children:[_.jsx("img",{className:"w-full md:max-w-[450px]",src:Ke.about_img,alt:""}),_.jsxs("div",{className:"flex flex-col justify-center gap-6 md:w-2/4 text-gray-600",children:[_.jsx("p",{children:"Forever was born out of a passion for innovation and a desire to revolutionize the way people shop online. Our journey began with a simple idea: to provide a platform where customers can easily discover, explore, and purchase a wide range of products from the comfort of their homes."}),_.jsx("p",{children:"Since our inception, we've worked tirelessly to curate a diverse selection of high-quality products that cater to every taste and preference. From fashion and beauty to electronics and home essentials, we offer an extensive collection sourced from trusted brands and suppliers."}),_.jsx("b",{className:"text-gray-800",children:"Our Mission"}),_.jsx("p",{children:"Our mission at Forever is to empower customers with choice, convenience, and confidence. We're dedicated to providing a seamless shopping experience that exceeds expectations, from browsing and ordering to delivery and beyond."})]})]}),_.jsx("div",{className:" text-xl py-4",children:_.jsx(Vn,{text1:"WHY",text2:"CHOOSE US"})}),_.jsxs("div",{className:"flex flex-col md:flex-row text-sm mb-20",children:[_.jsxs("div",{className:"border px-10 md:px-16 py-8 sm:py-20 flex flex-col gap-5",children:[_.jsx("b",{children:"Quality Assurance:"}),_.jsx("p",{className:" text-gray-600",children:"We meticulously select and vet each product to ensure it meets our stringent quality standards."})]}),_.jsxs("div",{className:"border px-10 md:px-16 py-8 sm:py-20 flex flex-col gap-5",children:[_.jsx("b",{children:"Convenience:"}),_.jsx("p",{className:" text-gray-600",children:"With our user-friendly interface and hassle-free ordering process, shopping has never been easier."})]}),_.jsxs("div",{className:"border px-10 md:px-16 py-8 sm:py-20 flex flex-col gap-5",children:[_.jsx("b",{children:"Exceptional Customer Service:"}),_.jsx("p",{className:" text-gray-600",children:"Our team of dedicated professionals is here to assist you the way, ensuring your satisfaction is our top priority."})]})]}),_.jsx(hm,{})]}),qN=()=>_.jsxs("div",{children:[_.jsx("div",{className:"text-center text-2xl pt-10 border-t",children:_.jsx(Vn,{text1:"CONTACT",text2:"US"})}),_.jsxs("div",{className:"my-10 flex flex-col justify-center md:flex-row gap-10 mb-28",children:[_.jsx("img",{className:"w-full md:max-w-[480px]",src:Ke.contact_img,alt:""}),_.jsxs("div",{className:"flex flex-col justify-center items-start gap-6",children:[_.jsx("p",{className:"font-semibold text-xl text-gray-600",children:"Our Store"}),_.jsxs("p",{className:" text-gray-500",children:["54709 Willms Station ",_.jsx("br",{})," Suite 350, Washington, USA"]}),_.jsxs("p",{className:" text-gray-500",children:["Tel: (415) 555-0132 ",_.jsx("br",{})," Email: admin@forever.com"]}),_.jsx("p",{className:"font-semibold text-xl text-gray-600",children:"Careers at Forever"}),_.jsx("p",{className:" text-gray-500",children:"Learn more about our teams and job openings."}),_.jsx("button",{className:"border border-black px-8 py-4 text-sm hover:bg-black hover:text-white transition-all duration-500",children:"Explore Jobs"})]})]}),_.jsx(hm,{})]}),QN=({category:n,subCategory:e})=>{const{products:t}=H.useContext(en),[s,o]=H.useState([]);return H.useEffect(()=>{if(t.length>0){let a=t.slice();a=a.filter(c=>n===c.category),a=a.filter(c=>e===c.subCategory),o(a.slice(0,5))}},[t]),_.jsxs("div",{className:"my-24",children:[_.jsx("div",{className:" text-center text-3xl py-2",children:_.jsx(Vn,{text1:"RELATED",text2:"PRODUCTS"})}),_.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 gap-y-6",children:s.map((a,c)=>_.jsx(Ph,{id:a._id,name:a.name,price:a.price,image:a.image},c))})]})},KN=()=>{const{productId:n}=MT(),{products:e,currency:t,addToCart:s}=H.useContext(en),[o,a]=H.useState(!1),[c,d]=H.useState(""),[p,y]=H.useState(""),v=async()=>{e.map(E=>{if(E._id===n)return a(E),d(E.image[0]),null})};return H.useEffect(()=>{v()},[n,e]),o?_.jsxs("div",{className:"border-t-2 pt-10 transition-opacity ease-in duration-500 opacity-100",children:[_.jsxs("div",{className:"flex gap-12 sm:gap-12 flex-col sm:flex-row",children:[_.jsxs("div",{className:"flex-1 flex flex-col-reverse gap-3 sm:flex-row",children:[_.jsx("div",{className:"flex sm:flex-col overflow-x-auto sm:overflow-y-scroll justify-between sm:justify-normal sm:w-[18.7%] w-full",children:o.image.map((E,T)=>_.jsx("img",{onClick:()=>d(E),src:E,className:"w-[24%] sm:w-full sm:mb-3 flex-shrink-0 cursor-pointer",alt:""},T))}),_.jsx("div",{className:"w-full sm:w-[80%]",children:_.jsx("img",{className:"w-full h-auto",src:c,alt:""})})]}),_.jsxs("div",{className:"flex-1",children:[_.jsx("h1",{className:"font-medium text-2xl mt-2",children:o.name}),_.jsxs("div",{className:" flex items-center gap-1 mt-2",children:[_.jsx("img",{src:Ke.star_icon,alt:"",className:"w-3 5"}),_.jsx("img",{src:Ke.star_icon,alt:"",className:"w-3 5"}),_.jsx("img",{src:Ke.star_icon,alt:"",className:"w-3 5"}),_.jsx("img",{src:Ke.star_icon,alt:"",className:"w-3 5"}),_.jsx("img",{src:Ke.star_dull_icon,alt:"",className:"w-3 5"}),_.jsx("p",{className:"pl-2",children:"(122)"})]}),_.jsxs("p",{className:"mt-5 text-3xl font-medium",children:[t,o.price]}),_.jsx("p",{className:"mt-5 text-gray-500 md:w-4/5",children:o.description}),_.jsxs("div",{className:"flex flex-col gap-4 my-8",children:[_.jsx("p",{children:"Select Size"}),_.jsx("div",{className:"flex gap-2",children:o.sizes.map((E,T)=>_.jsx("button",{onClick:()=>y(E),className:`border py-2 px-4 bg-gray-100 ${E===p?"border-orange-500":""}`,children:E},T))})]}),_.jsx("button",{onClick:()=>s(o._id,p),className:"bg-black text-white px-8 py-3 text-sm active:bg-gray-700",children:"ADD TO CART"}),_.jsx("hr",{className:"mt-8 sm:w-4/5"}),_.jsxs("div",{className:"text-sm text-gray-500 mt-5 flex flex-col gap-1",children:[_.jsx("p",{children:"100% Original product."}),_.jsx("p",{children:"Cash on delivery is available on this product."}),_.jsx("p",{children:"Easy return and exchange policy within 7 days."})]})]})]}),_.jsxs("div",{className:"mt-20",children:[_.jsxs("div",{className:"flex",children:[_.jsx("b",{className:"border px-5 py-3 text-sm",children:"Description"}),_.jsx("p",{className:"border px-5 py-3 text-sm",children:"Reviews (122)"})]}),_.jsxs("div",{className:"flex flex-col gap-4 border px-6 py-6 text-sm text-gray-500",children:[_.jsx("p",{children:"An e-commerce website is an online platform that facilitates the buying and selling of products or services over the internet. It serves as a virtual marketplace where businesses and individuals can showcase their products, interact with customers, and conduct transactions without the need for a physical presence. E-commerce websites have gained immense popularity due to their convenience, accessibility, and the global reach they offer."}),_.jsx("p",{children:"E-commerce websites typically display products or services along with detailed descriptions, images, prices, and any available variations (e.g., sizes, colors). Each product usually has its own dedicated page with relevant information."})]})]}),_.jsx(QN,{category:o.category,subCategory:o.subCategory})]}):_.jsx("div",{className:" opacity-0"})},wE=()=>{const{currency:n,delivery_fee:e,getCartAmount:t}=H.useContext(en),s=t(),o=s+(s===0?0:e);return _.jsxs("div",{className:"w-full",children:[_.jsx("div",{className:"text-2xl",children:_.jsx(Vn,{text1:"CART",text2:"TOTALS"})}),_.jsxs("div",{className:"flex flex-col gap-2 mt-2 text-sm",children:[_.jsxs("div",{className:"flex justify-between",children:[_.jsx("p",{children:"Subtotal"}),_.jsxs("p",{children:[n,s,".00"]})]}),_.jsx("hr",{}),_.jsxs("div",{className:"flex justify-between",children:[_.jsx("p",{children:"Shipping Fee"}),_.jsxs("p",{children:[n,s===0?0:e,".00"]})]}),_.jsx("hr",{}),_.jsxs("div",{className:"flex justify-between",children:[_.jsx("b",{children:"Total"}),_.jsxs("b",{children:[n,o,".00"]})]})]})]})},$N=()=>{const{products:n,currency:e,cartItems:t,updateQuantity:s,removeFromCart:o,navigate:a,clearCart:c}=H.useContext(en),[d,p]=H.useState([]);H.useEffect(()=>{if(!t||typeof t!="object"||n.length===0){p([]);return}const E=new Set(n.map(({_id:L})=>L)),T=Object.entries(t).filter(([L,b])=>{const[O]=L.split("_");return b>0&&E.has(O)}).map(([L,b])=>{const[O,C]=L.split("_");return{key:L,_id:O,size:C,quantity:b}});p(T)},[t,n]);const y=E=>n.find(T=>T._id===E),v=E=>E?Array.isArray(E.image)&&E.image.length?E.image[0]:typeof E.image=="string"?E.image:Ke.logo:Ke.logo;return d.length===0?_.jsxs("div",{className:"empty-cart",style:{padding:"2rem",textAlign:"center"},children:[_.jsx("p",{children:"Your cart is empty."}),_.jsx("button",{onClick:()=>a("/"),style:{padding:"0.75rem 1.5rem",background:"#333",color:"#fff",border:"none",borderRadius:"4px"},children:"Continue Shopping"})]}):_.jsxs("div",{className:"cart-page",style:{maxWidth:"700px",margin:"2rem auto",padding:"1rem"},children:[_.jsx(Vn,{title:`Your Cart (${d.length} ${d.length===1?"item":"items"})`}),_.jsx("button",{onClick:()=>c(),style:{margin:"1rem 0",padding:"0.75rem 1.5rem",background:"orange",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Clear Cart"}),_.jsx("div",{className:"cart-items",children:d.map(({key:E,_id:T,size:L,quantity:b})=>{const O=y(T);return O?_.jsxs("div",{style:{display:"flex",marginBottom:"1.5rem",border:"1px solid #ccc",borderRadius:"6px",padding:"1rem",background:"#fff"},children:[_.jsx("img",{src:v(O),alt:O.name,style:{width:"120px",height:"120px",objectFit:"contain",borderRadius:"6px",marginRight:"1rem",background:"#fafafa"},onError:C=>{C.target.src=Ke.logo}}),_.jsxs("div",{style:{flex:1},children:[_.jsx("h3",{style:{margin:"0 0 0.5rem"},children:O.name}),_.jsxs("p",{children:[_.jsx("strong",{children:"Size:"})," ",L]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Price:"})," ",e,O.price]}),_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginTop:"1rem",marginBottom:"1rem"},children:[_.jsx("button",{onClick:()=>{b>1?s(T,L,b-1):o(T,L)},style:{backgroundColor:"#ff6b35",color:"#fff",border:"none",borderRadius:"4px",cursor:b>1?"pointer":"not-allowed",padding:"0.3rem 0.6rem"},disabled:b<=1,children:"-"}),_.jsx("input",{type:"number",min:"1",value:b,onChange:C=>{const q=Math.max(1,Number(C.target.value));s(T,L,q)},style:{width:"50px",textAlign:"center",borderRadius:"4px",border:"1px solid #ccc",padding:"0.3rem"}}),_.jsx("button",{onClick:()=>s(T,L,b+1),style:{backgroundColor:"#4caf50",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",padding:"0.3rem 0.6rem"},children:"+"})]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Subtotal:"})," ",e,(O.price*b).toFixed(2)]}),_.jsx("button",{onClick:()=>o(T,L),style:{backgroundColor:"#dc3545",color:"#fff",border:"none",borderRadius:"4px",padding:"0.5rem 1rem",cursor:"pointer"},children:"Remove"})]})]},E):null})}),_.jsx(wE,{})]})};var TE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},hv=Ue.createContext&&Ue.createContext(TE),GN=["attr","size","title"];function XN(n,e){if(n==null)return{};var t=JN(n,e),s,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(o=0;o<a.length;o++)s=a[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(n,s)&&(t[s]=n[s])}return t}function JN(n,e){if(n==null)return{};var t={};for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)){if(e.indexOf(s)>=0)continue;t[s]=n[s]}return t}function eh(){return eh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},eh.apply(this,arguments)}function dv(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,s)}return t}function th(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dv(Object(t),!0).forEach(function(s){YN(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):dv(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}function YN(n,e,t){return e=ZN(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ZN(n){var e=e2(n,"string");return typeof e=="symbol"?e:e+""}function e2(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var s=t.call(n,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function IE(n){return n&&n.map((e,t)=>Ue.createElement(e.tag,th({key:t},e.attr),IE(e.child)))}function dm(n){return e=>Ue.createElement(t2,eh({attr:th({},n.attr)},e),IE(n.child))}function t2(n){var e=t=>{var{attr:s,size:o,title:a}=n,c=XN(n,GN),d=o||t.size||"1em",p;return t.className&&(p=t.className),n.className&&(p=(p?p+" ":"")+n.className),Ue.createElement("svg",eh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,c,{className:p,style:th(th({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),a&&Ue.createElement("title",null,a),n.children)};return hv!==void 0?Ue.createElement(hv.Consumer,null,t=>e(t)):e(TE)}function n2(n){return dm({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}function r2(n){return dm({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(n)}function s2(n){return dm({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}const i2=()=>{const[n,e]=H.useState("Login"),{navigate:t}=H.useContext(en),[s,o]=H.useState(null),[a,c]=H.useState(""),[d,p]=H.useState(""),[y,v]=H.useState(""),E=async b=>{b.preventDefault();try{n==="Sign Up"?await eC(wn,y,d):await tC(wn,y,d)}catch(O){console.log(O)}},T=async()=>{if(y)try{await Zx(wn,y)}catch(b){console.log(b)}},L=()=>{const b=new Wr;/Mobi|Android/i.test(navigator.userAgent)?NC(wn,b).catch(C=>{}):SC(wn,b).then(()=>{}).catch(C=>{})};return H.useEffect(()=>{const b=wn.onAuthStateChanged(O=>{o(O),O&&t("/")});return()=>b()},[t]),_.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-200 px-4",children:_.jsxs("div",{className:"bg-white shadow-lg rounded-2xl w-full max-w-md p-8 border border-gray-100",children:[_.jsxs("div",{className:"text-center mb-6",children:[_.jsx("h1",{className:"text-3xl font-bold text-gray-900 tracking-wide",children:n==="Login"?"Welcome Back":"Join Our Fashion Family"}),_.jsx("p",{className:"text-sm text-gray-500 mt-1",children:n==="Login"?"Sign in to continue shopping the latest trends.":"Create your account to get started."})]}),_.jsxs("form",{onSubmit:E,className:"flex flex-col gap-5",children:[n==="Sign Up"&&_.jsxs("div",{className:"relative",children:[_.jsx(s2,{className:"absolute left-3 top-3 text-gray-400"}),_.jsx("input",{onChange:b=>c(b.target.value),value:a,type:"text",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black outline-none",placeholder:"Full Name",required:!0})]}),_.jsxs("div",{className:"relative",children:[_.jsx(n2,{className:"absolute left-3 top-3 text-gray-400"}),_.jsx("input",{onChange:b=>v(b.target.value),value:y,type:"email",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black outline-none",placeholder:"Email Address",required:!0})]}),_.jsxs("div",{className:"relative",children:[_.jsx(r2,{className:"absolute left-3 top-3 text-gray-400"}),_.jsx("input",{onChange:b=>p(b.target.value),value:d,type:"password",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black outline-none",placeholder:"Password",required:!0})]}),_.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[_.jsx("p",{onClick:T,className:"cursor-pointer hover:text-black",children:"Forgot your password?"}),n==="Login"?_.jsx("p",{onClick:()=>e("Sign Up"),className:"cursor-pointer hover:text-black",children:"Create account"}):_.jsx("p",{onClick:()=>e("Login"),className:"cursor-pointer hover:text-black",children:"Login Here"})]}),_.jsx("button",{className:"bg-black text-white font-medium py-2 rounded-lg hover:bg-gray-800 transition duration-200",children:n==="Login"?"Sign In":"Sign Up"})]}),_.jsxs("div",{className:"flex items-center my-5",children:[_.jsx("hr",{className:"flex-1 border-gray-300"}),_.jsx("span",{className:"px-2 text-gray-400 text-sm",children:"OR"}),_.jsx("hr",{className:"flex-1 border-gray-300"})]}),_.jsxs("button",{type:"button",onClick:L,className:"flex items-center justify-center gap-2 w-full border border-gray-300 py-2 rounded-lg hover:bg-gray-100 transition",children:[_.jsx("img",{src:"/google-icon.svg",alt:"Google",className:"w-5 h-5"}),"Continue with Google"]})]})})};function SE(n,e){return function(){return n.apply(e,arguments)}}const{toString:o2}=Object.prototype,{getPrototypeOf:fm}=Object,{iterator:kh,toStringTag:xE}=Symbol,Nh=(n=>e=>{const t=o2.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),nr=n=>(n=n.toLowerCase(),e=>Nh(e)===n),bh=n=>e=>typeof e===n,{isArray:oa}=Array,Nl=bh("undefined");function Ql(n){return n!==null&&!Nl(n)&&n.constructor!==null&&!Nl(n.constructor)&&dn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const CE=nr("ArrayBuffer");function a2(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&CE(n.buffer),e}const l2=bh("string"),dn=bh("function"),RE=bh("number"),Kl=n=>n!==null&&typeof n=="object",u2=n=>n===!0||n===!1,Rc=n=>{if(Nh(n)!=="object")return!1;const e=fm(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(xE in n)&&!(kh in n)},c2=n=>{if(!Kl(n)||Ql(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},h2=nr("Date"),d2=nr("File"),f2=nr("Blob"),p2=nr("FileList"),m2=n=>Kl(n)&&dn(n.pipe),g2=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||dn(n.append)&&((e=Nh(n))==="formdata"||e==="object"&&dn(n.toString)&&n.toString()==="[object FormData]"))},y2=nr("URLSearchParams"),[A2,v2,_2,E2]=["ReadableStream","Request","Response","Headers"].map(nr),w2=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $l(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let s,o;if(typeof n!="object"&&(n=[n]),oa(n))for(s=0,o=n.length;s<o;s++)e.call(null,n[s],s,n);else{if(Ql(n))return;const a=t?Object.getOwnPropertyNames(n):Object.keys(n),c=a.length;let d;for(s=0;s<c;s++)d=a[s],e.call(null,n[d],d,n)}}function PE(n,e){if(Ql(n))return null;e=e.toLowerCase();const t=Object.keys(n);let s=t.length,o;for(;s-- >0;)if(o=t[s],e===o.toLowerCase())return o;return null}const Si=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,kE=n=>!Nl(n)&&n!==Si;function fp(){const{caseless:n}=kE(this)&&this||{},e={},t=(s,o)=>{const a=n&&PE(e,o)||o;Rc(e[a])&&Rc(s)?e[a]=fp(e[a],s):Rc(s)?e[a]=fp({},s):oa(s)?e[a]=s.slice():e[a]=s};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&$l(arguments[s],t);return e}const T2=(n,e,t,{allOwnKeys:s}={})=>($l(e,(o,a)=>{t&&dn(o)?n[a]=SE(o,t):n[a]=o},{allOwnKeys:s}),n),I2=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),S2=(n,e,t,s)=>{n.prototype=Object.create(e.prototype,s),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},x2=(n,e,t,s)=>{let o,a,c;const d={};if(e=e||{},n==null)return e;do{for(o=Object.getOwnPropertyNames(n),a=o.length;a-- >0;)c=o[a],(!s||s(c,n,e))&&!d[c]&&(e[c]=n[c],d[c]=!0);n=t!==!1&&fm(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},C2=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const s=n.indexOf(e,t);return s!==-1&&s===t},R2=n=>{if(!n)return null;if(oa(n))return n;let e=n.length;if(!RE(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},P2=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&fm(Uint8Array)),k2=(n,e)=>{const s=(n&&n[kh]).call(n);let o;for(;(o=s.next())&&!o.done;){const a=o.value;e.call(n,a[0],a[1])}},N2=(n,e)=>{let t;const s=[];for(;(t=n.exec(e))!==null;)s.push(t);return s},b2=nr("HTMLFormElement"),O2=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,o){return s.toUpperCase()+o}),fv=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),D2=nr("RegExp"),NE=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),s={};$l(t,(o,a)=>{let c;(c=e(o,a,n))!==!1&&(s[a]=c||o)}),Object.defineProperties(n,s)},L2=n=>{NE(n,(e,t)=>{if(dn(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=n[t];if(dn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},V2=(n,e)=>{const t={},s=o=>{o.forEach(a=>{t[a]=!0})};return oa(n)?s(n):s(String(n).split(e)),t},M2=()=>{},j2=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function U2(n){return!!(n&&dn(n.append)&&n[xE]==="FormData"&&n[kh])}const F2=n=>{const e=new Array(10),t=(s,o)=>{if(Kl(s)){if(e.indexOf(s)>=0)return;if(Ql(s))return s;if(!("toJSON"in s)){e[o]=s;const a=oa(s)?[]:{};return $l(s,(c,d)=>{const p=t(c,o+1);!Nl(p)&&(a[d]=p)}),e[o]=void 0,a}}return s};return t(n,0)},B2=nr("AsyncFunction"),z2=n=>n&&(Kl(n)||dn(n))&&dn(n.then)&&dn(n.catch),bE=((n,e)=>n?setImmediate:e?((t,s)=>(Si.addEventListener("message",({source:o,data:a})=>{o===Si&&a===t&&s.length&&s.shift()()},!1),o=>{s.push(o),Si.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",dn(Si.postMessage)),H2=typeof queueMicrotask<"u"?queueMicrotask.bind(Si):typeof process<"u"&&process.nextTick||bE,W2=n=>n!=null&&dn(n[kh]),G={isArray:oa,isArrayBuffer:CE,isBuffer:Ql,isFormData:g2,isArrayBufferView:a2,isString:l2,isNumber:RE,isBoolean:u2,isObject:Kl,isPlainObject:Rc,isEmptyObject:c2,isReadableStream:A2,isRequest:v2,isResponse:_2,isHeaders:E2,isUndefined:Nl,isDate:h2,isFile:d2,isBlob:f2,isRegExp:D2,isFunction:dn,isStream:m2,isURLSearchParams:y2,isTypedArray:P2,isFileList:p2,forEach:$l,merge:fp,extend:T2,trim:w2,stripBOM:I2,inherits:S2,toFlatObject:x2,kindOf:Nh,kindOfTest:nr,endsWith:C2,toArray:R2,forEachEntry:k2,matchAll:N2,isHTMLForm:b2,hasOwnProperty:fv,hasOwnProp:fv,reduceDescriptors:NE,freezeMethods:L2,toObjectSet:V2,toCamelCase:O2,noop:M2,toFiniteNumber:j2,findKey:PE,global:Si,isContextDefined:kE,isSpecCompliantForm:U2,toJSONObject:F2,isAsyncFn:B2,isThenable:z2,setImmediate:bE,asap:H2,isIterable:W2};function xe(n,e,t,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),o&&(this.response=o,this.status=o.status?o.status:null)}G.inherits(xe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}});const OE=xe.prototype,DE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{DE[n]={value:n}});Object.defineProperties(xe,DE);Object.defineProperty(OE,"isAxiosError",{value:!0});xe.from=(n,e,t,s,o,a)=>{const c=Object.create(OE);return G.toFlatObject(n,c,function(p){return p!==Error.prototype},d=>d!=="isAxiosError"),xe.call(c,n.message,e,t,s,o),c.cause=n,c.name=n.name,a&&Object.assign(c,a),c};const q2=null;function pp(n){return G.isPlainObject(n)||G.isArray(n)}function LE(n){return G.endsWith(n,"[]")?n.slice(0,-2):n}function pv(n,e,t){return n?n.concat(e).map(function(o,a){return o=LE(o),!t&&a?"["+o+"]":o}).join(t?".":""):e}function Q2(n){return G.isArray(n)&&!n.some(pp)}const K2=G.toFlatObject(G,{},null,function(e){return/^is[A-Z]/.test(e)});function Oh(n,e,t){if(!G.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=G.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(O,C){return!G.isUndefined(C[O])});const s=t.metaTokens,o=t.visitor||v,a=t.dots,c=t.indexes,p=(t.Blob||typeof Blob<"u"&&Blob)&&G.isSpecCompliantForm(e);if(!G.isFunction(o))throw new TypeError("visitor must be a function");function y(b){if(b===null)return"";if(G.isDate(b))return b.toISOString();if(G.isBoolean(b))return b.toString();if(!p&&G.isBlob(b))throw new xe("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(b)||G.isTypedArray(b)?p&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function v(b,O,C){let q=b;if(b&&!C&&typeof b=="object"){if(G.endsWith(O,"{}"))O=s?O:O.slice(0,-2),b=JSON.stringify(b);else if(G.isArray(b)&&Q2(b)||(G.isFileList(b)||G.endsWith(O,"[]"))&&(q=G.toArray(b)))return O=LE(O),q.forEach(function(W,X){!(G.isUndefined(W)||W===null)&&e.append(c===!0?pv([O],X,a):c===null?O:O+"[]",y(W))}),!1}return pp(b)?!0:(e.append(pv(C,O,a),y(b)),!1)}const E=[],T=Object.assign(K2,{defaultVisitor:v,convertValue:y,isVisitable:pp});function L(b,O){if(!G.isUndefined(b)){if(E.indexOf(b)!==-1)throw Error("Circular reference detected in "+O.join("."));E.push(b),G.forEach(b,function(q,U){(!(G.isUndefined(q)||q===null)&&o.call(e,q,G.isString(U)?U.trim():U,O,T))===!0&&L(q,O?O.concat(U):[U])}),E.pop()}}if(!G.isObject(n))throw new TypeError("data must be an object");return L(n),e}function mv(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function pm(n,e){this._pairs=[],n&&Oh(n,this,e)}const VE=pm.prototype;VE.append=function(e,t){this._pairs.push([e,t])};VE.toString=function(e){const t=e?function(s){return e.call(this,s,mv)}:mv;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function $2(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ME(n,e,t){if(!e)return n;const s=t&&t.encode||$2;G.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let a;if(o?a=o(e,t):a=G.isURLSearchParams(e)?e.toString():new pm(e,t).toString(s),a){const c=n.indexOf("#");c!==-1&&(n=n.slice(0,c)),n+=(n.indexOf("?")===-1?"?":"&")+a}return n}class gv{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){G.forEach(this.handlers,function(s){s!==null&&e(s)})}}const jE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},G2=typeof URLSearchParams<"u"?URLSearchParams:pm,X2=typeof FormData<"u"?FormData:null,J2=typeof Blob<"u"?Blob:null,Y2={isBrowser:!0,classes:{URLSearchParams:G2,FormData:X2,Blob:J2},protocols:["http","https","file","blob","url","data"]},mm=typeof window<"u"&&typeof document<"u",mp=typeof navigator=="object"&&navigator||void 0,Z2=mm&&(!mp||["ReactNative","NativeScript","NS"].indexOf(mp.product)<0),eb=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",tb=mm&&window.location.href||"http://localhost",nb=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:mm,hasStandardBrowserEnv:Z2,hasStandardBrowserWebWorkerEnv:eb,navigator:mp,origin:tb},Symbol.toStringTag,{value:"Module"})),Kt={...nb,...Y2};function rb(n,e){return Oh(n,new Kt.classes.URLSearchParams,{visitor:function(t,s,o,a){return Kt.isNode&&G.isBuffer(t)?(this.append(s,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function sb(n){return G.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function ib(n){const e={},t=Object.keys(n);let s;const o=t.length;let a;for(s=0;s<o;s++)a=t[s],e[a]=n[a];return e}function UE(n){function e(t,s,o,a){let c=t[a++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),p=a>=t.length;return c=!c&&G.isArray(o)?o.length:c,p?(G.hasOwnProp(o,c)?o[c]=[o[c],s]:o[c]=s,!d):((!o[c]||!G.isObject(o[c]))&&(o[c]=[]),e(t,s,o[c],a)&&G.isArray(o[c])&&(o[c]=ib(o[c])),!d)}if(G.isFormData(n)&&G.isFunction(n.entries)){const t={};return G.forEachEntry(n,(s,o)=>{e(sb(s),o,t,0)}),t}return null}function ob(n,e,t){if(G.isString(n))try{return(e||JSON.parse)(n),G.trim(n)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(n)}const Gl={transitional:jE,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",o=s.indexOf("application/json")>-1,a=G.isObject(e);if(a&&G.isHTMLForm(e)&&(e=new FormData(e)),G.isFormData(e))return o?JSON.stringify(UE(e)):e;if(G.isArrayBuffer(e)||G.isBuffer(e)||G.isStream(e)||G.isFile(e)||G.isBlob(e)||G.isReadableStream(e))return e;if(G.isArrayBufferView(e))return e.buffer;if(G.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return rb(e,this.formSerializer).toString();if((d=G.isFileList(e))||s.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Oh(d?{"files[]":e}:e,p&&new p,this.formSerializer)}}return a||o?(t.setContentType("application/json",!1),ob(e)):e}],transformResponse:[function(e){const t=this.transitional||Gl.transitional,s=t&&t.forcedJSONParsing,o=this.responseType==="json";if(G.isResponse(e)||G.isReadableStream(e))return e;if(e&&G.isString(e)&&(s&&!this.responseType||o)){const c=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(d){if(c)throw d.name==="SyntaxError"?xe.from(d,xe.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Kt.classes.FormData,Blob:Kt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],n=>{Gl.headers[n]={}});const ab=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lb=n=>{const e={};let t,s,o;return n&&n.split(`
`).forEach(function(c){o=c.indexOf(":"),t=c.substring(0,o).trim().toLowerCase(),s=c.substring(o+1).trim(),!(!t||e[t]&&ab[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},yv=Symbol("internals");function rl(n){return n&&String(n).trim().toLowerCase()}function Pc(n){return n===!1||n==null?n:G.isArray(n)?n.map(Pc):String(n)}function ub(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(n);)e[s[1]]=s[2];return e}const cb=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function kf(n,e,t,s,o){if(G.isFunction(s))return s.call(this,e,t);if(o&&(e=t),!!G.isString(e)){if(G.isString(s))return e.indexOf(s)!==-1;if(G.isRegExp(s))return s.test(e)}}function hb(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function db(n,e){const t=G.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(n,s+t,{value:function(o,a,c){return this[s].call(this,e,o,a,c)},configurable:!0})})}let fn=class{constructor(e){e&&this.set(e)}set(e,t,s){const o=this;function a(d,p,y){const v=rl(p);if(!v)throw new Error("header name must be a non-empty string");const E=G.findKey(o,v);(!E||o[E]===void 0||y===!0||y===void 0&&o[E]!==!1)&&(o[E||p]=Pc(d))}const c=(d,p)=>G.forEach(d,(y,v)=>a(y,v,p));if(G.isPlainObject(e)||e instanceof this.constructor)c(e,t);else if(G.isString(e)&&(e=e.trim())&&!cb(e))c(lb(e),t);else if(G.isObject(e)&&G.isIterable(e)){let d={},p,y;for(const v of e){if(!G.isArray(v))throw TypeError("Object iterator must return a key-value pair");d[y=v[0]]=(p=d[y])?G.isArray(p)?[...p,v[1]]:[p,v[1]]:v[1]}c(d,t)}else e!=null&&a(t,e,s);return this}get(e,t){if(e=rl(e),e){const s=G.findKey(this,e);if(s){const o=this[s];if(!t)return o;if(t===!0)return ub(o);if(G.isFunction(t))return t.call(this,o,s);if(G.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=rl(e),e){const s=G.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||kf(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let o=!1;function a(c){if(c=rl(c),c){const d=G.findKey(s,c);d&&(!t||kf(s,s[d],d,t))&&(delete s[d],o=!0)}}return G.isArray(e)?e.forEach(a):a(e),o}clear(e){const t=Object.keys(this);let s=t.length,o=!1;for(;s--;){const a=t[s];(!e||kf(this,this[a],a,e,!0))&&(delete this[a],o=!0)}return o}normalize(e){const t=this,s={};return G.forEach(this,(o,a)=>{const c=G.findKey(s,a);if(c){t[c]=Pc(o),delete t[a];return}const d=e?hb(a):String(a).trim();d!==a&&delete t[a],t[d]=Pc(o),s[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return G.forEach(this,(s,o)=>{s!=null&&s!==!1&&(t[o]=e&&G.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(o=>s.set(o)),s}static accessor(e){const s=(this[yv]=this[yv]={accessors:{}}).accessors,o=this.prototype;function a(c){const d=rl(c);s[d]||(db(o,c),s[d]=!0)}return G.isArray(e)?e.forEach(a):a(e),this}};fn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);G.reduceDescriptors(fn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(s){this[t]=s}}});G.freezeMethods(fn);function Nf(n,e){const t=this||Gl,s=e||t,o=fn.from(s.headers);let a=s.data;return G.forEach(n,function(d){a=d.call(t,a,o.normalize(),e?e.status:void 0)}),o.normalize(),a}function FE(n){return!!(n&&n.__CANCEL__)}function aa(n,e,t){xe.call(this,n??"canceled",xe.ERR_CANCELED,e,t),this.name="CanceledError"}G.inherits(aa,xe,{__CANCEL__:!0});function BE(n,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?n(t):e(new xe("Request failed with status code "+t.status,[xe.ERR_BAD_REQUEST,xe.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function fb(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function pb(n,e){n=n||10;const t=new Array(n),s=new Array(n);let o=0,a=0,c;return e=e!==void 0?e:1e3,function(p){const y=Date.now(),v=s[a];c||(c=y),t[o]=p,s[o]=y;let E=a,T=0;for(;E!==o;)T+=t[E++],E=E%n;if(o=(o+1)%n,o===a&&(a=(a+1)%n),y-c<e)return;const L=v&&y-v;return L?Math.round(T*1e3/L):void 0}}function mb(n,e){let t=0,s=1e3/e,o,a;const c=(y,v=Date.now())=>{t=v,o=null,a&&(clearTimeout(a),a=null),n(...y)};return[(...y)=>{const v=Date.now(),E=v-t;E>=s?c(y,v):(o=y,a||(a=setTimeout(()=>{a=null,c(o)},s-E)))},()=>o&&c(o)]}const nh=(n,e,t=3)=>{let s=0;const o=pb(50,250);return mb(a=>{const c=a.loaded,d=a.lengthComputable?a.total:void 0,p=c-s,y=o(p),v=c<=d;s=c;const E={loaded:c,total:d,progress:d?c/d:void 0,bytes:p,rate:y||void 0,estimated:y&&d&&v?(d-c)/y:void 0,event:a,lengthComputable:d!=null,[e?"download":"upload"]:!0};n(E)},t)},Av=(n,e)=>{const t=n!=null;return[s=>e[0]({lengthComputable:t,total:n,loaded:s}),e[1]]},vv=n=>(...e)=>G.asap(()=>n(...e)),gb=Kt.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Kt.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Kt.origin),Kt.navigator&&/(msie|trident)/i.test(Kt.navigator.userAgent)):()=>!0,yb=Kt.hasStandardBrowserEnv?{write(n,e,t,s,o,a){const c=[n+"="+encodeURIComponent(e)];G.isNumber(t)&&c.push("expires="+new Date(t).toGMTString()),G.isString(s)&&c.push("path="+s),G.isString(o)&&c.push("domain="+o),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ab(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function vb(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function zE(n,e,t){let s=!Ab(e);return n&&(s||t==!1)?vb(n,e):e}const _v=n=>n instanceof fn?{...n}:n;function Vi(n,e){e=e||{};const t={};function s(y,v,E,T){return G.isPlainObject(y)&&G.isPlainObject(v)?G.merge.call({caseless:T},y,v):G.isPlainObject(v)?G.merge({},v):G.isArray(v)?v.slice():v}function o(y,v,E,T){if(G.isUndefined(v)){if(!G.isUndefined(y))return s(void 0,y,E,T)}else return s(y,v,E,T)}function a(y,v){if(!G.isUndefined(v))return s(void 0,v)}function c(y,v){if(G.isUndefined(v)){if(!G.isUndefined(y))return s(void 0,y)}else return s(void 0,v)}function d(y,v,E){if(E in e)return s(y,v);if(E in n)return s(void 0,y)}const p={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(y,v,E)=>o(_v(y),_v(v),E,!0)};return G.forEach(Object.keys({...n,...e}),function(v){const E=p[v]||o,T=E(n[v],e[v],v);G.isUndefined(T)&&E!==d||(t[v]=T)}),t}const HE=n=>{const e=Vi({},n);let{data:t,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:a,headers:c,auth:d}=e;e.headers=c=fn.from(c),e.url=ME(zE(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let p;if(G.isFormData(t)){if(Kt.hasStandardBrowserEnv||Kt.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((p=c.getContentType())!==!1){const[y,...v]=p?p.split(";").map(E=>E.trim()).filter(Boolean):[];c.setContentType([y||"multipart/form-data",...v].join("; "))}}if(Kt.hasStandardBrowserEnv&&(s&&G.isFunction(s)&&(s=s(e)),s||s!==!1&&gb(e.url))){const y=o&&a&&yb.read(a);y&&c.set(o,y)}return e},_b=typeof XMLHttpRequest<"u",Eb=_b&&function(n){return new Promise(function(t,s){const o=HE(n);let a=o.data;const c=fn.from(o.headers).normalize();let{responseType:d,onUploadProgress:p,onDownloadProgress:y}=o,v,E,T,L,b;function O(){L&&L(),b&&b(),o.cancelToken&&o.cancelToken.unsubscribe(v),o.signal&&o.signal.removeEventListener("abort",v)}let C=new XMLHttpRequest;C.open(o.method.toUpperCase(),o.url,!0),C.timeout=o.timeout;function q(){if(!C)return;const W=fn.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),oe={data:!d||d==="text"||d==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:W,config:n,request:C};BE(function(N){t(N),O()},function(N){s(N),O()},oe),C=null}"onloadend"in C?C.onloadend=q:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(q)},C.onabort=function(){C&&(s(new xe("Request aborted",xe.ECONNABORTED,n,C)),C=null)},C.onerror=function(){s(new xe("Network Error",xe.ERR_NETWORK,n,C)),C=null},C.ontimeout=function(){let X=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const oe=o.transitional||jE;o.timeoutErrorMessage&&(X=o.timeoutErrorMessage),s(new xe(X,oe.clarifyTimeoutError?xe.ETIMEDOUT:xe.ECONNABORTED,n,C)),C=null},a===void 0&&c.setContentType(null),"setRequestHeader"in C&&G.forEach(c.toJSON(),function(X,oe){C.setRequestHeader(oe,X)}),G.isUndefined(o.withCredentials)||(C.withCredentials=!!o.withCredentials),d&&d!=="json"&&(C.responseType=o.responseType),y&&([T,b]=nh(y,!0),C.addEventListener("progress",T)),p&&C.upload&&([E,L]=nh(p),C.upload.addEventListener("progress",E),C.upload.addEventListener("loadend",L)),(o.cancelToken||o.signal)&&(v=W=>{C&&(s(!W||W.type?new aa(null,n,C):W),C.abort(),C=null)},o.cancelToken&&o.cancelToken.subscribe(v),o.signal&&(o.signal.aborted?v():o.signal.addEventListener("abort",v)));const U=fb(o.url);if(U&&Kt.protocols.indexOf(U)===-1){s(new xe("Unsupported protocol "+U+":",xe.ERR_BAD_REQUEST,n));return}C.send(a||null)})},wb=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let s=new AbortController,o;const a=function(y){if(!o){o=!0,d();const v=y instanceof Error?y:this.reason;s.abort(v instanceof xe?v:new aa(v instanceof Error?v.message:v))}};let c=e&&setTimeout(()=>{c=null,a(new xe(`timeout ${e} of ms exceeded`,xe.ETIMEDOUT))},e);const d=()=>{n&&(c&&clearTimeout(c),c=null,n.forEach(y=>{y.unsubscribe?y.unsubscribe(a):y.removeEventListener("abort",a)}),n=null)};n.forEach(y=>y.addEventListener("abort",a));const{signal:p}=s;return p.unsubscribe=()=>G.asap(d),p}},Tb=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let s=0,o;for(;s<t;)o=s+e,yield n.slice(s,o),s=o},Ib=async function*(n,e){for await(const t of Sb(n))yield*Tb(t,e)},Sb=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},Ev=(n,e,t,s)=>{const o=Ib(n,e);let a=0,c,d=p=>{c||(c=!0,s&&s(p))};return new ReadableStream({async pull(p){try{const{done:y,value:v}=await o.next();if(y){d(),p.close();return}let E=v.byteLength;if(t){let T=a+=E;t(T)}p.enqueue(new Uint8Array(v))}catch(y){throw d(y),y}},cancel(p){return d(p),o.return()}},{highWaterMark:2})},Dh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",WE=Dh&&typeof ReadableStream=="function",xb=Dh&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),qE=(n,...e)=>{try{return!!n(...e)}catch{return!1}},Cb=WE&&qE(()=>{let n=!1;const e=new Request(Kt.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),wv=64*1024,gp=WE&&qE(()=>G.isReadableStream(new Response("").body)),rh={stream:gp&&(n=>n.body)};Dh&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!rh[e]&&(rh[e]=G.isFunction(n[e])?t=>t[e]():(t,s)=>{throw new xe(`Response type '${e}' is not supported`,xe.ERR_NOT_SUPPORT,s)})})})(new Response);const Rb=async n=>{if(n==null)return 0;if(G.isBlob(n))return n.size;if(G.isSpecCompliantForm(n))return(await new Request(Kt.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(G.isArrayBufferView(n)||G.isArrayBuffer(n))return n.byteLength;if(G.isURLSearchParams(n)&&(n=n+""),G.isString(n))return(await xb(n)).byteLength},Pb=async(n,e)=>{const t=G.toFiniteNumber(n.getContentLength());return t??Rb(e)},kb=Dh&&(async n=>{let{url:e,method:t,data:s,signal:o,cancelToken:a,timeout:c,onDownloadProgress:d,onUploadProgress:p,responseType:y,headers:v,withCredentials:E="same-origin",fetchOptions:T}=HE(n);y=y?(y+"").toLowerCase():"text";let L=wb([o,a&&a.toAbortSignal()],c),b;const O=L&&L.unsubscribe&&(()=>{L.unsubscribe()});let C;try{if(p&&Cb&&t!=="get"&&t!=="head"&&(C=await Pb(v,s))!==0){let oe=new Request(e,{method:"POST",body:s,duplex:"half"}),de;if(G.isFormData(s)&&(de=oe.headers.get("content-type"))&&v.setContentType(de),oe.body){const[N,S]=Av(C,nh(vv(p)));s=Ev(oe.body,wv,N,S)}}G.isString(E)||(E=E?"include":"omit");const q="credentials"in Request.prototype;b=new Request(e,{...T,signal:L,method:t.toUpperCase(),headers:v.normalize().toJSON(),body:s,duplex:"half",credentials:q?E:void 0});let U=await fetch(b,T);const W=gp&&(y==="stream"||y==="response");if(gp&&(d||W&&O)){const oe={};["status","statusText","headers"].forEach(x=>{oe[x]=U[x]});const de=G.toFiniteNumber(U.headers.get("content-length")),[N,S]=d&&Av(de,nh(vv(d),!0))||[];U=new Response(Ev(U.body,wv,N,()=>{S&&S(),O&&O()}),oe)}y=y||"text";let X=await rh[G.findKey(rh,y)||"text"](U,n);return!W&&O&&O(),await new Promise((oe,de)=>{BE(oe,de,{data:X,headers:fn.from(U.headers),status:U.status,statusText:U.statusText,config:n,request:b})})}catch(q){throw O&&O(),q&&q.name==="TypeError"&&/Load failed|fetch/i.test(q.message)?Object.assign(new xe("Network Error",xe.ERR_NETWORK,n,b),{cause:q.cause||q}):xe.from(q,q&&q.code,n,b)}}),yp={http:q2,xhr:Eb,fetch:kb};G.forEach(yp,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Tv=n=>`- ${n}`,Nb=n=>G.isFunction(n)||n===null||n===!1,QE={getAdapter:n=>{n=G.isArray(n)?n:[n];const{length:e}=n;let t,s;const o={};for(let a=0;a<e;a++){t=n[a];let c;if(s=t,!Nb(t)&&(s=yp[(c=String(t)).toLowerCase()],s===void 0))throw new xe(`Unknown adapter '${c}'`);if(s)break;o[c||"#"+a]=s}if(!s){const a=Object.entries(o).map(([d,p])=>`adapter ${d} `+(p===!1?"is not supported by the environment":"is not available in the build"));let c=e?a.length>1?`since :
`+a.map(Tv).join(`
`):" "+Tv(a[0]):"as no adapter specified";throw new xe("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return s},adapters:yp};function bf(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new aa(null,n)}function Iv(n){return bf(n),n.headers=fn.from(n.headers),n.data=Nf.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),QE.getAdapter(n.adapter||Gl.adapter)(n).then(function(s){return bf(n),s.data=Nf.call(n,n.transformResponse,s),s.headers=fn.from(s.headers),s},function(s){return FE(s)||(bf(n),s&&s.response&&(s.response.data=Nf.call(n,n.transformResponse,s.response),s.response.headers=fn.from(s.response.headers))),Promise.reject(s)})}const KE="1.11.0",Lh={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Lh[n]=function(s){return typeof s===n||"a"+(e<1?"n ":" ")+n}});const Sv={};Lh.transitional=function(e,t,s){function o(a,c){return"[Axios v"+KE+"] Transitional option '"+a+"'"+c+(s?". "+s:"")}return(a,c,d)=>{if(e===!1)throw new xe(o(c," has been removed"+(t?" in "+t:"")),xe.ERR_DEPRECATED);return t&&!Sv[c]&&(Sv[c]=!0,console.warn(o(c," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,c,d):!0}};Lh.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function bb(n,e,t){if(typeof n!="object")throw new xe("options must be an object",xe.ERR_BAD_OPTION_VALUE);const s=Object.keys(n);let o=s.length;for(;o-- >0;){const a=s[o],c=e[a];if(c){const d=n[a],p=d===void 0||c(d,a,n);if(p!==!0)throw new xe("option "+a+" must be "+p,xe.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new xe("Unknown option "+a,xe.ERR_BAD_OPTION)}}const kc={assertOptions:bb,validators:Lh},mr=kc.validators;let Ri=class{constructor(e){this.defaults=e||{},this.interceptors={request:new gv,response:new gv}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?a&&!String(s.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+a):s.stack=a}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Vi(this.defaults,t);const{transitional:s,paramsSerializer:o,headers:a}=t;s!==void 0&&kc.assertOptions(s,{silentJSONParsing:mr.transitional(mr.boolean),forcedJSONParsing:mr.transitional(mr.boolean),clarifyTimeoutError:mr.transitional(mr.boolean)},!1),o!=null&&(G.isFunction(o)?t.paramsSerializer={serialize:o}:kc.assertOptions(o,{encode:mr.function,serialize:mr.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),kc.assertOptions(t,{baseUrl:mr.spelling("baseURL"),withXsrfToken:mr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let c=a&&G.merge(a.common,a[t.method]);a&&G.forEach(["delete","get","head","post","put","patch","common"],b=>{delete a[b]}),t.headers=fn.concat(c,a);const d=[];let p=!0;this.interceptors.request.forEach(function(O){typeof O.runWhen=="function"&&O.runWhen(t)===!1||(p=p&&O.synchronous,d.unshift(O.fulfilled,O.rejected))});const y=[];this.interceptors.response.forEach(function(O){y.push(O.fulfilled,O.rejected)});let v,E=0,T;if(!p){const b=[Iv.bind(this),void 0];for(b.unshift(...d),b.push(...y),T=b.length,v=Promise.resolve(t);E<T;)v=v.then(b[E++],b[E++]);return v}T=d.length;let L=t;for(E=0;E<T;){const b=d[E++],O=d[E++];try{L=b(L)}catch(C){O.call(this,C);break}}try{v=Iv.call(this,L)}catch(b){return Promise.reject(b)}for(E=0,T=y.length;E<T;)v=v.then(y[E++],y[E++]);return v}getUri(e){e=Vi(this.defaults,e);const t=zE(e.baseURL,e.url,e.allowAbsoluteUrls);return ME(t,e.params,e.paramsSerializer)}};G.forEach(["delete","get","head","options"],function(e){Ri.prototype[e]=function(t,s){return this.request(Vi(s||{},{method:e,url:t,data:(s||{}).data}))}});G.forEach(["post","put","patch"],function(e){function t(s){return function(a,c,d){return this.request(Vi(d||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:c}))}}Ri.prototype[e]=t(),Ri.prototype[e+"Form"]=t(!0)});let Ob=class $E{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const s=this;this.promise.then(o=>{if(!s._listeners)return;let a=s._listeners.length;for(;a-- >0;)s._listeners[a](o);s._listeners=null}),this.promise.then=o=>{let a;const c=new Promise(d=>{s.subscribe(d),a=d}).then(o);return c.cancel=function(){s.unsubscribe(a)},c},e(function(a,c,d){s.reason||(s.reason=new aa(a,c,d),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new $E(function(o){e=o}),cancel:e}}};function Db(n){return function(t){return n.apply(null,t)}}function Lb(n){return G.isObject(n)&&n.isAxiosError===!0}const Ap={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ap).forEach(([n,e])=>{Ap[e]=n});function GE(n){const e=new Ri(n),t=SE(Ri.prototype.request,e);return G.extend(t,Ri.prototype,e,{allOwnKeys:!0}),G.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return GE(Vi(n,o))},t}const Je=GE(Gl);Je.Axios=Ri;Je.CanceledError=aa;Je.CancelToken=Ob;Je.isCancel=FE;Je.VERSION=KE;Je.toFormData=Oh;Je.AxiosError=xe;Je.Cancel=Je.CanceledError;Je.all=function(e){return Promise.all(e)};Je.spread=Db;Je.isAxiosError=Lb;Je.mergeConfig=Vi;Je.AxiosHeaders=fn;Je.formToJSON=n=>UE(G.isHTMLForm(n)?new FormData(n):n);Je.getAdapter=QE.getAdapter;Je.HttpStatusCode=Ap;Je.default=Je;const{Axios:Kb,AxiosError:$b,CanceledError:Gb,isCancel:Xb,CancelToken:Jb,VERSION:Yb,all:Zb,Cancel:eO,isAxiosError:tO,spread:nO,toFormData:rO,AxiosHeaders:sO,HttpStatusCode:iO,formToJSON:oO,getAdapter:aO,mergeConfig:lO}=Je,Vb=()=>{const[n,e]=H.useState("cod"),{navigate:t,backendUrl:s,token:o,cartItems:a,setCartItems:c,getCartAmount:d,delivery_fee:p,products:y}=H.useContext(en),[v,E]=H.useState({firstName:"",lastName:"",email:"",street:"",city:"",state:"",zipcode:"",country:"",phone:""}),T=O=>{const C=O.target.name,q=O.target.value;E(U=>({...U,[C]:q}))},L=O=>{const C={key:"-------- Paste Razorpay key Id --------",amount:O.amount,currency:O.currency,name:"Order Payment",description:"Order Payment",order_id:O.id,receipt:O.receipt,handler:async U=>{console.log(U);try{const{data:W}=await Je.post(s+"/api/order/verifyRazorpay",U,{headers:{token:o}});W.success&&(t("/orders"),c({}))}catch(W){console.log(W),ke.error(W)}}};new window.Razorpay(C).open()},b=async O=>{O.preventDefault();try{let C=[];for(const U in a)for(const W in a[U])if(a[U][W]>0){const X=structuredClone(y.find(oe=>oe._id===U));X&&(X.size=W,X.quantity=a[U][W],C.push(X))}let q={address:v,items:C,amount:d()+p};switch(n){case"cod":const U=await Je.post(s+"/api/order/place",q,{headers:{token:o}});U.data.success?(c({}),t("/orders")):ke.error(U.data.message);break;case"stripe":const W=await Je.post(s+"/api/order/stripe",q,{headers:{token:o}});if(W.data.success){const{session_url:oe}=W.data;window.location.replace(oe)}else ke.error(W.data.message);break;case"razorpay":const X=await Je.post(s+"/api/order/razorpay",q,{headers:{token:o}});X.data.success&&L(X.data.order);break;default:break}}catch(C){console.log(C),ke.error(C.message)}};return _.jsxs("form",{onSubmit:b,className:"flex flex-col sm:flex-row justify-between gap-4 pt-5 sm:pt-14 min-h-[80vh] border-t",children:[_.jsxs("div",{className:"flex flex-col gap-4 w-full sm:max-w-[480px]",children:[_.jsx("div",{className:"text-xl sm:text-2xl my-3",children:_.jsx(Vn,{text1:"DELIVERY",text2:"INFORMATION"})}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("input",{required:!0,onChange:T,name:"firstName",value:v.firstName,className:"border border-gray-300 rounded py-1.5 px-3.5 w-full",type:"text",placeholder:"First name"}),_.jsx("input",{required:!0,onChange:T,name:"lastName",value:v.lastName,className:"border border-gray-300 rounded py-1.5 px-3.5 w-full",type:"text",placeholder:"Last name"})]}),_.jsx("input",{required:!0,onChange:T,name:"email",value:v.email,className:"border border-gray-300 rounded py-1.5 px-3.5 w-full",type:"email",placeholder:"Email address"}),_.jsx("input",{required:!0,onChange:T,name:"street",value:v.street,className:"border border-gray-300 rounded py-1.5 px-3.5 w-full",type:"text",placeholder:"Street"}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("input",{required:!0,onChange:T,name:"city",value:v.city,className:"border border-gray-300 rounded py-1.5 px-3.5 w-full",type:"text",placeholder:"City"}),_.jsx("input",{onChange:T,name:"state",value:v.state,className:"border border-gray-300 rounded py-1.5 px-3.5 w-full",type:"text",placeholder:"State"})]}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("input",{required:!0,onChange:T,name:"zipcode",value:v.zipcode,className:"border border-gray-300 rounded py-1.5 px-3.5 w-full",type:"number",placeholder:"Zipcode"}),_.jsx("input",{required:!0,onChange:T,name:"country",value:v.country,className:"border border-gray-300 rounded py-1.5 px-3.5 w-full",type:"text",placeholder:"Country"})]}),_.jsx("input",{required:!0,onChange:T,name:"phone",value:v.phone,className:"border border-gray-300 rounded py-1.5 px-3.5 w-full",type:"number",placeholder:"Phone"})]}),_.jsxs("div",{className:"mt-8",children:[_.jsx("div",{className:"mt-8 min-w-80",children:_.jsx(wE,{})}),_.jsxs("div",{className:"mt-12",children:[_.jsx(Vn,{text1:"PAYMENT",text2:"METHOD"}),_.jsxs("div",{className:"flex gap-3 flex-col lg:flex-row",children:[_.jsxs("div",{onClick:()=>e("stripe"),className:"flex items-center gap-3 border p-2 px-3 cursor-pointer",children:[_.jsx("p",{className:`min-w-3.5 h-3.5 border rounded-full ${n==="stripe"?"bg-green-400":""}`}),_.jsx("img",{className:"h-5 mx-4",src:Ke.stripe_logo,alt:""})]}),_.jsxs("div",{onClick:()=>e("razorpay"),className:"flex items-center gap-3 border p-2 px-3 cursor-pointer",children:[_.jsx("p",{className:`min-w-3.5 h-3.5 border rounded-full ${n==="razorpay"?"bg-green-400":""}`}),_.jsx("img",{className:"h-5 mx-4",src:Ke.razorpay_logo,alt:""})]}),_.jsxs("div",{onClick:()=>e("cod"),className:"flex items-center gap-3 border p-2 px-3 cursor-pointer",children:[_.jsx("p",{className:`min-w-3.5 h-3.5 border rounded-full ${n==="cod"?"bg-green-400":""}`}),_.jsx("p",{className:"text-gray-500 text-sm font-medium mx-4",children:"CASH ON DELIVERY"})]})]}),_.jsx("div",{className:"w-full text-end mt-8",children:_.jsx("button",{type:"submit",className:"bg-black text-white px-16 py-3 text-sm",children:"PLACE ORDER"})})]})]})]})},Mb=()=>{const{backendUrl:n,token:e,currency:t}=H.useContext(en),[s,o]=H.useState([]),a=async()=>{try{if(!e)return null;const c=await Je.post(n+"/api/order/userorders",{},{headers:{token:e}});if(c.data.success){let d=[];c.data.orders.map(p=>{p.items.map(y=>{y.status=p.status,y.payment=p.payment,y.paymentMethod=p.paymentMethod,y.date=p.date,d.push(y)})}),o(d.reverse())}}catch{}};return H.useEffect(()=>{a()},[e]),_.jsxs("div",{className:"border-t pt-16",children:[_.jsx("div",{className:"text-2xl",children:_.jsx(Vn,{text1:"MY",text2:"ORDERS"})}),_.jsx("div",{children:s.map((c,d)=>_.jsxs("div",{className:"py-4 border-t border-b text-gray-700 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[_.jsxs("div",{className:"flex items-start gap-6 text-sm",children:[_.jsx("img",{className:"w-16 sm:w-20",src:c.image[0],alt:""}),_.jsxs("div",{children:[_.jsx("p",{className:"sm:text-base font-medium",children:c.name}),_.jsxs("div",{className:"flex items-center gap-3 mt-1 text-base text-gray-700",children:[_.jsxs("p",{children:[t,c.price]}),_.jsxs("p",{children:["Quantity: ",c.quantity]}),_.jsxs("p",{children:["Size: ",c.size]})]}),_.jsxs("p",{className:"mt-1",children:["Date: ",_.jsx("span",{className:" text-gray-400",children:new Date(c.date).toDateString()})]}),_.jsxs("p",{className:"mt-1",children:["Payment: ",_.jsx("span",{className:" text-gray-400",children:c.paymentMethod})]})]})]}),_.jsxs("div",{className:"md:w-1/2 flex justify-between",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("p",{className:"min-w-2 h-2 rounded-full bg-green-500"}),_.jsx("p",{className:"text-sm md:text-base",children:c.status})]}),_.jsx("button",{onClick:a,className:"border px-4 py-2 text-sm font-medium rounded-sm",children:"Track Order"})]})]},d))})]})},jb=()=>{const[n,e]=H.useState(!1),[t,s]=H.useState(null),{setShowSearch:o,getCartCount:a,navigate:c,setToken:d,setCartItems:p}=H.useContext(en),y=H.useRef(null);H.useEffect(()=>{const T=sC(wn,L=>{s(L)});return()=>T()},[]);const v=()=>{iC(wn).then(()=>{ke.success("Logged out successfully!"),c("/login"),p({})}).catch(T=>{console.error("Logout error:",T),ke.error(T.message)})};H.useEffect(()=>{const T=L=>{y.current&&!y.current.contains(L.target)&&e(!1)};return n?(document.addEventListener("mousedown",T),document.body.style.overflow="hidden",document.body.style.position="fixed"):(document.body.style.overflow="auto",document.body.style.position="static",document.removeEventListener("mousedown",T)),()=>{document.body.style.overflow="auto",document.body.style.position="static",document.removeEventListener("mousedown",T)}},[n]);const E=T=>T.split(" ").map(L=>L[0]).join("").toUpperCase();return _.jsxs("div",{className:"flex items-center justify-between bg-white py-5 font-medium sticky top-0 z-50 border-b sm:px-10 shadow-sm",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("img",{onClick:()=>e(!0),src:Ke.menu_icon,className:"w-8 cursor-pointer sm:hidden",alt:"Menu Icon"}),_.jsx(Oc,{to:"/",className:"flex items-center",children:_.jsx("img",{src:Ke.logo,className:"w-20 sm:w-36",alt:"Logo"})})]}),_.jsxs("ul",{className:"hidden sm:flex gap-5 text-sm text-gray-700",children:[_.jsxs(pr,{to:"/",className:"flex flex-col items-center gap-1 border-none",children:[_.jsx("p",{children:"HOME"}),_.jsx("hr",{className:"w-2/4 border-none h-[1.5px] bg-gray-700 hidden"})]}),_.jsxs(pr,{to:"/collection",className:"flex flex-col items-center gap-1 border-none",children:[_.jsx("p",{children:"COLLECTION"}),_.jsx("hr",{className:"w-2/4 border-none h-[1.5px] bg-gray-700 hidden"})]}),_.jsxs(pr,{to:"/about",className:"flex flex-col items-center gap-1 border-none",children:[_.jsx("p",{children:"ABOUT"}),_.jsx("hr",{className:"w-2/4 border-none h-[1.5px] bg-gray-700 hidden"})]}),_.jsxs(pr,{to:"/contact",className:"flex flex-col items-center gap-1 border-none",children:[_.jsx("p",{children:"CONTACT"}),_.jsx("hr",{className:"w-2/4 border-none h-[1.5px] bg-gray-700 hidden"})]})]}),_.jsxs("div",{className:"flex items-center gap-6",children:[_.jsx("img",{onClick:()=>{o(!0),c("/collection")},src:Ke.search_icon,className:"w-5 cursor-pointer",alt:"Search Icon"}),_.jsxs("div",{className:"group relative",children:[t?t.photoURL?_.jsx("img",{src:t.photoURL,alt:"User Avatar",className:"w-8 h-8 rounded-full object-cover cursor-pointer border"}):_.jsx("div",{className:"w-8 h-8 bg-gray-300 text-gray-800 flex items-center justify-center rounded-full cursor-pointer font-bold",children:E(t.displayName||t.email||"User")}):_.jsx("div",{className:"w-8 h-8 bg-gray-200 text-gray-400 flex items-center justify-center rounded-full cursor-pointer font-bold",children:_.jsx("span",{children:"?"})}),_.jsx("div",{className:"group-hover:block hidden absolute dropdown-menu right-0 pt-4",children:_.jsxs("div",{className:"flex flex-col gap-2 w-36 py-3 px-5 bg-slate-100 text-gray-500 rounded",children:[_.jsx("p",{className:"cursor-pointer hover:text-black",children:"My Profile"}),_.jsx("p",{onClick:()=>c("/orders"),className:"cursor-pointer hover:text-black",children:"Orders"}),t?_.jsx("p",{onClick:v,className:"cursor-pointer hover:text-black",children:"Logout"}):_.jsx("p",{onClick:()=>c("/login"),className:"cursor-pointer hover:text-black",children:"Login"})]})})]}),_.jsxs(Oc,{to:"/cart",className:"relative",children:[_.jsx("img",{src:Ke.cart_icon,className:"w-5 min-w-5",alt:"Cart Icon"}),_.jsx("p",{className:"absolute right-[-5px] bottom-[-5px] w-4 text-center leading-4 bg-black text-white aspect-square rounded-full text-[8px]",children:a()})]})]}),_.jsx("div",{ref:y,className:`fixed top-0 left-0 bottom-0 bg-white overflow-hidden transition-all duration-500 ease-in-out z-50 ${n?"w-1/2 opacity-100":"w-0 opacity-0"} sm:w-0`,children:_.jsxs("div",{className:"flex flex-col text-gray-600 h-full",children:[_.jsxs("div",{onClick:()=>e(!1),className:"flex items-center gap-4 p-3 cursor-pointer border-none",children:[_.jsx("img",{className:"h-4 rotate-180 ms-3",src:Ke.dropdown_icon,alt:"Close Icon"}),_.jsx("p",{children:"Close"})]}),_.jsx(pr,{onClick:()=>e(!1),className:"py-2 pl-6 hover:bg-gray-100 hover:text-black",to:"/",children:"HOME"}),_.jsx(pr,{onClick:()=>e(!1),className:"py-2 pl-6 hover:bg-gray-100 hover:text-black",to:"/collection",children:"COLLECTION"}),_.jsx(pr,{onClick:()=>e(!1),className:"py-2 pl-6 hover:bg-gray-100 hover:text-black",to:"/about",children:"ABOUT"}),_.jsx(pr,{onClick:()=>e(!1),className:"py-2 pl-6 hover:bg-gray-100 hover:text-black",to:"/contact",children:"CONTACT"}),_.jsx(pr,{onClick:()=>e(!1),className:"py-2 pl-6 hover:bg-gray-100 hover:text-black font-medium",to:"/account",children:"My Profile"}),t?_.jsx("button",{onClick:()=>{v(),e(!1)},className:"py-2 pl-6 text-red-600 font-medium text-left hover:bg-gray-100 hover:text-red-800",children:"Logout"}):_.jsx(pr,{onClick:()=>e(!1),className:"py-2 pl-6 text-blue-600 font-medium hover:bg-gray-100 hover:text-blue-800",to:"/login",children:"Login"})]})})]})},Ub=()=>_.jsxs("div",{children:[_.jsxs("div",{className:"flex flex-col sm:grid grid-cols-[3fr_1fr_1fr] gap-14 my-10 mt-40 text-sm",children:[_.jsxs("div",{children:[_.jsx("img",{src:Ke.logo,className:"mb-5 w-32",alt:""}),_.jsx("p",{className:"w-full md:w-2/3 text-gray-600",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book."})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-xl font-medium mb-5",children:"COMPANY"}),_.jsxs("ul",{className:"flex flex-col gap-1 text-gray-600",children:[_.jsx("li",{children:"Home"}),_.jsx("li",{children:"About us"}),_.jsx("li",{children:"Delivery"}),_.jsx("li",{children:"Privacy policy"})]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-xl font-medium mb-5",children:"GET IN TOUCH"}),_.jsxs("ul",{className:"flex flex-col gap-1 text-gray-600",children:[_.jsx("li",{children:"+1-212-456-7890"}),_.jsx("li",{children:"contact@foreveryou.com"})]})]})]}),_.jsxs("div",{children:[_.jsx("hr",{}),_.jsx("p",{className:"py-5 text-sm text-center",children:"Copyright 2024@ forever.com - All Right Reserved."})]})]}),Fb=()=>{const{search:n,setSearch:e,showSearch:t,setShowSearch:s}=H.useContext(en),[o,a]=H.useState(!1),c=Mi();return H.useEffect(()=>{c.pathname.includes("collection")?a(!0):a(!1)},[c]),t&&o?_.jsxs("div",{className:"border-t border-b bg-gray-50 text-center",children:[_.jsxs("div",{className:"inline-flex items-center justify-center border border-gray-400 px-5 py-2 my-5 mx-3 rounded-full w-3/4 sm:w-1/2",children:[_.jsx("input",{value:n,onChange:d=>e(d.target.value),className:"flex-1 outline-none bg-inherit text-sm",type:"text",placeholder:"Search"}),_.jsx("img",{className:"w-4",src:Ke.search_icon,alt:""})]}),_.jsx("img",{onClick:()=>s(!1),className:"inline w-3 cursor-pointer",src:Ke.cross_icon,alt:""})]}):null},Bb=()=>{const{navigate:n,token:e,setCartItems:t,backendUrl:s}=H.useContext(en),[o,a]=f1(),c=o.get("success"),d=o.get("orderId"),p=async()=>{try{if(!e)return null;(await Je.post(s+"/api/order/verifyStripe",{success:c,orderId:d},{headers:{token:e}})).data.success?(t({}),n("/orders")):n("/cart")}catch(y){console.log(y),ke.error(y.message)}};return H.useEffect(()=>{p()},[e]),_.jsx("div",{})},xv=["Arial Black, Arial Bold, Gadget, sans-serif",'"Times New Roman", Times, serif','"Courier New", Courier, monospace','"Comic Sans MS", cursive, sans-serif','"Lucida Console", Monaco, monospace','"Impact", Charcoal, sans-serif','"Brush Script MT", cursive','"Franklin Gothic Medium", "Arial Narrow", Arial, sans-serif','"Palatino Linotype", "Book Antiqua", Palatino, serif','"Trebuchet MS", Helvetica, sans-serif'],zb=()=>{const[n,e]=H.useState(!0),[t,s]=H.useState(0);return H.useEffect(()=>{const o=setInterval(()=>{s(c=>(c+1)%xv.length)},100),a=setTimeout(()=>e(!1),1500);return()=>{clearInterval(o),clearTimeout(a)}},[]),n?_.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"#fff",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},children:[_.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[_.jsx("span",{style:{fontSize:"2.5rem",fontWeight:"bold",color:"#222",marginBottom:"-1.5rem",letterSpacing:"0.1em",animation:"lets-fadeup 1s ease"},children:"Lets"}),_.jsx("span",{style:{fontSize:"8rem",fontWeight:"bold",color:"#222",fontFamily:xv[t],transition:"font-family 0.08s",animation:"v-bounce 1.5s ease"},children:"V"})]}),_.jsx("style",{children:`
          @keyframes v-bounce {
            0% { transform: scale(0.5) rotate(-30deg); opacity: 0; }
            50% { transform: scale(1.2) rotate(10deg); opacity: 1; }
            100% { transform: scale(1) rotate(0deg); opacity: 1; }
          }
          @keyframes lets-fadeup {
            0% { opacity: 0; transform: translateY(30px);}
            60% { opacity: 1; transform: translateY(-5px);}
            100% { opacity: 1; transform: translateY(0);}
          }
        `})]}):null},Hb=()=>_.jsxs("div",{className:"px-4 sm:px-[5vw] md:px-[7vw] lg:px-[9vw]",children:[_.jsx(pI,{}),_.jsx(zb,{}),_.jsx(jb,{}),_.jsx(Fb,{}),_.jsxs(ZT,{children:[_.jsx(Yn,{path:"/",element:_.jsx(zN,{})}),_.jsx(Yn,{path:"/collection",element:_.jsx(HN,{})}),_.jsx(Yn,{path:"/about",element:_.jsx(WN,{})}),_.jsx(Yn,{path:"/contact",element:_.jsx(qN,{})}),_.jsx(Yn,{path:"/product/:productId",element:_.jsx(KN,{})}),_.jsx(Yn,{path:"/cart",element:_.jsx($N,{})}),_.jsx(Yn,{path:"/login",element:_.jsx(i2,{})}),_.jsx(Yn,{path:"/place-order",element:_.jsx(Vb,{})}),_.jsx(Yn,{path:"/orders",element:_.jsx(Mb,{})}),_.jsx(Yn,{path:"/verify",element:_.jsx(Bb,{})})]}),_.jsx(Ub,{})]});uT.createRoot(document.getElementById("root")).render(_.jsx(l1,{children:_.jsx(jN,{children:_.jsx(Hb,{})})}));
